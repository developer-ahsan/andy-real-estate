<div class="flex flex-col flex-auto w-full">

    <div class="flex flex-wrap w-full   p-6 md:p-8">

        <!-- Title and action buttons -->
        <div class="flex items-center justify-between w-full">
            <div *ngIf="mainScreen!='sales'">
                <div class="text-3xl font-semibold tracking-tight leading-8">Dashboard</div>
                <div class="font-medium tracking-tight text-secondary">Monitor metrics, check reports and review
                    performance</div>
            </div>
            <div *ngIf="mainScreen == 'sales'">
                <div class="text-3xl font-semibold tracking-tight leading-8">Company Performance</div>
                <div class="font-medium tracking-tight text-secondary">The percentage values below are based on the same
                    range in last year's performance (i.e. YTD, for example, isn't including all of last year's sales,
                    but only comparing sales up until today's date last year).
                </div>
            </div>
            <div class="flex items-center ml-6">
                <mat-button-toggle-group #group="matButtonToggleGroup" [value]="mainScreen"
                    (change)="calledScreen(group.value)">
                    <mat-button-toggle value="sales">Sales Report</mat-button-toggle>
                    <mat-button-toggle value="status">Order Status Report</mat-button-toggle>
                    <mat-button-toggle value="generator">Generators</mat-button-toggle>
                </mat-button-toggle-group>
            </div>
        </div>
        <!-- Sales Report -->
        <div *ngIf="mainScreen == 'sales'" class="w-full">
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 w-full mt-8">
                <!-- YTD -->
                <div
                    class="sm:col-span-2 lg:col-span-1 flex flex-col flex-auto bg-card shadow rounded-2xl overflow-hidden">
                    <div class="flex items-start justify-between m-6 mb-0">
                        <div class="text-lg font-medium tracking-tight leading-6 truncate">YTD</div>
                        <div class="ml-2">
                            <button class="h-6 min-h-6 px-2 rounded-full bg-hover" mat-button
                                [matMenuTriggerFor]="conversionMenu">
                                <span class="font-medium text-sm text-secondary">30 days</span>
                            </button>
                            <mat-menu #conversionMenu="matMenu">
                                <button mat-menu-item>30 days</button>
                                <button mat-menu-item>3 months</button>
                                <button mat-menu-item>9 months</button>
                            </mat-menu>
                        </div>
                    </div>
                    <div class="flex flex-col lg:flex-row lg:items-center mx-6 mt-3">
                        <div class="text-7xl font-bold tracking-tighter leading-tight">{{data.conversions.amount |
                            number:'1.0-0'}}</div>
                        <div class="flex lg:flex-col lg:ml-3">
                            <mat-icon class="icon-size-5 text-red-500"
                                [svgIcon]="'heroicons_solid:trending-down'"></mat-icon>
                            <div
                                class="flex items-center ml-1 lg:ml-0 lg:mt-0.5 text-md leading-none whitespace-nowrap text-secondary">
                                <span class="font-medium text-red-500">2%</span>
                                <span class="ml-1">below target</span>
                            </div>
                        </div>
                    </div>
                    <div class="flex flex-col flex-auto h-20">
                        <apx-chart class="flex-auto w-full h-full" [chart]="chartConversions.chart"
                            [colors]="chartConversions.colors" [series]="chartConversions.series"
                            [stroke]="chartConversions.stroke" [tooltip]="chartConversions.tooltip"
                            [xaxis]="chartConversions.xaxis" [yaxis]="chartConversions.yaxis"></apx-chart>
                    </div>
                </div>
                <!-- MTD -->
                <div class="flex flex-col flex-auto bg-card shadow rounded-2xl overflow-hidden">
                    <div class="flex items-start justify-between m-6 mb-0">
                        <div class="text-lg font-medium tracking-tight leading-6 truncate">MTD</div>
                        <div class="ml-2">
                            <button class="h-6 min-h-6 px-2 rounded-full bg-hover" mat-button
                                [matMenuTriggerFor]="impressionsMenu">
                                <span class="font-medium text-sm text-secondary">30 days</span>
                            </button>
                            <mat-menu #impressionsMenu="matMenu">
                                <button mat-menu-item>30 days</button>
                                <button mat-menu-item>3 months</button>
                                <button mat-menu-item>9 months</button>
                            </mat-menu>
                        </div>
                    </div>
                    <div class="flex flex-col lg:flex-row lg:items-center mx-6 mt-3">
                        <div class="text-7xl font-bold tracking-tighter leading-tight">{{data.impressions.amount |
                            number:'1.0-0'}}</div>
                        <div class="flex lg:flex-col lg:ml-3">
                            <mat-icon class="icon-size-5 text-red-500"
                                [svgIcon]="'heroicons_solid:trending-down'"></mat-icon>
                            <div
                                class="flex items-center ml-1 lg:ml-0 lg:mt-0.5 text-md leading-none whitespace-nowrap text-secondary">
                                <span class="font-medium text-red-500">4%</span>
                                <span class="ml-1">below target</span>
                            </div>
                        </div>
                    </div>
                    <div class="flex flex-col flex-auto h-20">
                        <apx-chart class="flex-auto w-full h-full" [chart]="chartImpressions.chart"
                            [colors]="chartImpressions.colors" [series]="chartImpressions.series"
                            [stroke]="chartImpressions.stroke" [tooltip]="chartImpressions.tooltip"
                            [xaxis]="chartImpressions.xaxis" [yaxis]="chartImpressions.yaxis"></apx-chart>
                    </div>
                </div>
                <!-- WTD -->
                <div class="flex flex-col flex-auto bg-card shadow rounded-2xl overflow-hidden">
                    <div class="flex items-start justify-between m-6 mb-0">
                        <div class="text-lg font-medium tracking-tight leading-6 truncate">WTD</div>
                        <div class="ml-2">
                            <button class="h-6 min-h-6 px-2 rounded-full bg-hover" mat-button
                                [matMenuTriggerFor]="impressionsMenu">
                                <span class="font-medium text-sm text-secondary">30 days</span>
                            </button>
                            <mat-menu #impressionsMenu="matMenu">
                                <button mat-menu-item>30 days</button>
                                <button mat-menu-item>3 months</button>
                                <button mat-menu-item>9 months</button>
                            </mat-menu>
                        </div>
                    </div>
                    <div class="flex flex-col lg:flex-row lg:items-center mx-6 mt-3">
                        <div class="text-7xl font-bold tracking-tighter leading-tight">${{data.visits.amount |
                            number:'1.0-0'}}</div>
                        <div class="flex lg:flex-col lg:ml-3">
                            <mat-icon class="icon-size-5 text-red-500"
                                [svgIcon]="'heroicons_solid:trending-down'"></mat-icon>
                            <div
                                class="flex items-center ml-1 lg:ml-0 lg:mt-0.5 text-md leading-none whitespace-nowrap text-secondary">
                                <span class="font-medium text-red-500">4%</span>
                                <span class="ml-1">below target</span>
                            </div>
                        </div>
                    </div>
                    <div class="flex flex-col flex-auto h-20">
                        <apx-chart class="flex-auto w-full h-full" [chart]="chartVisits.chart"
                            [colors]="chartVisits.colors" [series]="chartVisits.series" [stroke]="chartVisits.stroke"
                            [tooltip]="chartVisits.tooltip" [xaxis]="chartVisits.xaxis"
                            [yaxis]="chartVisits.yaxis"></apx-chart>
                    </div>
                </div>
            </div>
            <!-- Your Performance -->
            <div class="flex flex-col flex-auto mt-8 bg-card shadow rounded-2xl overflow-hidden">
                <div class="flex items-start justify-between m-6 mb-0">
                    <div class="text-lg font-medium tracking-tight leading-6 truncate">Your Performance</div>
                    <div class="ml-2">
                        <button class="h-6 min-h-6 px-2 rounded-full bg-hover" mat-button
                            [matMenuTriggerFor]="conversionMenu">
                            <span class="font-medium text-sm text-secondary">30 days</span>
                        </button>
                        <mat-menu #conversionMenu="matMenu">
                            <button mat-menu-item>30 days</button>
                            <button mat-menu-item>3 months</button>
                            <button mat-menu-item>9 months</button>
                        </mat-menu>
                    </div>
                </div>
                <div class="flex items-start mt-6 mx-6">
                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-8 sm:gap-12">
                        <div class="flex flex-col">
                            <div class="flex items-center">
                                <div class="font-medium text-secondary leading-5">YTD</div>
                                <mat-icon class="ml-1.5 icon-size-4 text-hint"
                                    [svgIcon]="'heroicons_solid:information-circle'"
                                    [matTooltip]="'Score is calculated by using the historical ratio between Page Views and Visitors. Best score is 1000, worst score is 0.'"></mat-icon>
                            </div>
                            <div class="flex items-start mt-2">
                                <div class="text-4xl font-bold tracking-tight leading-none">
                                    {{data.visitorsVsPageViews.overallScore}}</div>
                                <div class="flex items-center ml-2">
                                    <mat-icon class="icon-size-5 text-green-500"
                                        [svgIcon]="'heroicons_solid:arrow-circle-up'"></mat-icon>
                                    <div class="ml-1 text-md font-medium text-green-500">42.9%</div>
                                </div>
                            </div>
                        </div>
                        <div class="flex flex-col">
                            <div class="flex items-center">
                                <div class="font-medium text-secondary leading-5">MTD</div>
                                <mat-icon class="ml-1.5 icon-size-4 text-hint"
                                    [svgIcon]="'heroicons_solid:information-circle'"
                                    [matTooltip]="'Average Ratio is the average ratio between Page Views and Visitors'"></mat-icon>
                            </div>
                            <div class="flex items-start mt-2">
                                <div class="text-4xl font-bold tracking-tight leading-none">
                                    {{data.visitorsVsPageViews.averageRatio | number:'1.0-0'}}%</div>
                                <div class="flex items-center ml-2">
                                    <mat-icon class="icon-size-5 text-red-500"
                                        [svgIcon]="'heroicons_solid:arrow-circle-down'"></mat-icon>
                                    <div class="ml-1 text-md font-medium text-red-500">13.1%</div>
                                </div>
                            </div>
                        </div>
                        <div class="flex flex-col">
                            <div class="flex items-center">
                                <div class="font-medium text-secondary leading-5">WTD</div>
                                <mat-icon class="ml-1.5 icon-size-4 text-hint"
                                    [svgIcon]="'heroicons_solid:information-circle'"
                                    [matTooltip]="'Predicted Ratio is calculated by using historical ratio, current trends and your goal targets.'"></mat-icon>
                            </div>
                            <div class="flex items-start mt-2">
                                <div class="text-4xl font-bold tracking-tight leading-none">
                                    {{data.visitorsVsPageViews.predictedRatio | number:'1.0-0'}}%</div>
                                <div class="flex items-center ml-2">
                                    <mat-icon class="icon-size-5 text-green-500"
                                        [svgIcon]="'heroicons_solid:arrow-circle-up'"></mat-icon>
                                    <div class="ml-1 text-md font-medium text-green-500">22.2%</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="flex flex-col flex-auto min-h-80 m-6">
                    <div class="row">
                        <!-- Year To Date Sales,By Store -->
                        <div class="col-12 col-md-4">
                            <div class="text-lg font-medium tracking-tight leading-6 truncate border-b">Year To Date
                                Sales,
                                By Store ($0.00)</div>
                            <div id="chart">
                                <apx-chart [series]="chartOptions.series" [chart]="chartOptions.chart"
                                    [labels]="chartOptions.labels" [responsive]="chartOptions.responsive"></apx-chart>
                            </div>
                        </div>
                        <div class="col-12 col-md-8">
                            <div class="row">
                                <div class="col-12 col-md-6">
                                    <div class="text-lg font-medium tracking-tight leading-6 truncate border-b">Q1</div>
                                    <fuse-alert class="mt-2" [appearance]="'soft'" [type]="'warning'">
                                        <mat-icon class="icon-size-5" fuseAlertIcon
                                            [svgIcon]="'heroicons_solid:lock-open'">
                                        </mat-icon>
                                        There is no data to show for this quarter.
                                    </fuse-alert>
                                </div>
                                <div class="col-12 col-md-6">
                                    <div class="text-lg font-medium tracking-tight leading-6 truncate border-b">Q2</div>
                                    <fuse-alert class="mt-2" [appearance]="'soft'" [type]="'warning'">
                                        <mat-icon class="icon-size-5" fuseAlertIcon
                                            [svgIcon]="'heroicons_solid:lock-open'">
                                        </mat-icon>
                                        There is no data to show for this quarter.
                                    </fuse-alert>
                                </div>
                                <div class="col-12 col-md-6">
                                    <div class="text-lg font-medium tracking-tight leading-6 truncate border-b">Q3</div>
                                    <fuse-alert class="mt-2" [appearance]="'soft'" [type]="'warning'">
                                        <mat-icon class="icon-size-5" fuseAlertIcon
                                            [svgIcon]="'heroicons_solid:lock-open'">
                                        </mat-icon>
                                        There is no data to show for this quarter.
                                    </fuse-alert>
                                </div>
                                <div class="col-12 col-md-6">
                                    <div class="text-lg font-medium tracking-tight leading-6 truncate border-b">Q4</div>
                                    <fuse-alert class="mt-2" [appearance]="'soft'" [type]="'warning'">
                                        <mat-icon class="icon-size-5" fuseAlertIcon
                                            [svgIcon]="'heroicons_solid:lock-open'">
                                        </mat-icon>
                                        There is no data to show for this quarter.
                                    </fuse-alert>
                                </div>
                            </div>
                        </div>
                        <!-- Year To Date Sales By Quarter, By Store ($0.00) -->
                        <div class="col-12">
                            <div class="text-lg font-medium tracking-tight leading-6 truncate border-b">Year To Date
                                Sales
                                By Quarter, By Store ($0.00)</div>
                            <mat-form-field class="w-full mt-2">
                                <mat-select matInput>
                                    <mat-option value="1">First Quarter</mat-option>
                                    <mat-option value="2">Second Quarter</mat-option>
                                    <mat-option value="3">Third Quarter</mat-option>
                                    <mat-option value="4">Fourth Quarter</mat-option>
                                    <mat-option value="5">YTD</mat-option>
                                </mat-select>
                            </mat-form-field>
                            <fuse-alert class="mt-2" [appearance]="'soft'" [type]="'warning'">
                                <mat-icon class="icon-size-5" fuseAlertIcon [svgIcon]="'heroicons_solid:lock-open'">
                                </mat-icon>
                                There is no YTD data to show for this employee.
                            </fuse-alert>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Portfolio Performance -->
            <div *ngIf="testData"
                class="flex flex-col flex-auto mt-8 p-6 bg-card shadow rounded-2xl overflow-hidden w-full">
                <div class="text-lg font-medium tracking-tight leading-6 truncate">Portfolio Performance</div>
                <div class="flex flex-col flex-auto mt-2 overflow-x-auto">
                    <table class="min-w-240 overflow-y-visible" mat-table [dataSource]="testData.budgetDetails.rows">

                        <!-- Type -->
                        <ng-container matColumnDef="type" sticky>
                            <th mat-header-cell *matHeaderCellDef>
                                Type
                            </th>
                            <td mat-cell *matCellDef="let budget">
                                <span class="flex items-center">
                                    <span class="w-2 h-2 rounded-full" [ngClass]="{'bg-blue-500': budget.id === 1,
                                                    'bg-red-500': budget.id === 2,
                                                    'bg-green-500': budget.id === 3,
                                                    'bg-amber-500': budget.id === 4,
                                                    'bg-indigo-500': budget.id === 5}"></span>
                                    <span class="ml-3 leading-4">{{budget.type}}</span>
                                </span>
                            </td>
                        </ng-container>

                        <!-- Total -->
                        <ng-container matColumnDef="total">
                            <th mat-header-cell *matHeaderCellDef>
                                Total Budget
                            </th>
                            <td mat-cell *matCellDef="let budget">
                                <span class="font-medium text-right">
                                    {{budget.total | currency:'USD'}}
                                </span>
                            </td>
                        </ng-container>

                        <!-- Expenses amount -->
                        <ng-container matColumnDef="expensesAmount">
                            <th mat-header-cell *matHeaderCellDef>
                                Expenses (USD)
                            </th>
                            <td mat-cell *matCellDef="let budget">
                                {{budget.expensesAmount | currency:'USD'}}
                            </td>
                        </ng-container>

                        <!-- Expenses percentage -->
                        <ng-container matColumnDef="expensesPercentage">
                            <th mat-header-cell *matHeaderCellDef>
                                Expenses (%)
                            </th>
                            <td mat-cell *matCellDef="let budget">
                                {{budget.expensesPercentage}}%
                            </td>
                        </ng-container>

                        <!-- Remaining amount -->
                        <ng-container matColumnDef="remainingAmount">
                            <th mat-header-cell *matHeaderCellDef>
                                Remaining (USD)
                            </th>
                            <td mat-cell *matCellDef="let budget">
                                {{budget.remainingAmount | currency:'USD'}}
                            </td>
                        </ng-container>

                        <!-- Remaining percentage -->
                        <ng-container matColumnDef="remainingPercentage">
                            <th mat-header-cell *matHeaderCellDef>
                                Remaining (%)
                            </th>
                            <td mat-cell *matCellDef="let budget">
                                <span class="flex items-center">
                                    <span>
                                        <!-- Low -->
                                        <span class="flex items-end w-1 h-4 bg-red-200 rounded overflow-hidden"
                                            *ngIf="budget.remainingPercentage < 30">
                                            <span class="flex w-full h-1/3 bg-red-600"></span>
                                        </span>
                                        <!-- Medium -->
                                        <span class="flex items-end w-1 h-4 bg-orange-200 rounded overflow-hidden"
                                            *ngIf="budget.remainingPercentage >= 30 && budget.remainingPercentage < 80">
                                            <span class="flex w-full h-2/4 bg-orange-400"></span>
                                        </span>
                                        <!-- High -->
                                        <span class="flex items-end w-1 h-4 bg-green-100 rounded overflow-hidden"
                                            *ngIf="budget.remainingPercentage >= 80">
                                            <span class="flex w-full h-full bg-green-400"></span>
                                        </span>
                                    </span>
                                    <span class="ml-3 leading-4">{{budget.remainingPercentage}}%</span>
                                </span>
                            </td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="testData.budgetDetails.columns"></tr>
                        <tr mat-row *matRowDef="let row; columns: testData.budgetDetails.columns;"></tr>
                    </table>

                </div>
            </div>
            <!-- Program Performance -->
            <div class="flex flex-col flex-auto mt-8 p-6 bg-card shadow rounded-2xl overflow-hidden w-full">
                <div class="text-lg font-medium tracking-tight leading-6 truncate">Program Performance</div>
                <div class="mt-2">
                    <img class="w-50" src="https://assets.consolidus.com/globalAssets/Stores/mastheads/145.gif">
                    <div class="row">
                        <div class="col-md-4 col-12">
                            <div class="font-medium text-secondary">YTD</div>
                            <div id="chart1">
                                <apx-chart [series]="chartOptions1.series" [chart]="chartOptions1.chart"
                                    [dataLabels]="chartOptions1.dataLabels" [plotOptions]="chartOptions1.plotOptions"
                                    [yaxis]="chartOptions1.yaxis" [legend]="chartOptions1.legend"
                                    [fill]="chartOptions1.fill" [stroke]="chartOptions1.stroke"
                                    [tooltip]="chartOptions1.tooltip" [xaxis]="chartOptions1.xaxis"></apx-chart>
                            </div>
                        </div>
                        <div class="col-md-4 col-12 ">
                            <div class="flex flex-col flex-auto">
                                <div class="font-medium text-secondary">YTD By Quarter</div>
                                <div class="flex flex-col flex-auto">
                                    <apx-chart class="flex-auto w-full h-80" [chart]="chartGithubIssues.chart"
                                        [colors]="chartGithubIssues.colors" [dataLabels]="chartGithubIssues.dataLabels"
                                        [grid]="chartGithubIssues.grid" [labels]="chartGithubIssues.labels"
                                        [legend]="chartGithubIssues.legend"
                                        [plotOptions]="chartGithubIssues.plotOptions"
                                        [series]="chartGithubIssues.series['last-week']"
                                        [states]="chartGithubIssues.states" [stroke]="chartGithubIssues.stroke"
                                        [tooltip]="chartGithubIssues.tooltip" [xaxis]="chartGithubIssues.xaxis"
                                        [yaxis]="chartGithubIssues.yaxis"></apx-chart>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 col-12 ">
                            <div class="flex flex-col flex-auto">
                                <div class="font-medium text-secondary">Annual Total Sales</div>
                                <div class="flex flex-col flex-auto">
                                    <apx-chart class="flex-auto w-full h-80" [chart]="chartGithubIssues.chart"
                                        [colors]="chartGithubIssues.colors" [dataLabels]="chartGithubIssues.dataLabels"
                                        [grid]="chartGithubIssues.grid" [labels]="chartGithubIssues.labels"
                                        [legend]="chartGithubIssues.legend"
                                        [plotOptions]="chartGithubIssues.plotOptions"
                                        [series]="chartGithubIssues.series['last-week']"
                                        [states]="chartGithubIssues.states" [stroke]="chartGithubIssues.stroke"
                                        [tooltip]="chartGithubIssues.tooltip" [xaxis]="chartGithubIssues.xaxis"
                                        [yaxis]="chartGithubIssues.yaxis"></apx-chart>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Order Status Report -->
        <div *ngIf="mainScreen == 'status'" class="w-full">
            <app-order-status-report></app-order-status-report>
        </div>
        <!-- Generators -->
        <div *ngIf="mainScreen == 'generator'" class="w-full">
            <app-order-generators></app-order-generators>
        </div>
    </div>

</div>