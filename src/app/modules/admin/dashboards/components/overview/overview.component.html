<div class="flex flex-col flex-auto w-full">

    <div class="flex flex-wrap w-full  p-6 md:p-8">

        <!-- Title and action buttons -->
        <div class="flex items-center justify-between w-full">
            <div>
                <div class="text-3xl font-semibold tracking-tight leading-8">Company Performance</div>
                <div class="font-medium tracking-tight text-secondary">The percentage values below are based on the same
                    range in last year's performance (i.e. YTD, for example, isn't including all of last year's sales,
                    but only comparing sales up until today's date last year).
                </div>
            </div>
        </div>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 w-full mt-8">
            <!-- Conversions -->
            <div class="sm:col-span-2 lg:col-span-1 flex flex-col flex-auto bg-card shadow rounded-2xl overflow-hidden">
                <div class="flex items-start justify-between m-6 mb-0">
                    <div class="text-lg font-medium tracking-tight leading-6 truncate">YTD</div>
                </div>
                <div class="flex flex-col lg:flex-row lg:items-center mx-6 mt-3">
                    <div class="text-4xl font-bold tracking-tighter leading-tight">$2,933,042
                        <!-- {{data.conversions.amount | number:'1.0-0'}} -->
                    </div>
                    <div class="flex lg:flex-col lg:ml-3">
                        <mat-icon class="icon-size-5 text-red-500"
                            [svgIcon]="'heroicons_solid:trending-down'"></mat-icon>
                        <div
                            class="flex items-center ml-1 lg:ml-0 lg:mt-0.5 text-md leading-none whitespace-nowrap text-secondary">
                            <span class="font-medium text-red-500">2%</span>
                            <span class="ml-1">below target</span>
                        </div>
                    </div>
                </div>
                <div class="flex flex-col flex-auto h-20">
                    <apx-chart class="flex-auto w-full h-full" [chart]="chartConversions.chart"
                        [colors]="chartConversions.colors" [series]="chartConversions.series"
                        [stroke]="chartConversions.stroke" [tooltip]="chartConversions.tooltip"
                        [xaxis]="chartConversions.xaxis" [yaxis]="chartConversions.yaxis"></apx-chart>
                </div>
            </div>
            <!-- Impressions -->
            <div class="flex flex-col flex-auto bg-card shadow rounded-2xl overflow-hidden">
                <div class="flex items-start justify-between m-6 mb-0">
                    <div class="text-lg font-medium tracking-tight leading-6 truncate">MTD</div>
                </div>
                <div class="flex flex-col lg:flex-row lg:items-center mx-6 mt-3">
                    <div class="text-4xl font-bold tracking-tighter leading-tight">
                        <!-- {{data.impressions.amount | number:'1.0-0'}} -->
                        $1,196,363
                    </div>
                    <div class="flex lg:flex-col lg:ml-3">
                        <mat-icon class="icon-size-5 text-red-500"
                            [svgIcon]="'heroicons_solid:trending-down'"></mat-icon>
                        <div
                            class="flex items-center ml-1 lg:ml-0 lg:mt-0.5 text-md leading-none whitespace-nowrap text-secondary">
                            <span class="font-medium text-red-500">4%</span>
                            <span class="ml-1">below target</span>
                        </div>
                    </div>
                </div>
                <div class="flex flex-col flex-auto h-20">
                    <apx-chart class="flex-auto w-full h-full" [chart]="chartImpressions.chart"
                        [colors]="chartImpressions.colors" [series]="chartImpressions.series"
                        [stroke]="chartImpressions.stroke" [tooltip]="chartImpressions.tooltip"
                        [xaxis]="chartImpressions.xaxis" [yaxis]="chartImpressions.yaxis"></apx-chart>
                </div>
            </div>
            <!-- Visits -->
            <div class="flex flex-col flex-auto bg-card shadow rounded-2xl overflow-hidden">
                <div class="flex items-start justify-between m-6 mb-0">
                    <div class="text-lg font-medium tracking-tight leading-6 truncate">WTD</div>
                </div>
                <div class="flex flex-col lg:flex-row lg:items-center mx-6 mt-3">
                    <div class="text-4xl font-bold tracking-tighter leading-tight">
                        $331,456,122
                        <!-- ${{data.visits.amount | number:'1.0-0'}} -->
                    </div>
                    <div class="flex lg:flex-col lg:ml-3">
                        <mat-icon class="icon-size-5 text-red-500"
                            [svgIcon]="'heroicons_solid:trending-down'"></mat-icon>
                        <div
                            class="flex items-center ml-1 lg:ml-0 lg:mt-0.5 text-md leading-none whitespace-nowrap text-secondary">
                            <span class="font-medium text-red-500">4%</span>
                            <span class="ml-1">below target</span>
                        </div>
                    </div>
                </div>
                <div class="flex flex-col flex-auto h-20">
                    <apx-chart class="flex-auto w-full h-full" [chart]="chartVisits.chart" [colors]="chartVisits.colors"
                        [series]="chartVisits.series" [stroke]="chartVisits.stroke" [tooltip]="chartVisits.tooltip"
                        [xaxis]="chartVisits.xaxis" [yaxis]="chartVisits.yaxis"></apx-chart>
                </div>
            </div>
        </div>
        <!-- Employee Performance -->
        <div class="flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden mt-8" *ngIf="dataProject">
            <div class="text-lg font-medium tracking-tight leading-6 truncate">Employee Performance</div>
            <div class="flex flex-col flex-auto mt-2 overflow-x-auto">
                <table class="min-w-240 overflow-y-visible" mat-table [dataSource]="employeePerformanceData">

                    <!-- Type -->
                    <ng-container matColumnDef="name" sticky>
                        <th mat-header-cell *matHeaderCellDef>
                            Employee
                        </th>
                        <td mat-cell *matCellDef="let element">
                            {{element.name}}
                        </td>
                    </ng-container>

                    <!-- Total -->
                    <ng-container matColumnDef="t_sales">
                        <th mat-header-cell *matHeaderCellDef>
                            Total Sales
                        </th>
                        <td mat-cell *matCellDef="let element">
                            {{element.t_sales | currency}}
                        </td>
                    </ng-container>

                    <!-- Expenses amount -->
                    <ng-container matColumnDef="n_sales">
                        <th mat-header-cell *matHeaderCellDef>
                            Number of Sales
                        </th>
                        <td mat-cell *matCellDef="let element">
                            {{element.n_sales}}
                        </td>
                    </ng-container>

                    <!-- Expenses percentage -->
                    <ng-container matColumnDef="a_sales">
                        <th mat-header-cell *matHeaderCellDef>
                            Average Sales
                        </th>
                        <td mat-cell *matCellDef="let element">
                            {{element.a_sales | currency}}
                        </td>
                    </ng-container>

                    <!-- Remaining amount -->
                    <ng-container matColumnDef="scr">
                        <th mat-header-cell *matHeaderCellDef>
                            Sample Conversion Rate
                        </th>
                        <td mat-cell *matCellDef="let element">
                            {{element.scr}}
                        </td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="employeePerformanceColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: employeePerformanceColumns;"></tr>
                </table>

            </div>
        </div>
        <!-- Program Performance -->
        <div class="flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden mt-8" *ngIf="dataProject">
            <div class="text-lg font-medium tracking-tight leading-6 truncate">Program Performance</div>
            <div class="flex flex-col flex-auto mt-2 overflow-x-auto">
                <table class="min-w-240 overflow-y-visible" mat-table [dataSource]="programPerformanceData">

                    <!-- Type -->
                    <ng-container matColumnDef="store" sticky>
                        <th mat-header-cell *matHeaderCellDef>
                            Store
                        </th>
                        <td mat-cell *matCellDef="let budget">
                            {{budget.store}}
                        </td>
                    </ng-container>

                    <!-- Total -->
                    <ng-container matColumnDef="sales">
                        <th mat-header-cell *matHeaderCellDef>
                            Sales
                        </th>
                        <td mat-cell *matCellDef="let budget">
                            <span class="font-medium text-right">
                                ${{budget.sales}}
                            </span>
                        </td>
                    </ng-container>

                    <!-- Expenses amount -->
                    <ng-container matColumnDef="py">
                        <th mat-header-cell *matHeaderCellDef>
                            <div class="flex">
                                <span>PY</span>
                                <mat-icon class="icon-size-4 ml-1" matTooltip="Previous year sales"
                                    [svgIcon]="'heroicons_solid:question-mark-circle'"></mat-icon>
                            </div>
                        </th>
                        <td mat-cell *matCellDef="let budget">
                            ${{budget.py}}
                        </td>
                    </ng-container>

                    <!-- Expenses percentage -->
                    <ng-container matColumnDef="percent">
                        <th mat-header-cell *matHeaderCellDef>
                            (%)
                        </th>
                        <td mat-cell *matCellDef="let budget">
                            <div class="flex">
                                <mat-icon class="icon-size-5 text-red-500"
                                    [svgIcon]="'heroicons_solid:trending-down'"></mat-icon>
                                <span class="text-red-500">{{budget.percent}}</span>
                            </div>
                        </td>
                    </ng-container>

                    <!-- Remaining amount -->
                    <ng-container matColumnDef="difference">
                        <th mat-header-cell *matHeaderCellDef>
                            <div class="flex">
                                <span>Diff</span>
                                <mat-icon class="icon-size-4 ml-1" matTooltip="Sales Difference"
                                    [svgIcon]="'heroicons_solid:question-mark-circle'"></mat-icon>
                            </div>
                        </th>
                        <td mat-cell *matCellDef="let budget" class="text-red-500">
                            {{budget.difference}}
                        </td>
                    </ng-container>

                    <!-- Remaining percentage -->
                    <ng-container matColumnDef="n_sales">
                        <th mat-header-cell *matHeaderCellDef>
                            <div class="flex">
                                <span>NS</span>
                                <mat-icon class="icon-size-4 ml-1" matTooltip="Number of sales"
                                    [svgIcon]="'heroicons_solid:question-mark-circle'"></mat-icon>
                            </div>
                        </th>
                        <td mat-cell *matCellDef="let budget">
                            {{budget.n_sales}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="pyns">
                        <th mat-header-cell *matHeaderCellDef>
                            <div class="flex">
                                <span>PYNS</span>
                                <mat-icon class="icon-size-4 ml-1" matTooltip="previous year number of sales"
                                    [svgIcon]="'heroicons_solid:question-mark-circle'"></mat-icon>
                            </div>
                        </th>
                        <td mat-cell *matCellDef="let budget">
                            {{budget.pyns}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="avg">
                        <th mat-header-cell *matHeaderCellDef>
                            <div class="flex">
                                <span>AVG</span>
                                <mat-icon class="icon-size-4 ml-1" matTooltip="Average sales"
                                    [svgIcon]="'heroicons_solid:question-mark-circle'"></mat-icon>
                            </div>
                        </th>
                        <td mat-cell *matCellDef="let budget">
                            {{budget.avg | currency}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="margin">
                        <th mat-header-cell *matHeaderCellDef>
                            Margin
                        </th>
                        <td mat-cell *matCellDef="let budget">
                            {{budget.margin}}
                        </td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="programPerformanceColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: programPerformanceColumns;"></tr>
                </table>

            </div>
        </div>
    </div>

</div>