<div class=" rounded-2xl shadow bg-card flex flex-col lg:flex-row w-full" #outerDiv>
    <div class="w-full">
        <div class="px-4 sm:px-4 lg:px-8 py-4">
            <div class="flex justify-between">
                <div class="text-2xl font-bold">
                    Imprint Details
                </div>
                <div>

                    <button class="min-w-40 mb-2" mat-button mat-stroked-button (click)="backToList()"
                        matTooltip="View all orders list">Back to List</button>
                </div>
            </div>
            <div *ngIf="isLoading" class="my-2 px-5">
                <ngx-skeleton-loader count="8" appearance="line" animation="pulse" [theme]="{ 
                    'background-color': '#dedede'
                  }">
                </ngx-skeleton-loader>
            </div>
            <div class="row" *ngIf="!isLoading">
                <div class="col-12 col-md-4 mt-1">
                    <button class="min-w-40 mb-2 mr-2" mat-button mat-flat-button color="primary"
                        (click)="backToListBySearch()" matTooltip="View all items on this order">View all items on this
                        order</button>
                    <mat-accordion multi>
                        <mat-expansion-panel (opened)="lastProof()">
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    Last Proof
                                </mat-panel-title>
                            </mat-expansion-panel-header>
                            <div class="mt-2">
                                <ngx-skeleton-loader *ngIf="lastProofLoader" count="2" appearance="line"
                                    animation="pulse" [theme]="{ 
                                    'background-color': '#dedede'
                                  }">
                                </ngx-skeleton-loader>
                                <div *ngIf="!lastProofLoader" class="py-2">
                                    <p>
                                        <span *ngIf="lastProofData != 'N/A'">{{lastProofData?.firstName + ' ' +
                                            lastProofData?.lastName}} @
                                            {{lastProofData?.proofSentDate | date:
                                            'MM/dd/yyyy | hh:mm a'}}</span>
                                        <span *ngIf="lastProofData == 'N/A'">{{lastProofData}}</span>
                                    </p>
                                    <!-- Claim Unclaim -->
                                    <div *ngIf="orderData.fk_smartArtDesignerClaimID;else claimItem">
                                        <ng-container
                                            *ngIf="orderData.fk_smartArtDesignerClaimID != userDetails.pk_userID">
                                            <div class="alert alert-warning small">
                                                <span class="fa fa-exclamation-circle"></span> Claimed:
                                                {{orderData.claimedUserName}}
                                            </div>
                                        </ng-container>
                                        <ng-container
                                            *ngIf="orderData.fk_smartArtDesignerClaimID == userDetails.pk_userID">
                                            <button (click)="updateClaim(orderData, false)" type="button"
                                                [disabled]="orderData?.isClaimLoader" matTooltip="Unclaim this item"
                                                class="text-white bg-red-500 px-2.5 py-1.5 text-md rounded">
                                                <span *ngIf="!orderData?.isClaimLoader">Unclaim</span>
                                                <mat-progress-spinner *ngIf="orderData?.isClaimLoader" [diameter]="24"
                                                    [mode]="'indeterminate'">
                                                </mat-progress-spinner>
                                            </button>
                                        </ng-container>
                                    </div>
                                    <ng-template #claimItem>
                                        <button (click)="updateClaim(orderData, true)" type="button"
                                            matTooltip="Unclaim this item"
                                            class="text-white bg-green-500 px-2.5 py-1.5 text-md rounded"
                                            [disabled]="orderData?.isClaimLoader">
                                            <span *ngIf="!orderData?.isClaimLoader">Claim</span>
                                            <mat-progress-spinner *ngIf="orderData?.isClaimLoader" [diameter]="24"
                                                [mode]="'indeterminate'">
                                            </mat-progress-spinner>
                                        </button>
                                    </ng-template>
                                </div>

                                <!-- <button *ngIf="!lastProofLoader"
                                    class="min-w-20 btn buttonComment hover:bg-gray-200">Claim</button> -->
                            </div>
                        </mat-expansion-panel>
                        <mat-expansion-panel [expanded]="true">
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    <span *ngIf="smartArtUser.blnMaster">Company Information</span>
                                    <span *ngIf="!smartArtUser.blnMaster">Contact Information</span>

                                </mat-panel-title>
                            </mat-expansion-panel-header>
                            <div *ngIf="smartArtUser.blnMaster">
                                <div><b>Company name:</b> {{orderData?.companyInformationName}}</div>
                                <div *ngIf="orderData?.fk_companyProfileID"><b>Location: </b>
                                    <span>{{orderData?.companyProfileName}}</span>
                                    <span *ngIf="orderData?.storeUserDepartmentsLocationName"> -
                                        {{orderData?.storeUserDepartmentsLocationName}} -
                                        {{orderData?.storeUserDepartmentsDepartmentName}}</span>
                                </div>
                                <div *ngIf="orderData.sessionArtworkBillingStudentOrgCode">
                                    <b>SABO: </b>
                                    {{orderData?.sessionArtworkBillingStudentOrgName}}
                                    ({{orderData?.sessionArtworkBillingStudentOrgCode}})<br />
                                </div>
                                <div *ngIf="orderData.sessionArtworkrutgersStudentType">
                                    <b>Campus:</b>
                                    {{orderData.sessionArtworkrutgersStudentType}}<br />
                                </div>
                                <div><b>Name:</b> {{orderData.sessionArtworkFirstName + ' ' +
                                    orderData.sessionArtworkLastName}}</div>
                                <div><b>Company:</b> {{orderData.companyInformationName}}</div>
                                <div><b>Address:</b>
                                    {{orderData.sessionArtworkAddress1[0]}}
                                    <span *ngIf="orderData.sessionArtworkAddress1[1]">
                                        {{orderData.sessionArtworkAddress1[1]}}<br />
                                    </span>
                                    {{orderData.sessionArtworkCity}}, {{orderData.sessionArtworkState}}
                                    {{orderData.sessionArtworkZipCode}}<br />
                                </div>
                                <div><b>Phone:</b> {{orderData.sessionArtworkDayPhone}}</div>
                                <div *ngIf="orderData.sessionArtworkDayFax"><b>Fax:</b>
                                    {{orderData.sessionArtworkDayFax}}</div>
                                <div><b>Email:</b>
                                    <!-- <div *ngIf="orderData.sessionProofEmails.length > 0">
                                        <p *ngFor="let email of orderData.sessionProofEmails">{{email}}</p>
                                    </div> -->
                                    <!-- *ngIf="orderData.sessionProofEmails.length == 0" -->
                                    <span>
                                        {{orderData.sessionArtworkEmail}}</span>
                                </div>
                                <div><b>Designer notes: </b>
                                    <a target="_blank" *ngIf="orderData.sessionArtworkDesignerNotes"
                                        [routerLink]="['/apps/customers',orderData.fk_storeUserID,'user-info']">Designer
                                        Notes</a>
                                    <span *ngIf="!orderData.sessionArtworkDesignerNotes">None</span>
                                </div>
                                <div class="space-y-1">
                                    <button class="min-w-60 btn buttonComment hover:bg-gray-200"
                                        (click)="customerEmail()">Email Customer</button>
                                    <br>
                                    <button [disabled]="isAutoRequestLoader" (click)="senAutoArtRequest()"
                                        class="min-w-60 btn buttonComment hover:bg-gray-200">
                                        <span *ngIf="!isAutoRequestLoader">Auto Art Request</span>
                                        <mat-progress-spinner *ngIf="isAutoRequestLoader" [diameter]="24"
                                            [mode]="'indeterminate'">
                                        </mat-progress-spinner>
                                    </button>
                                    <br>
                                    <a class="min-w-60 btn buttonComment hover:bg-gray-200"
                                        [routerLink]="['/apps/customers', orderData.fk_storeUserID, 'order-history']"
                                        target="_blank">Order
                                        History</a>
                                </div>
                            </div>
                            <div *ngIf="!smartArtUser.blnMaster">
                                Krysti Horvat<br />
                                Manager of Creative Services<br />
                                330.319.7202<br />
                                <a href="mailto:artwork@{{orderData?.sessionArtworkStoreName}}"
                                    class="text-lowercase">artwork@{{orderData?.sessionArtworkStoreName}}</a>
                                <br />
                                <div class="space-y-1">
                                    <button class="min-w-60 btn buttonComment hover:bg-gray-200"
                                        (click)="customerEmail()">Email Customer</button>
                                    <br>
                                    <button [disabled]="isAutoRequestLoader" (click)="senAutoArtRequest()"
                                        class="min-w-60 btn buttonComment hover:bg-gray-200">
                                        <span *ngIf="!isAutoRequestLoader">Auto Art Request</span>
                                        <mat-progress-spinner *ngIf="isAutoRequestLoader" [diameter]="24"
                                            [mode]="'indeterminate'">
                                        </mat-progress-spinner>
                                    </button>
                                    <br>
                                    <a class="min-w-60 btn buttonComment hover:bg-gray-200"
                                        [routerLink]="['/apps/customers', orderData.fk_storeUserID, 'order-history']"
                                        target="_blank">Order
                                        History</a>
                                </div>
                            </div>
                        </mat-expansion-panel>
                        <!-- Order Information -->
                        <mat-expansion-panel [expanded]="true">
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    Order Information
                                </mat-panel-title>
                            </mat-expansion-panel-header>
                            <div *ngIf="!smartArtUser.blnMaster">
                                <div><b>Order:</b> {{orderData.fk_orderID}}</div>
                                <div><b>Company:</b> {{orderData.companyInformationName}}</div>
                                <div *ngIf="orderData.locationName"><b>Location:</b> {{orderData?.attributeName}} <br>
                                    {{orderData.locationName}}</div>
                                <div><b>Customer Name:</b> {{orderData?.firstName + ' ' + orderData?.lastName}}</div>
                                <div><b>PO:</b> {{orderData.fk_orderID}}-{{paramData?.pk_orderLineID}}</div>
                                <div><b>Order Placed:</b> {{orderData.orderDate}}</div>
                                <div><b>Store: </b> <a
                                        href="{{orderData?.protocol}}{{orderData?.storeURL}}/{{orderData?.categoryPermalink}}/{{orderData?.subCategoryPermalink}}/{{orderData?.productPermaLink}}"
                                        target="_blank"> {{orderData.storeName}}</a></div>
                                <div><b>In-Hands:</b> {{orderData.inHandsDate }}</div>
                                <div><b>Rush:</b> {{orderData.sessionArtworkBlnRushOrder? 'YES' : 'NO'}}</div>
                            </div>
                            <div *ngIf="smartArtUser.blnMaster">
                                <div><b>Order: </b> <a [routerLink]="['/apps/orders',orderData.fk_orderID,'summary']"
                                        target="_blank">{{orderData.fk_orderID}}</a>
                                </div>
                                <div><b>Quote ID:</b> {{orderData.quoteID}}-{{paramData?.fk_imprintID}}</div>
                                <div><b>PO:</b> {{orderData.fk_orderID}}-{{paramData?.pk_orderLineID}}</div>
                                <div><b>Order Placed:</b> {{orderData.orderDate }}</div>
                                <div><b>Store: </b> <a
                                        href="{{orderData?.protocol}}{{orderData?.storeURL}}/{{orderData?.categoryPermalink}}/{{orderData?.subCategoryPermalink}}/{{orderData?.productPermaLink}}"
                                        target="_blank"> {{orderData.storeName}}</a></div>
                                <div><b>Brand Guide: </b>
                                    <a *ngIf="brandGuideExist" target="_blank"
                                        href="https://assets.consolidus.com/globalAssets/Stores/BrandGuide/{{orderData.pk_storeID}}.pdf">
                                        Click
                                        here</a>
                                    <span *ngIf="!brandGuideExist"> None</span>
                                </div>
                                <div><b>Rush:</b> {{orderData.sessionArtworkBlnRushOrder? 'YES' : 'NO'}}</div>
                                <div>
                                    <b>In-Hands:</b> (mm/dd/yyyy)
                                    <input type="date" [(ngModel)]="orderData.inHandsDate"
                                        class="block w-full rounded-md border-0 p-2.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"
                                        aria-describedby="email-optional">

                                    <!-- <mat-form-field class="fuse-mat-dense fuse-mat-no-subscript w-full min-w-50">
                                        <input matInput readonly [matDatepicker]="picker" (click)="picker.open()"
                                            [(ngModel)]="orderData.inHandsDate">
                                        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                                        <mat-datepicker #picker></mat-datepicker>
                                    </mat-form-field> -->
                                </div>
                                <div>
                                    <b>Event: </b>
                                    <mat-form-field class="fuse-mat-dense fuse-mat-no-subscript w-full min-w-50">
                                        <input matInput [(ngModel)]="orderData.event">
                                    </mat-form-field>
                                </div>
                                <div>
                                    <mat-checkbox [(ngModel)]="orderData.bypassScheduler"><b>Ignore
                                            Scheduler</b></mat-checkbox>
                                </div>
                                <div>
                                    <mat-checkbox
                                        [(ngModel)]="orderData.sessionArtwork_blnIgnoreAdditionalArtEmails"><b>Ignore
                                            additional proof emails</b>
                                        <mat-icon class="icon-size-4 ml-1" matTooltip="i.e. licensing forms, etc."
                                            [svgIcon]="'heroicons_solid:question-mark-circle'"></mat-icon>

                                    </mat-checkbox>
                                </div>
                                <div *ngIf="orderData.blnAdditionalArtApproval">
                                    <mat-form-field class="fuse-mat-dense fuse-mat-no-subscript w-full min-w-50">
                                        <mat-label>Additional Contacts</mat-label>
                                        <mat-select matInput [(ngModel)]="orderData.blnAdditionalApprovalOverride">
                                            <mat-option [value]="false">Enabled</mat-option>
                                            <mat-option [value]="true">Disabled</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div>
                                    <button class="min-w-40 btn buttonComment hover:bg-gray-200 mt-2"
                                        (click)="updateOrderInformation()" [disabled]="orderData.isOrderInfoLoader">
                                        <span *ngIf="!orderData.isOrderInfoLoader">Update</span>
                                        <mat-progress-spinner *ngIf="orderData.isOrderInfoLoader" [diameter]="24"
                                            [mode]="'indeterminate'">
                                        </mat-progress-spinner>
                                    </button>
                                </div>
                            </div>
                        </mat-expansion-panel>
                        <!-- Supplier -->
                        <mat-expansion-panel [expanded]="true">
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    Supplier Information
                                </mat-panel-title>
                            </mat-expansion-panel-header>
                            <div>
                                <div><b>SKU: </b>{{orderData.sessionArtwork_productNumber}}
                                    <p>{{orderData.sessionArtwork_sessionSupplierName}}</p>
                                    <p>{{orderData.sessionArtwork_sessionSupplierPhone}}</p>
                                </div>
                                <p *ngIf="orderData.sessionArtwork_decoratorASI">ASI:
                                    {{orderData.sessionArtwork_decoratorASI}}</p>
                                <p *ngIf="orderData.sessionArtwork_decoratorPPAI">PPAI:
                                    {{orderData.sessionArtwork_decoratorPPAI}}</p>
                                <a href="{{orderData.sessionArtwork_sessionSupplierSite}}"
                                    target="_blank">{{orderData.sessionArtwork_sessionSupplierSite}}</a>
                                <div *ngIf="orderData.sessionDecoratorEmails.length > 0">
                                    <p *ngFor="let item of orderData.sessionDecoratorEmails">{{item}}</p>
                                </div>
                                <p *ngIf="orderData.sessionDecoratorEmails.length == 0">NONE Provided</p>
                                <div *ngIf="orderData?.supplierLink"><b>Product Link: </b><a
                                        href="{{orderData.supplierLink}}" target="_blank">Click here</a></div>
                                <div>
                                    <div *ngIf="artWorkLoader">
                                        <mat-progress-spinner [diameter]="24" [mode]="'indeterminate'">
                                        </mat-progress-spinner>
                                    </div>
                                    <div *ngIf="!artWorkLoader && artworktemplatesData.length > 0">
                                        <b>Artwork Templates:</b>
                                        <span *ngIf="artworktemplatesData.length == 0"> NONE</span>
                                        <br>
                                        <div *ngFor="let item of artworktemplatesData">
                                            <a target="_blank"
                                                href="https://assets.consolidus.com/globalAssets/Products/ArtworkTemplates/{{item.fk_productID}}/{{item.pk_artworkTemplateID}}.{{item.extension}}">ArtworkTemplate</a>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <a target="_blank" class="min-w-40 btn buttonComment hover:bg-gray-200"
                                        [routerLink]="['/apps/ecommerce/inventory',orderData.fk_productID,'order-history']"
                                        routerLinkActive="router-link-active">
                                        <span>Product Order History</span>
                                    </a>
                                </div>
                            </div>
                        </mat-expansion-panel>
                        <!-- Decorator -->
                        <mat-expansion-panel [expanded]="true">
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    Decorator Information
                                </mat-panel-title>
                            </mat-expansion-panel-header>
                            <div>
                                <p>{{orderData.sessionArtwork_decoratorName || 'NONE'}}</p>
                                <p>{{orderData.sessionArtwork_decoratorPhone}}</p>
                                <p *ngIf="orderData.sessionArtwork_decoratorASI">ASI:
                                    {{orderData.sessionArtwork_decoratorASI}}</p>
                                <p *ngIf="orderData.sessionArtwork_decoratorPPAI">PPAI:
                                    {{orderData.sessionArtwork_decoratorPPAI}}</p>
                                <div *ngIf="orderData.sessionDecoratorEmails.length > 0">
                                    <p *ngFor="let item of orderData.sessionDecoratorEmails">{{item}}</p>
                                </div>
                                <p *ngIf="orderData.sessionDecoratorEmails.length == 0">NONE Provided</p>
                                <a href="{{orderData.sessionArtwork_decoratorSite}}"
                                    target="_blank">{{orderData.sessionArtwork_decoratorSite}}</a>
                            </div>
                        </mat-expansion-panel>
                        <!-- Comments -->
                        <mat-expansion-panel [expanded]="true">
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    Order comments
                                </mat-panel-title>
                            </mat-expansion-panel-header>
                            <div>
                                <fuse-alert *ngIf="!orderData.internalComments" class="my-2" [appearance]="'soft'"
                                    [type]="'warning'" [showIcon]="false">
                                    There are no comments on this order.
                                </fuse-alert>
                                <div *ngIf="orderData.internalComments" id="outerContainer" #commentsContainer
                                    class="mb-2 max-h-40 overflow-y-auto border p-2">
                                    <p [innerHTML]="orderData.internalComments"></p>
                                    <p id="scrollBottomComment" #scrollBottomComment></p>
                                </div>
                                <mat-form-field class="w-full">
                                    <mat-label>Leave a comment</mat-label>
                                    <textarea matInput [(ngModel)]="ngComment"></textarea>
                                </mat-form-field>
                                <button [disabled]="isAddCommentLoader" (click)="addComment()"
                                    class="min-w-40 btn buttonComment hover:bg-gray-200">
                                    <span *ngIf="!isAddCommentLoader">Add Comment</span>
                                    <mat-progress-spinner *ngIf="isAddCommentLoader" [diameter]="24"
                                        [mode]="'indeterminate'">
                                    </mat-progress-spinner>
                                </button>
                            </div>
                        </mat-expansion-panel>
                        <!-- Purchase Comments -->
                        <mat-expansion-panel>
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    Purchase Order Comments
                                </mat-panel-title>
                            </mat-expansion-panel-header>
                            <div>
                                <mat-form-field class="w-full mt-2">
                                    <mat-select [(ngModel)]="selectedImprint"
                                        (selectionChange)="onChangePurchaseComments($event)">
                                        <mat-option *ngFor="let imprint of imprintdata"
                                            [value]="imprint.pk_imprintID">({{imprint.pk_imprintID}})
                                            {{imprint.locationName}}/{{imprint.decorationName}}</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <!-- <mat-form-field class="w-full"> -->
                                <div class="mb-2">
                                    <quill-editor [modules]="quillModules" [(ngModel)]="selectedPOComments">
                                    </quill-editor>
                                </div>
                                <!-- <textarea matInput></textarea> -->
                                <!-- </mat-form-field> -->
                                <div>
                                    <button [disabled]="imprintPurchaseCommentLoader" (click)="updatePurchaseComments()"
                                        class="min-w-40 btn buttonComment hover:bg-gray-200">
                                        <span *ngIf="!imprintPurchaseCommentLoader">Update Comment</span>
                                        <mat-progress-spinner *ngIf="imprintPurchaseCommentLoader" [diameter]="24"
                                            [mode]="'indeterminate'">
                                        </mat-progress-spinner>
                                    </button>
                                    <!-- <button class="min-w-40 btn buttonComment hover:bg-gray-200">Update Comment</button> -->
                                </div>
                            </div>
                        </mat-expansion-panel>
                        <!-- Manually Update Proof -->
                        <mat-expansion-panel>
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    Manually Update Proof
                                </mat-panel-title>
                            </mat-expansion-panel-header>
                            <div>
                                <p class="text-red-500 text-sm">
                                    Manually updating a proof for an imprint will not change the status, nor will it
                                    notify the customer.
                                </p>
                                <mat-form-field class="w-full mt-2">
                                    <mat-select [(ngModel)]="selectedProofImprint">
                                        <mat-option *ngFor="let imprint of imprintdata"
                                            [value]="imprint.pk_imprintID">({{imprint.pk_imprintID}})
                                            {{imprint.locationName}}/{{imprint.decorationName}}</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <mat-label>Select a new proof image file:</mat-label>
                                <br>
                                <input type="file" accept=".jpg" id="image" #manualProofFileInput
                                    (change)="uploadFile($event)">
                                <div class="mt-3">
                                    <button [disabled]="isManualProofLoader" (click)="uploadProofMedia()"
                                        class="min-w-40 btn buttonComment hover:bg-gray-200">
                                        <span *ngIf="!isManualProofLoader">Update Proof</span>
                                        <mat-progress-spinner *ngIf="isManualProofLoader" [diameter]="24"
                                            [mode]="'indeterminate'">
                                        </mat-progress-spinner>
                                    </button>
                                </div>
                            </div>
                        </mat-expansion-panel>
                        <!-- Artwork tags for CLC report -->
                        <mat-expansion-panel>
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    Artwork tags for CLC report
                                </mat-panel-title>
                            </mat-expansion-panel-header>
                            <div>
                                <p class="text-secondary text-sm">
                                    For any stores using CLC Reporting functionality, we must designate the Artwork
                                    Tag(s) for each product by selecting them from the list below.
                                </p>
                                <div>
                                    <fuse-alert *ngIf="artworkTags.length == 0" class="my-2" [appearance]="'outline'"
                                        [type]="'warning'" [showIcon]="false">
                                        This order has no artwork tags.
                                    </fuse-alert>
                                </div>
                                <div class="mt-3" *ngIf="artworkTags.length">
                                    <div>
                                        <mat-form-field class="w-full">
                                            <mat-select matInput [(ngModel)]="selectedArtworkTags" [multiple]="true">
                                                <mat-option *ngFor="let item of artworkTags"
                                                    [value]="item.pk_artworkTagID">{{item.name}}</mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <button class="min-w-40 btn buttonComment hover:bg-gray-200"
                                        [disabled]="artworkTags.updateLoader" (click)="updateArtWorkTags()">
                                        <span *ngIf="!artworkTags.updateLoader">Update artwork tags</span>
                                        <mat-progress-spinner *ngIf="artworkTags.updateLoader" [diameter]="24"
                                            [mode]="'indeterminate'">
                                        </mat-progress-spinner>
                                    </button>
                                </div>
                            </div>
                        </mat-expansion-panel>
                        <!-- Upload Virtual Proof -->
                        <mat-expansion-panel>
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    Upload Virtual Proof
                                </mat-panel-title>
                            </mat-expansion-panel-header>
                            <div class="space-y-2">
                                <p class="text-secondary text-md">Uploading a virtual proof will add to the product
                                    images for
                                    this product on the SmartSite, as well as appear to the customer in various emails
                                    and account detail areas.</p>
                                <p class="text-red-500 text-md">
                                    Virtual proof images must be at least 600px by 600px, but no larger than 1500px by
                                    1500px. The larger the better. JPG format only.
                                </p>
                                <input type="file" #virtualProofInput accept=".jpg"
                                    (change)="uploadFilesCommonFn($event, 'virtualProof')">
                                <div>
                                    <mat-checkbox [(ngModel)]="orderData.blnStoreImage"><b>Include on store as an
                                            image</b></mat-checkbox>
                                </div>
                                <div>
                                    <button class="min-w-40 btn buttonComment hover:bg-gray-200"
                                        (click)="uploadVirtualProof()">
                                        <mat-progress-spinner *ngIf="VirtualProofImageLoader" [diameter]="24"
                                            [mode]="'indeterminate'">
                                        </mat-progress-spinner>
                                        <span *ngIf="!VirtualProofImageLoader">Upload</span>
                                    </button>
                                </div>
                                <div class="mt-2">
                                    <div *ngIf="artWorkLoader">
                                        <mat-progress-spinner [diameter]="24" [mode]="'indeterminate'">
                                        </mat-progress-spinner>
                                    </div>
                                    <div *ngIf="!artWorkLoader && virtualProofData.length">
                                        <p class="text-secondary text-sm w-full border-b">Existing Virtual Proof Images
                                        </p>
                                        <div class="row mt-2">
                                            <div class="col-6 col-md-3 text-center"
                                                *ngFor="let item of virtualProofData">
                                                <img class="w-full border"
                                                    src="https://assets.consolidus.com/globalAssets/StoreProducts/VirtualProofs/{{item.fk_storeProductID}}/{{item.pk_virtualProofID}}.jpg?{{randomString}}">
                                                <mat-icon class="icon-size-7 text-red-500 cursor-pointer"
                                                    (click)="removeVirtualProof(item)" *ngIf="!item.removeLoader"
                                                    matTooltip="Remove" fuseAlertIcon
                                                    [svgIcon]="'heroicons_solid:trash'">
                                                </mat-icon>
                                                <mat-progress-spinner *ngIf="item.removeLoader" [diameter]="24"
                                                    [mode]="'indeterminate'">
                                                </mat-progress-spinner>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </mat-expansion-panel>
                        <!--  Update imprint colors -->
                        <mat-expansion-panel>
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    Update imprint colors
                                </mat-panel-title>
                            </mat-expansion-panel-header>
                            <div>
                                <mat-form-field class="w-full mt-2">
                                    <mat-select [(ngModel)]="selectedImprint" (selectionChange)="onChangeColor($event)">
                                        <mat-option *ngFor="let imprint of imprintdata"
                                            [value]="imprint.pk_imprintID">({{imprint.pk_imprintID}})
                                            {{imprint.locationName}}/{{imprint.decorationName}}</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <mat-form-field appearance="fill" class="w-full" *ngIf="allColors">
                                    <mat-select [(ngModel)]="selectedMultipleColors" multiple>
                                        <mat-option *ngFor="let color of allColors"
                                            [value]="color.name">{{color.name}}</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <div *ngIf="!allColors">
                                    <fuse-alert class="my-2" [appearance]="'soft'" [type]="'warning'">
                                        <mat-icon class="icon-size-5" fuseAlertIcon
                                            [svgIcon]="'heroicons_solid:lock-open'">
                                        </mat-icon>
                                        This imprint does not have any imprint colors associated with it.
                                    </fuse-alert>
                                </div>
                                <mat-form-field class="w-full" *ngIf="allColors">
                                    <mat-label>Or enter PMS colors:</mat-label>
                                    <input matInput [(ngModel)]="imprintPMSColors">
                                </mat-form-field>
                                <div>
                                    <button [disabled]="imprintColorsLoader" (click)="updateOrderLineImprintColors()"
                                        class="min-w-40 btn buttonComment hover:bg-gray-200">
                                        <span *ngIf="!imprintColorsLoader">Update imprint
                                            colors</span>
                                        <mat-progress-spinner *ngIf="imprintColorsLoader" [diameter]="24"
                                            [mode]="'indeterminate'">
                                        </mat-progress-spinner>
                                    </button>
                                </div>
                            </div>
                        </mat-expansion-panel>
                        <!-- Approval History -->
                        <mat-expansion-panel>
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    Approval History
                                </mat-panel-title>
                            </mat-expansion-panel-header>
                            <div>
                                <fuse-alert *ngIf="approvalHistoryData.length == 0" class="my-2"
                                    [appearance]="'outline'" [type]="'warning'" [showIcon]="false">
                                    This order has no approval history.
                                </fuse-alert>
                                <table class="table" *ngIf="approvalHistoryData.length > 0">
                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Date</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let item of approvalHistoryData">
                                            <td>{{item.firstName + ' ' + item.lastName}}</td>
                                            <td>{{item.statusDate | date}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </mat-expansion-panel>
                        <!-- Timer -->
                        <mat-expansion-panel>
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    Timer
                                </mat-panel-title>
                            </mat-expansion-panel-header>
                            <div>
                                <div class="text-center font-bold my-2">Total time so far:
                                    {{selectedImprintForTimer.qryOrderLineImprintTime}}</div>
                                <mat-form-field class="w-full font-bold">
                                    <input matInput readonly
                                        [(ngModel)]="selectedImprintForTimer.qryOrderLineImprintTime">
                                </mat-form-field>
                                <mat-form-field class="w-full">
                                    <mat-select [(ngModel)]="selectedImprintForTimer">
                                        <mat-option *ngFor="let imprint of imprintdata"
                                            [value]="imprint">({{imprint.pk_imprintID}})
                                            <span
                                                [innerHTML]="imprint.locationName"></span>/{{imprint.decorationName}}</mat-option>
                                    </mat-select>
                                </mat-form-field>

                                <div class="flex justify-center space-x-2">
                                    <button class="min-w-20 btn buttonComment hover:bg-gray-200"
                                        (click)="startTimer()">Start</button>
                                    <button class="min-w-20 btn buttonComment buttonDanger hover:bg-red-900"
                                        (click)="resetTimer()">Reset</button>
                                    <button
                                        class="min-w-20 btn buttonComment buttonSave hover:bg-green-500">Save</button>
                                </div>
                            </div>
                        </mat-expansion-panel>
                    </mat-accordion>
                </div>
                <div class="col-12 col-md-8 mt-3">
                    <mat-accordion multi>
                        <mat-expansion-panel [expanded]="isFirst"
                            *ngFor="let imprint of imprintdata;let i=index;first as isFirst"
                            (opened)="openExpansion(imprint,i)">
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    Imprint {{i+1}} of {{imprintdata.length}} for&nbsp;<span
                                        [innerHTML]="orderData.productName"></span> -
                                    ({{imprint.locationName}}/{{imprint.decorationName}})
                                </mat-panel-title>
                            </mat-expansion-panel-header>
                            <div>
                                <div class="alert alert-success p-3 my-2 text-center" *ngIf="orderData.blnGroupRun">
                                    GROUP RUN ITEM
                                </div>
                                <div class="w-full font-medium text-md">PO: <a *ngIf="imprint.poSent"
                                        href="https://assets.consolidus.com/globalAssets/Orders/purchaseOrders/{{paramData?.fk_orderID}}/{{imprint.poSent.pk_sentPOID}}.html"
                                        target="_blank">{{orderData.fk_orderID}}-{{paramData?.pk_orderLineID}}</a>
                                    <span *ngIf="!imprint.poSent">
                                        {{orderData.fk_orderID}}-{{paramData?.pk_orderLineID}}</span>
                                </div>
                                <div class="row w-full">
                                    <div class="col-12 col-md-6">
                                        <mat-form-field class="w-full">
                                            <mat-label>Reorder</mat-label>
                                            <input matInput [(ngModel)]="imprint.reorderNumber">
                                        </mat-form-field>
                                        <button (click)="updateReorder(imprint)" [disabled]="imprint?.reorderLoader"
                                            class="min-w-30 btn buttonComment hover:bg-gray-200">
                                            <span *ngIf="!imprint?.reorderLoader">Apply</span>
                                            <mat-progress-spinner *ngIf="imprint.reorderLoader" [diameter]="24"
                                                [mode]="'indeterminate'">
                                            </mat-progress-spinner>
                                        </button>
                                    </div>
                                    <!-- Proof Contact -->
                                    <!-- <div class="col-12 col-md-6"
                                        *ngIf="smartArtUser.blnMaster && orderData.blnAdditionalArtApproval">
                                        <mat-form-field class="w-full">
                                            <mat-label>Proof Contact</mat-label>
                                            <mat-select matInput [(ngModel)]="imprint.selectedContact">
                                                <mat-option [value]="0">{{orderData.sessionArtworkFirstName + ' '
                                                    +orderData.sessionArtworkLastName}}</mat-option>
                                                <mat-option *ngFor="let contact of contactProofs" [value]="contact"
                                                    [attr.data-blnStoreUserApproval]="contact.blnStoreUserApproval">{{contact.firstName
                                                    + ' ' +
                                                    contact.lastName}}</mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                        <button class="min-w-30 btn buttonComment hover:bg-gray-200"
                                            (click)="updateProofContact(imprint)" [disabled]="imprint?.isProofLoader">
                                            <span *ngIf="!imprint?.isProofLoader">Update</span>
                                            <mat-progress-spinner *ngIf="imprint?.isProofLoader" [diameter]="24"
                                                [mode]="'indeterminate'">
                                            </mat-progress-spinner>
                                        </button>
                                    </div> -->
                                    <div class="col-md-8 col-12 mt-3">
                                        <div class="row">
                                            <div class="col-6 font-bold">Quantity:</div>
                                            <div class="col-6">{{orderData.quantity}}</div>
                                            <div class="col-6 font-bold">Imprint Colors:</div>
                                            <div class="col-6">
                                                <div class="max-h-20  overflow-y-auto ">
                                                    {{imprint.imprintColors}}
                                                </div>
                                            </div>
                                            <div class="col-6 font-bold">Imprint Location:</div>
                                            <div class="col-6">{{imprint.locationName}}</div>
                                            <div class="col-6 font-bold">Item Colors:</div>
                                            <div class="col-6">
                                                <div class="max-h-20  overflow-y-auto ">
                                                    {{imprint.itemColors}}
                                                </div>
                                            </div>
                                            <div class="col-6 font-bold">Imprint Size:</div>
                                            <div class="col-6">{{imprint.area}}</div>
                                            <div class="col-6 font-bold">Item Dimensions:</div>
                                            <div class="col-6">{{orderData.itemDimension || 'N/A'}}</div>
                                            <div class="col-6 font-bold">Imprint Method:</div>
                                            <div class="col-6">{{imprint.decorationName}}</div>
                                            <div class="col-6 font-bold">Artwork File Types:</div>
                                            <div class="col-6">
                                                <div *ngIf="!artWorkLoader">
                                                    <span *ngIf="artworktemplatesData.length == 0">NONE</span>
                                                    <span
                                                        *ngFor="let item of artworktemplatesData;let last=last">{{item.extension}}<span
                                                            *ngIf="!last">, </span></span>
                                                </div>
                                            </div>
                                            <div class="col-6 font-bold">Digitizer:</div>
                                            <div class="col-6">{{imprint.digitizer || 'NONE'}}</div>
                                            <!--  -->
                                            <ng-container *ngIf="imprint?.packAccessories?.length > 0">
                                                <div class="col-6 font-bold">Accessories/packaging: </div>
                                                <div class="col-6">
                                                    <p
                                                        *ngFor="let accessories of imprint?.packAccessories; let a_i=index">
                                                        <b>{{a_i+1 + '.)'}}</b> ({{accessories.quantity}}) x
                                                        {{accessories.packagingName}}
                                                    </p>
                                                </div>
                                            </ng-container>
                                        </div>
                                    </div>
                                    <div class="col-md-4 col-12">
                                        <div class="text-right">
                                            <div class="flex justify-end">
                                                <img class="w-40"
                                                    onError="this.src='https://assets.consolidus.com/globalAssets/Products/coming_soon.jpg'"
                                                    src="https://assets.consolidus.com/globalAssets/Products/HiRes/{{orderData.pk_storeProductID}}.jpg?{{randomString}}">
                                            </div>
                                            <button (click)="isCommentToggle = !isCommentToggle"
                                                class="min-w-30 mt-2 btn buttonComment hover:bg-gray-200">Customer
                                                Comments</button>
                                        </div>
                                    </div>
                                    <div class="col-12" *ngIf="isCommentToggle">
                                        <div class="font-bold">Customer Comments</div>
                                        <div class="h-40 border overflow-y-auto p-2">
                                            <p *ngIf="!imprint.imprintComments">No Comments</p>
                                            <p *ngIf="imprint.imprintComments" [innerHtml]="imprint.imprintComments">
                                            </p>
                                        </div>
                                    </div>
                                    <!-- Arwork Templates -->
                                    <div class="col-12" *ngIf="imprint.artworkFiles.length == 0">
                                        <p class="text-red-500">No artwork supplied for this order</p>
                                    </div>
                                    <div class="col-12" *ngIf="imprint.artworkFiles.length">
                                        <div *ngFor="let artwork of imprint.artworkFiles; let i=index"
                                            class="text-blue-500">
                                            <div class="flex  py-1">
                                                <a href="https://assets.consolidus.com/artwork/{{orderData.pk_storeID}}/{{paramData.pfk_userID}}/{{paramData.fk_orderID}}/{{imprint.fk_orderLineID[0]}}/{{artwork.ID}}.{{artwork.EXTENSION}}"
                                                    target="_blank" matTooltip="Download Artwork File">Download Artwork
                                                    {{artwork.FILENAME}}
                                                </a>
                                                <mat-icon svgIcon="mat_outline:download"></mat-icon>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 mt-2">
                                        <!-- Imprint Status -->
                                        <div [ngStyle]="{'background-color': imprint.bgColor}"
                                            class="p-2 mb-2 rounded-md text-center text-dark" [showIcon]="false">
                                            As of {{imprint.statusDate | date: 'MM/dd/yyyy'}} the status of this
                                            item
                                            is <b>{{imprint.statusName}}</b>
                                            <ng-container *ngIf="imprint.pk_statusID == 9">
                                                <span *ngIf="imprint.approvalName">{{imprint.approvalName}} </span>
                                                <span *ngIf="imprint.approvalEmail">({{imprint.approvalEmail}})</span>
                                            </ng-container>.
                                        </div>
                                        <!-- NEW PENDING -->
                                        <div *ngIf="imprint.pk_statusID == 2" class="rounded-2xl shadow bg-card p-4 ">
                                            <div *ngIf="imprint.viewProofCheck || imprint.viewFinalArtworkCheck">
                                                <b>
                                                    <div class="flex space-x-1 text-lg">
                                                        <p>Upload Artwork Proof | </p>
                                                        <br>
                                                        <a target="_blank" class="underline" class="underline"
                                                            *ngIf="imprint.viewProofCheck"
                                                            href="https://assets.consolidus.com/artwork/Proof/{{this.paramData.pfk_userID}}/{{this.paramData.fk_orderID}}/{{this.paramData.pk_orderLineID}}/{{imprint.pk_imprintID}}.jpg?{{randomString}}">(Click
                                                            here to view proof)</a>
                                                        <a target="_blank" class="underline"
                                                            *ngIf="imprint.viewFinalArtworkCheck"
                                                            href="https://assets.consolidus.com/artwork/finalArt/{{this.paramData.pfk_userID}}/{{this.paramData.fk_orderID}}/{{this.paramData.pk_orderLineID}}/{{imprint.pk_imprintID}}.eps?{{randomString}}">(Download
                                                            final artwork)</a>
                                                    </div>
                                                </b>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-8 col-12">
                                                    <!-- Proof Contact -->
                                                    <div class="flex space-x-2 align-items-center"
                                                        *ngIf="smartArtUser.blnMaster && orderData.blnAdditionalArtApproval">
                                                        <mat-form-field class="w-full">
                                                            <mat-label>Proof Contact</mat-label>
                                                            <mat-select matInput [(ngModel)]="imprint.selectedContact">
                                                                <mat-option
                                                                    [value]="orderData.sessionArtwork_artApprovalContactID">{{orderData.sessionArtworkFirstName
                                                                    +
                                                                    ' '
                                                                    +orderData.sessionArtworkLastName}}</mat-option>
                                                                <mat-option *ngFor="let contact of contactProofs"
                                                                    [value]="contact"
                                                                    [attr.data-blnStoreUserApproval]="contact.blnStoreUserApproval">{{contact.firstName
                                                                    + ' ' +
                                                                    contact.lastName}}</mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                        <button
                                                            class="min-w-30 h-10 rounded-md bg-green-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600 "
                                                            type="button" (click)="updateProofContact(imprint)"
                                                            [disabled]="imprint?.isProofLoader">
                                                            <span *ngIf="!imprint?.isProofLoader">Update</span>
                                                            <div class="flex justify-center"
                                                                *ngIf="imprint?.isProofLoader">
                                                                <mat-progress-spinner [diameter]="24"
                                                                    [mode]="'indeterminate'">
                                                                </mat-progress-spinner>
                                                            </div>
                                                        </button>
                                                    </div>
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Email recipients (comma-separated)</mat-label>
                                                        <input matInput [(ngModel)]="imprint.emailRecipients"
                                                            id="email-{{imprint.pk_imprintID}}">
                                                    </mat-form-field>
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Please enter any comments relating to this artwork:
                                                        </mat-label>
                                                        <textarea matInput [(ngModel)]="imprint.recipientsComment"
                                                            id="comment-{{imprint.pk_imprintID}}"></textarea>
                                                    </mat-form-field>
                                                    <div class="flex justify-between">
                                                        <div>
                                                            <label>Select File</label>
                                                            <br>
                                                            <input type="file" accept=".jpg" #artworkFileInput
                                                                (change)="uploadArtworkFile($event)">
                                                        </div>
                                                        <mat-checkbox
                                                            matTooltip="Requires that the customer respond to the graphics team.  This removes the option for the customer to simply approve the artwork until this option is unchecked."
                                                            [(ngModel)]="imprint.blnRespond">Respond to
                                                            designer</mat-checkbox>
                                                    </div>
                                                    <div *ngIf="orderData.inHandsDate">
                                                        <label for="">Approve-By Date (mm/dd/yyyy)</label>
                                                        <div class="flex space-x-1">
                                                            <mat-checkbox class="mt-2"
                                                                [(ngModel)]="imprint.blnIncludeApproveByDate"></mat-checkbox>
                                                            <input class="form-control" type="date"
                                                                [(ngModel)]="imprint.artworkDate"
                                                                [disabled]="!imprint.blnIncludeApproveByDate">
                                                            <input class="form-control" type="time"
                                                                [(ngModel)]="imprint.artworkTime"
                                                                [disabled]="!imprint.blnIncludeApproveByDate">
                                                        </div>
                                                    </div>
                                                    <div>
                                                        <button (click)="uploadArtworkFileToServer(imprint)"
                                                            class="min-w-30 mt-2 btn buttonComment hover:bg-gray-200">
                                                            <span *ngIf="!imprint?.artworkProofLoader">Update Artwork
                                                                Proof</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.artworkProofLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="col-md-4 col-12">
                                                    <p class="text-lg font-bold">Make Manual Updates to this Imprint
                                                        Status</p>
                                                    <div class="space-y-1">
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,2,'status')"
                                                            class="min-w-30 rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                                                            [disabled]="imprint.pendingStatusLoader">
                                                            <span *ngIf="!imprint?.pendingStatusLoader">New
                                                                pending</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.pendingStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,3,'status')"
                                                            class="min-w-30 rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                                                            [disabled]="imprint.awaitingStatusLoader">
                                                            <span *ngIf="!imprint?.awaitingStatusLoader">Awaiting
                                                                artwork approval</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.awaitingStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br
                                                            *ngIf="(imprint.fk_artApprovalContactID || imprint.fk_storeUserApprovalContactID) && !imprint.blnStoreUserApprovalDone">
                                                        <button
                                                            *ngIf="(imprint.fk_artApprovalContactID || imprint.fk_storeUserApprovalContactID) && !imprint.blnStoreUserApprovalDone"
                                                            type="button"
                                                            class="min-w-30 rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                                                            (click)="sendOrderProofUpdates(imprint)"
                                                            [disabled]="imprint.senOrderProofLoader">
                                                            <span *ngIf="!imprint?.senOrderProofLoader">Send proof
                                                                update</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.senOrderProofLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,7,'status')"
                                                            class="min-w-30 rounded-md bg-orange-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-600"
                                                            [disabled]="imprint.proofStatusLoader">
                                                            <span *ngIf="!imprint?.proofStatusLoader">No
                                                                proof needed</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.proofStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button *ngIf="imprint.blnAttention" type="button"
                                                            class="min-w-30 rounded-md bg-green-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600"
                                                            [diabled]="imprint.isFlagLoader"
                                                            (click)="updateAttentionFlagOrder(imprint, false)">
                                                            <span *ngIf="!imprint?.isFlagLoader">Unflag
                                                                as awaiting info</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.isFlagLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <button *ngIf="!imprint.blnAttention" type="button"
                                                            class="min-w-30 rounded-md bg-orange-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-600"
                                                            [diabled]="imprint.isFlagLoader"
                                                            (click)="updateAttentionFlagOrder(imprint, true)">
                                                            <span *ngIf="!imprint?.isFlagLoader">
                                                                <Form:post></Form:post>Flag
                                                                as awaiting info
                                                            </span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.isFlagLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                    </div>
                                                    <div class="mt-3">
                                                        <p class="text-md font-bold">Designer Notes: </p>
                                                        <fuse-alert *ngIf="!imprint.designerNotes" class="my-2"
                                                            [appearance]="'soft'" [type]="'warning'" [showIcon]="false">
                                                            No design notes defined for this decorator.
                                                        </fuse-alert>
                                                        <div class="h-40 border overflow-y-auto p-2"
                                                            *ngIf="imprint.designerNotes"
                                                            [innerHTML]="imprint?.designerNotes"></div>
                                                    </div>
                                                </div>
                                            </div>
                                            <p class="text-lg font-bold">Make Manual Updates to this Imprint Status</p>
                                            <div class="row">
                                                <div class="col-md-6 col-12">
                                                    <p class="text-md font-bold">Offline Customer Communication:</p>
                                                    <mat-radio-group class="example-radio-group"
                                                        [(ngModel)]="imprint.statusID">
                                                        <mat-radio-button class="example-radio-button" value="approve"
                                                            checked [value]="9">Customer Approved
                                                            Artwork with comments</mat-radio-button>
                                                        <mat-radio-button class="example-radio-button" value="request"
                                                            [value]="4">Customer
                                                            Requested Artwork Change</mat-radio-button>
                                                    </mat-radio-group>
                                                    <mat-checkbox [(ngModel)]="imprint.blnRespond"
                                                        matTooltip="Requires that the customer respond to the graphics team.  This removes the option for the customer to simply approve the artwork until this option is unchecked.">Respond
                                                        to designer</mat-checkbox>
                                                </div>
                                                <div class="col-md-6 col-12">
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Please enter comments regarding this
                                                            communication:</mat-label>
                                                        <textarea matInput
                                                            [(ngModel)]="imprint.proofComments"></textarea>
                                                    </mat-form-field>
                                                    <div class="tex-right">
                                                        <button
                                                            class="min-w-30 mt-2 btn buttonComment hover:bg-gray-200"
                                                            (click)="applyStatusChangeImprint(imprint, imprint.statusID,'apply')"
                                                            [disabled]="imprint.applyStatusLoader">
                                                            <span *ngIf="!imprint?.applyStatusLoader">Apply Status
                                                                Change</span>
                                                            <mat-progress-spinner *ngIf="imprint?.applyStatusLoader"
                                                                [diameter]="24" [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!--- AWAITING ARTWORK APPROVAL --->
                                        <div *ngIf="imprint.pk_statusID == 3" class="rounded-2xl shadow bg-card p-4 ">
                                            <div *ngIf="imprint.viewProofCheck || imprint.viewFinalArtworkCheck">
                                                <b>
                                                    <div class="flex space-x-1">
                                                        <p>Send Follow-Up | </p>
                                                        <br>
                                                        <a target="_blank" class="underline"
                                                            *ngIf="imprint.viewProofCheck"
                                                            href="https://assets.consolidus.com/artwork/Proof/{{this.paramData.pfk_userID}}/{{this.paramData.fk_orderID}}/{{this.paramData.pk_orderLineID}}/{{imprint.pk_imprintID}}.jpg?{{randomString}}">(Click
                                                            here to view proof)</a>
                                                    </div>
                                                </b>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-8 col-12">
                                                    <!-- Proof Contact -->
                                                    <div class="flex space-x-2 align-items-center"
                                                        *ngIf="smartArtUser.blnMaster && orderData.blnAdditionalArtApproval">
                                                        <mat-form-field class="w-full">
                                                            <mat-label>Proof Contact</mat-label>
                                                            <mat-select matInput [(ngModel)]="imprint.selectedContact">
                                                                <!-- <mat-option
                                                                    [value]="0">{{orderData.sessionArtworkFirstName
                                                                    +
                                                                    ' '
                                                                    +orderData.sessionArtworkLastName}}</mat-option> -->
                                                                <mat-option
                                                                    [value]="orderData.sessionArtwork_artApprovalContactID">{{orderData.sessionArtworkFirstName
                                                                    +
                                                                    ' '
                                                                    +orderData.sessionArtworkLastName}}</mat-option>
                                                                <mat-option *ngFor="let contact of contactProofs"
                                                                    [value]="contact"
                                                                    [attr.data-blnStoreUserApproval]="contact.blnStoreUserApproval">{{contact.firstName
                                                                    + ' ' +
                                                                    contact.lastName}}</mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                        <button
                                                            class="min-w-30 h-10 rounded-md bg-green-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600 "
                                                            type="button" (click)="updateProofContact(imprint)"
                                                            [disabled]="imprint?.isProofLoader">
                                                            <span *ngIf="!imprint?.isProofLoader">Update</span>
                                                            <div class="flex justify-center"
                                                                *ngIf="imprint?.isProofLoader">
                                                                <mat-progress-spinner [diameter]="24"
                                                                    [mode]="'indeterminate'">
                                                                </mat-progress-spinner>
                                                            </div>
                                                        </button>
                                                    </div>
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Email recipients (comma-separated)</mat-label>
                                                        <input matInput [(ngModel)]="imprint.emailRecipients"
                                                            id="email-{{imprint.pk_imprintID}}">
                                                    </mat-form-field>
                                                    <div *ngIf="orderData.inHandsDate">
                                                        <div>
                                                            <mat-checkbox [(ngModel)]="imprint.blnRespond"
                                                                matTooltip="Requires that the customer respond to the graphics team.  This removes the option for the customer to simply approve the artwork until this option is unchecked.">Respond
                                                                to designer</mat-checkbox>
                                                        </div>
                                                        <div>
                                                            <label for="">Approve-By Date (mm/dd/yyyy)</label>
                                                            <div class="flex space-x-1">
                                                                <!-- <input type="checkbox"> -->
                                                                <mat-checkbox class="mt-2"
                                                                    [(ngModel)]="imprint.blnIncludeApproveByDate"></mat-checkbox>
                                                                <input class="form-control" type="date"
                                                                    [(ngModel)]="imprint.artworkDate"
                                                                    [disabled]="!imprint.blnIncludeApproveByDate">
                                                                <input class="form-control" type="time"
                                                                    [(ngModel)]="imprint.artworkTime"
                                                                    [disabled]="!imprint.blnIncludeApproveByDate">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div>
                                                        <button
                                                            class="min-w-30 mt-2 btn buttonComment hover:bg-gray-200">Send
                                                            follow up email</button>
                                                    </div>
                                                </div>
                                                <div class="col-md-4 col-12">
                                                    <p class="text-lg font-bold">Make Manual Updates to this Imprint
                                                        Status</p>
                                                    <div class="space-y-1">
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,2,'status')"
                                                            class="min-w-30 rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                                                            [disabled]="imprint.pendingStatusLoader">
                                                            <span *ngIf="!imprint?.pendingStatusLoader">New
                                                                pending</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.pendingStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,13,'status')"
                                                            class="min-w-30 rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                                                            [disabled]="imprint.followStatusLoader">
                                                            <span *ngIf="!imprint?.followStatusLoader">Follow-up
                                                                for approval</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.followStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,7,'status')"
                                                            class="min-w-30 rounded-md bg-orange-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-600"
                                                            [disabled]="imprint.proofStatusLoader">
                                                            <span *ngIf="!imprint?.proofStatusLoader">No
                                                                proof needed</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.proofStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button *ngIf="imprint.blnAttention" type="button"
                                                            class="min-w-30 rounded-md bg-green-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600"
                                                            [diabled]="imprint.isFlagLoader"
                                                            (click)="updateAttentionFlagOrder(imprint, false)">
                                                            <span *ngIf="!imprint?.isFlagLoader">Unflag
                                                                as awaiting info</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.isFlagLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <button *ngIf="!imprint.blnAttention" type="button"
                                                            class="min-w-30 rounded-md bg-orange-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-600"
                                                            [diabled]="imprint.isFlagLoader"
                                                            (click)="updateAttentionFlagOrder(imprint, true)">
                                                            <span *ngIf="!imprint?.isFlagLoader">
                                                                <Form:post></Form:post>Flag
                                                                as awaiting info
                                                            </span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.isFlagLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                    </div>
                                                    <div class="mt-3">
                                                        <p class="text-md font-bold">Designer Notes:</p>
                                                        <fuse-alert *ngIf="!imprint?.designerNotes" class="my-2"
                                                            [appearance]="'soft'" [type]="'warning'" [showIcon]="false">
                                                            No design notes defined for this decorator.
                                                        </fuse-alert>
                                                        <div class="h-40 overflow-y-auto p-2 border"
                                                            *ngIf="imprint?.designerNotes"
                                                            [innerHTML]="imprint?.designerNotes"></div>
                                                    </div>
                                                </div>
                                            </div>
                                            <p class="text-lg font-bold">Make Manual Updates to this Imprint Status</p>
                                            <div class="row">
                                                <div class="col-md-6 col-12">
                                                    <p class="text-md font-bold">Offline Customer Communication:</p>
                                                    <mat-radio-group class="example-radio-group"
                                                        [(ngModel)]="imprint.statusID">
                                                        <mat-radio-button class="example-radio-button" value="approve"
                                                            checked [value]="9">Customer Approved
                                                            Artwork with comments</mat-radio-button>
                                                        <mat-radio-button class="example-radio-button" value="request"
                                                            [value]="2">Customer
                                                            Requested Artwork Change</mat-radio-button>
                                                    </mat-radio-group>
                                                    <mat-checkbox
                                                        matTooltip="Requires that the customer respond to the graphics team.  This removes the option for the customer to simply approve the artwork until this option is unchecked.">Respond
                                                        to designer</mat-checkbox>
                                                </div>
                                                <div class="col-md-6 col-12">
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Please enter comments regarding this offline
                                                            communication:</mat-label>
                                                        <textarea matInput
                                                            [(ngModel)]="imprint.proofComments"></textarea>
                                                    </mat-form-field>
                                                    <div class="tex-right">
                                                        <button
                                                            class="min-w-30 mt-2 btn buttonComment hover:bg-gray-200"
                                                            (click)="applyStatusChangeImprint(imprint, imprint.statusID,'apply')"
                                                            [disabled]="imprint.applyStatusLoader">
                                                            <span *ngIf="!imprint?.applyStatusLoader">Apply Status
                                                                Change</span>
                                                            <mat-progress-spinner *ngIf="imprint?.applyStatusLoader"
                                                                [diameter]="24" [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!--- ARTWORK REVISION --->
                                        <div *ngIf="imprint.pk_statusID == 4" class="rounded-2xl shadow bg-card p-4 ">
                                            <div *ngIf="imprint.viewProofCheck || imprint.viewFinalArtworkCheck">
                                                <b>
                                                    <div class="flex space-x-1">
                                                        <p>Acknowledge Changes</p>
                                                        <br>
                                                        <a target="_blank" class="underline"
                                                            *ngIf="imprint.viewProofCheck"
                                                            href="https://assets.consolidus.com/artwork/Proof/{{this.paramData.pfk_userID}}/{{this.paramData.fk_orderID}}/{{this.paramData.pk_orderLineID}}/{{imprint.pk_imprintID}}.jpg?{{randomString}}">(Click
                                                            here to view proof)</a>
                                                    </div>
                                                </b>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-8 col-12">
                                                    <!-- Proof Contact -->
                                                    <div class="flex space-x-2 align-items-center"
                                                        *ngIf="smartArtUser.blnMaster && orderData.blnAdditionalArtApproval">
                                                        <mat-form-field class="w-full">
                                                            <mat-label>Proof Contact</mat-label>
                                                            <mat-select matInput [(ngModel)]="imprint.selectedContact">
                                                                <mat-option
                                                                    [value]="orderData.sessionArtwork_artApprovalContactID">{{orderData.sessionArtworkFirstName
                                                                    +
                                                                    ' '
                                                                    +orderData.sessionArtworkLastName}}</mat-option>
                                                                <mat-option *ngFor="let contact of contactProofs"
                                                                    [value]="contact"
                                                                    [attr.data-blnStoreUserApproval]="contact.blnStoreUserApproval">{{contact.firstName
                                                                    + ' ' +
                                                                    contact.lastName}}</mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                        <button
                                                            class="min-w-30 h-10 rounded-md bg-green-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600 "
                                                            type="button" (click)="updateProofContact(imprint)"
                                                            [disabled]="imprint?.isProofLoader">
                                                            <span *ngIf="!imprint?.isProofLoader">Update</span>
                                                            <div class="flex justify-center"
                                                                *ngIf="imprint?.isProofLoader">
                                                                <mat-progress-spinner [diameter]="24"
                                                                    [mode]="'indeterminate'">
                                                                </mat-progress-spinner>
                                                            </div>
                                                        </button>
                                                    </div>
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Email recipients (comma-separated)</mat-label>
                                                        <input matInput [(ngModel)]="imprint.emailRecipients"
                                                            id="email-{{imprint.pk_imprintID}}">
                                                    </mat-form-field>
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Please enter any comments relating to this artwork:
                                                        </mat-label>
                                                        <textarea matInput [(ngModel)]="imprint.recipientsComment"
                                                            id="comment-{{imprint.pk_imprintID}}"></textarea>
                                                    </mat-form-field>
                                                    <div class="flex justify-between">
                                                        <div>
                                                            <label>Select File</label>
                                                            <br>
                                                            <input type="file" accept=".jpg" #artworkFileInput
                                                                (change)="uploadArtworkFile($event)">
                                                        </div>
                                                        <mat-checkbox
                                                            matTooltip="Requires that the customer respond to the graphics team.  This removes the option for the customer to simply approve the artwork until this option is unchecked."
                                                            [(ngModel)]="imprint.blnRespond">Respond to
                                                            designer</mat-checkbox>
                                                    </div>
                                                    <div *ngIf="orderData.inHandsDate">
                                                        <label for="">Approve-By Date (mm/dd/yyyy)</label>
                                                        <div class="flex space-x-1">
                                                            <mat-checkbox class="mt-2"
                                                                [(ngModel)]="imprint.blnIncludeApproveByDate"></mat-checkbox>
                                                            <input class="form-control" type="date"
                                                                [(ngModel)]="imprint.artworkDate"
                                                                [disabled]="!imprint.blnIncludeApproveByDate">
                                                            <input class="form-control" type="time"
                                                                [(ngModel)]="imprint.artworkTime"
                                                                [disabled]="!imprint.blnIncludeApproveByDate">
                                                        </div>
                                                    </div>
                                                    <div>
                                                        <button (click)="uploadArtworkFileToServer(imprint)"
                                                            class="min-w-30 mt-2 btn buttonComment hover:bg-gray-200">
                                                            <span *ngIf="!imprint?.artworkProofLoader">Update Artwork
                                                                Proof</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.artworkProofLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                    </div>
                                                </div>
                                                <!-- <div class="col-md-8 col-12">
                                                    <div>
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,2,'status')"
                                                            class="min-w-30 rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                                                            [disabled]="imprint.pendingStatusLoader">
                                                            <span *ngIf="!imprint?.pendingStatusLoader">Acknowledge
                                                                changes requested</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.pendingStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                    </div>
                                                </div> -->
                                                <div class="col-md-4 col-12">
                                                    <p class="text-lg font-bold">Make Manual Updates to this Imprint
                                                        Status</p>
                                                    <div class="space-y-1">
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,2,'status')"
                                                            class="min-w-30 rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                                                            [disabled]="imprint.pendingStatusLoader">
                                                            <span *ngIf="!imprint?.pendingStatusLoader">New
                                                                pending</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.pendingStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,3,'status')"
                                                            class="min-w-30 rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                                                            [disabled]="imprint.awaitingStatusLoader">
                                                            <span *ngIf="!imprint?.awaitingStatusLoader">Awaiting
                                                                artwork approval</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.awaitingStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,7,'status')"
                                                            class="min-w-30 rounded-md bg-orange-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-600"
                                                            [disabled]="imprint.proofStatusLoader">
                                                            <span *ngIf="!imprint?.proofStatusLoader">No
                                                                proof needed</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.proofStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button *ngIf="imprint.blnAttention" type="button"
                                                            class="min-w-30 rounded-md bg-green-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600"
                                                            [diabled]="imprint.isFlagLoader"
                                                            (click)="updateAttentionFlagOrder(imprint, false)">
                                                            <span *ngIf="!imprint?.isFlagLoader">Unflag
                                                                as awaiting info</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.isFlagLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <button *ngIf="!imprint.blnAttention" type="button"
                                                            class="min-w-30 rounded-md bg-orange-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-600"
                                                            [diabled]="imprint.isFlagLoader"
                                                            (click)="updateAttentionFlagOrder(imprint, true)">
                                                            <span *ngIf="!imprint?.isFlagLoader">
                                                                <Form:post></Form:post>Flag
                                                                as awaiting info
                                                            </span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.isFlagLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                    </div>
                                                    <div class="mt-3">
                                                        <p class="text-md font-bold">Designer Notes:</p>
                                                        <fuse-alert *ngIf="!imprint?.designerNotes" class="my-2"
                                                            [appearance]="'soft'" [type]="'warning'" [showIcon]="false">
                                                            No design notes defined for this decorator.
                                                        </fuse-alert>
                                                        <div class="h-40 border overflow-y-auto p-2"
                                                            *ngIf="imprint?.designerNotes"
                                                            [innerHTML]="imprint?.designerNotes"></div>
                                                    </div>
                                                </div>

                                            </div>
                                            <p class="text-lg font-bold">Make Manual Updates to this Imprint Status
                                            </p>
                                            <div class="row">
                                                <div class="col-md-6 col-12">
                                                    <p class="text-md font-bold">Offline Customer Communication:</p>
                                                    <mat-radio-group class="example-radio-group"
                                                        [(ngModel)]="imprint.statusID">
                                                        <mat-radio-button class="example-radio-button" value="approve"
                                                            checked [value]="9">Customer Approved
                                                            Artwork with comments</mat-radio-button>
                                                        <mat-radio-button class="example-radio-button" value="request"
                                                            [value]="4">Customer
                                                            Requested Artwork Change</mat-radio-button>
                                                    </mat-radio-group>
                                                    <mat-checkbox [(ngModel)]="imprint.blnRespond"
                                                        matTooltip="Requires that the customer respond to the graphics team.  This removes the option for the customer to simply approve the artwork until this option is unchecked.">Respond
                                                        to designer</mat-checkbox>
                                                </div>
                                                <div class="col-md-6 col-12">
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Please enter comments regarding this
                                                            communication:</mat-label>
                                                        <textarea matInput
                                                            [(ngModel)]="imprint.proofComments"></textarea>
                                                    </mat-form-field>
                                                    <div class="tex-right">
                                                        <button
                                                            class="min-w-30 mt-2 btn buttonComment hover:bg-gray-200"
                                                            (click)="applyStatusChangeImprint(imprint, imprint.statusID,'apply')"
                                                            [disabled]="imprint.applyStatusLoader">
                                                            <span *ngIf="!imprint?.applyStatusLoader">Apply Status
                                                                Change</span>
                                                            <mat-progress-spinner *ngIf="imprint?.applyStatusLoader"
                                                                [diameter]="24" [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!--- DECORATOR NOTIFIED --->
                                        <div *ngIf="imprint.pk_statusID == 5" class="rounded-2xl shadow bg-card p-4 ">
                                            <div>
                                                <b>
                                                    <div class="flex space-x-1">
                                                        <p>Send Art To Decorator </p>
                                                        <br>
                                                        <a target="_blank" class="underline"
                                                            *ngIf="imprint.viewProofCheck"
                                                            href="https://assets.consolidus.com/artwork/Proof/{{this.paramData.pfk_userID}}/{{this.paramData.fk_orderID}}/{{this.paramData.pk_orderLineID}}/{{imprint.pk_imprintID}}.jpg?{{randomString}}">(Click
                                                            here to view proof)</a>
                                                        <a target="_blank"
                                                            *ngFor="let finalArt of imprint?.artworkFinalartFiles"
                                                            class="underline"
                                                            href="https://assets.consolidus.com/artwork/finalArt/{{this.paramData.pfk_userID}}/{{this.paramData.fk_orderID}}/{{this.paramData.pk_orderLineID}}/{{finalArt.FILENAME}}">
                                                            | (Download final artwork)</a>
                                                    </div>
                                                </b>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-8 col-12">
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Please enter the artwork's PO Number: (enter only
                                                            numbers,
                                                            dashes, or letters)</mat-label>
                                                        <input matInput [(ngModel)]="imprint.artworkPO">
                                                    </mat-form-field>
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Email recipients (comma-separated)</mat-label>
                                                        <input matInput [(ngModel)]="imprint.emailRecipients"
                                                            id="email-{{imprint.pk_imprintID}}">
                                                    </mat-form-field>
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Add any comments:
                                                        </mat-label>
                                                        <textarea matInput [(ngModel)]="imprint.artworkCommentsText"
                                                            id="comment-{{imprint.pk_imprintID}}"></textarea>
                                                    </mat-form-field>
                                                    <div>
                                                        <label>Select the final artwork file:</label>
                                                        <br>
                                                        <input type="file" #finalArtworkFileInput
                                                            (change)="uploadFinalArtworkFile($event)">
                                                    </div>
                                                    <div>
                                                        <button (click)="updateFinalArtFile(imprint)"
                                                            [disabled]="imprint.finalArtworkProofLoader"
                                                            class="min-w-30 mt-2 btn buttonComment hover:bg-gray-200">
                                                            <span *ngIf="!imprint?.finalArtworkProofLoader">Send
                                                                artwork to decorator</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.finalArtworkProofLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="col-md-4 col-12">
                                                    <p class="text-lg font-bold">Make Manual Updates to this Imprint
                                                        Status</p>
                                                    <div class="space-y-1">
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,2,'status')"
                                                            class="min-w-30 rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                                                            [disabled]="imprint.pendingStatusLoader">
                                                            <span *ngIf="!imprint?.pendingStatusLoader">New
                                                                pending</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.pendingStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,3,'status')"
                                                            class="min-w-30 rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                                                            [disabled]="imprint.awaitingStatusLoader">
                                                            <span *ngIf="!imprint?.awaitingStatusLoader">Awaiting
                                                                artwork approval</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.awaitingStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,11,'status')"
                                                            class="min-w-30 rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                                                            [disabled]="imprint.productionStatusLoader">
                                                            <span *ngIf="!imprint?.productionStatusLoader">In
                                                                Production</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.productionStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,7,'status')"
                                                            class="min-w-30 rounded-md bg-orange-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-600"
                                                            [disabled]="imprint.proofStatusLoader">
                                                            <span *ngIf="!imprint?.proofStatusLoader">No
                                                                proof needed</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.proofStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button *ngIf="imprint.blnAttention" type="button"
                                                            class="min-w-30 rounded-md bg-green-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600"
                                                            [diabled]="imprint.isFlagLoader"
                                                            (click)="updateAttentionFlagOrder(imprint, false)">
                                                            <span *ngIf="!imprint?.isFlagLoader">Unflag
                                                                as awaiting info</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.isFlagLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <button *ngIf="!imprint.blnAttention" type="button"
                                                            class="min-w-30 rounded-md bg-orange-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-600"
                                                            [diabled]="imprint.isFlagLoader"
                                                            (click)="updateAttentionFlagOrder(imprint, true)">
                                                            <span *ngIf="!imprint?.isFlagLoader">
                                                                <Form:post></Form:post>Flag
                                                                as awaiting info
                                                            </span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.isFlagLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                    </div>
                                                    <div class="mt-3">
                                                        <p class="text-md font-bold">Designer Notes:</p>
                                                        <fuse-alert *ngIf="!imprint?.designerNotes" class="my-2"
                                                            [appearance]="'soft'" [type]="'warning'" [showIcon]="false">
                                                            No design notes defined for this decorator.
                                                        </fuse-alert>
                                                        <div class="h-40 border overflow-y-auto p-2"
                                                            *ngIf="imprint?.designerNotes"
                                                            [innerHTML]="imprint?.designerNotes"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- No Proof Needed -->
                                        <div *ngIf="imprint.pk_statusID == 7" class="rounded-2xl shadow bg-card p-4 ">
                                            <div class="row">
                                                <div class="col-md-8 col-12">
                                                    <p class="text-lg font-bold">No Proof Needed</p>
                                                </div>
                                                <div class="col-md-4 col-12">
                                                    <p class="text-lg font-bold">Make Manual Updates to this Imprint
                                                        Status</p>
                                                    <div class="space-y-2">
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,2,'status')"
                                                            class="min-w-30 rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                                                            [disabled]="imprint.pendingStatusLoader">
                                                            <span *ngIf="!imprint?.pendingStatusLoader">New
                                                                pending</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.pendingStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,3,'status')"
                                                            class="min-w-30 rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                                                            [disabled]="imprint.awaitingStatusLoader">
                                                            <span *ngIf="!imprint?.awaitingStatusLoader">Awaiting
                                                                artwork approval</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.awaitingStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,11,'status')"
                                                            class="min-w-30 rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                                                            [disabled]="imprint.productionStatusLoader">
                                                            <span *ngIf="!imprint?.productionStatusLoader">In
                                                                Production</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.productionStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                    </div>
                                                    <div class="mt-3">
                                                        <p class="text-md font-bold">Designer Notes:</p>
                                                        <fuse-alert *ngIf="!imprint?.designerNotes" class="my-2"
                                                            [appearance]="'soft'" [type]="'warning'" [showIcon]="false">
                                                            No design notes defined for this decorator.
                                                        </fuse-alert>
                                                        <div class="h-40 border overflow-y-auto p-2"
                                                            *ngIf="imprint?.designerNotes"
                                                            [innerHTML]="imprint?.designerNotes"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!--- ARTWORK APPROVED --->
                                        <div *ngIf="imprint.pk_statusID == 9" class="rounded-2xl shadow bg-card p-4 ">
                                            <div *ngIf="imprint.viewProofCheck">
                                                <b>
                                                    <div class="flex space-x-1">
                                                        <a target="_blank" class="underline"
                                                            *ngIf="imprint.viewProofCheck"
                                                            href="https://assets.consolidus.com/Artwork/Proof/{{this.paramData.pfk_userID}}/{{this.paramData.fk_orderID}}/{{this.paramData.pk_orderLineID}}/{{imprint.pk_imprintID}}.jpg?{{randomString}}">(Click
                                                            here to view proof)</a>
                                                    </div>
                                                </b>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-8 col-12" *ngIf="imprint.artworkPOFiles">
                                                    <fuse-alert class="my-2" [appearance]="'soft'" [type]="'success'"
                                                        [showIcon]="true">
                                                        <a href="https://assets.consolidus.com/artwork/POProof/{{paramData.pk_orderLineID}}/{{imprint.artworkPOFiles.FILENAME}}"
                                                            target="_blank">Artwork has been uploaded for this PO</a>
                                                    </fuse-alert>
                                                    <button type="button" [disabled]="imprint?.removeLoader"
                                                        (click)="removePOFiles(imprint)"
                                                        class="mr-2 min-w-40 inline-flex items-center gap-x-1.5 rounded-md bg-orange-400 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-orange-300 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-400">
                                                        <span *ngIf="!imprint?.removeLoader">Remove PO Artwork</span>
                                                        <mat-progress-spinner [color]="'light'"
                                                            *ngIf="imprint?.removeLoader" [diameter]="24"
                                                            [mode]="'indeterminate'">
                                                        </mat-progress-spinner>
                                                    </button>
                                                </div>
                                                <div class="col-md-8 col-12" *ngIf="!imprint.artworkPOFiles">
                                                    <div>
                                                        <label>Upload artwork to attach to PO:</label>
                                                        <br>
                                                        <input #artworkPOFileInput (change)="uploadPOFile($event)"
                                                            type="file">
                                                    </div>
                                                    <div class="my-3">
                                                        <button type="button" [disabled]="imprint?.uploadPOLoader"
                                                            (click)="uploadPOFilesServer(imprint)"
                                                            class="mr-2  min-w-40 inline-flex items-center gap-x-1.5 rounded-md bg-blue-400 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-blue-300 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-400">
                                                            <span *ngIf="!imprint?.uploadPOLoader">Upload PO
                                                                artwork</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.uploadPOLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="col-md-4 col-12">
                                                    <p class="text-lg font-bold">Make Manual Updates to this Imprint
                                                        Status</p>
                                                    <div class="space-y-1">
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,2,'status')"
                                                            class="min-w-30 rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                                                            [disabled]="imprint.pendingStatusLoader">
                                                            <span *ngIf="!imprint?.pendingStatusLoader">New
                                                                pending</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.pendingStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,3,'status')"
                                                            class="min-w-30 rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                                                            [disabled]="imprint.awaitingStatusLoader">
                                                            <span *ngIf="!imprint?.awaitingStatusLoader">Awaiting
                                                                artwork approval</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.awaitingStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,11,'status')"
                                                            class="min-w-30 rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                                                            [disabled]="imprint.productionStatusLoader">
                                                            <span *ngIf="!imprint?.productionStatusLoader">In
                                                                production</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.productionStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,7,'status')"
                                                            class="min-w-30 rounded-md bg-orange-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-600"
                                                            [disabled]="imprint.proofStatusLoader">
                                                            <span *ngIf="!imprint?.proofStatusLoader">No
                                                                proof needed</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.proofStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button *ngIf="imprint.blnAttention" type="button"
                                                            class="min-w-30 rounded-md bg-green-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600"
                                                            [diabled]="imprint.isFlagLoader"
                                                            (click)="updateAttentionFlagOrder(imprint, false)">
                                                            <span *ngIf="!imprint?.isFlagLoader">Unflag
                                                                as awaiting info</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.isFlagLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <button *ngIf="!imprint.blnAttention" type="button"
                                                            class="min-w-30 rounded-md bg-orange-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-600"
                                                            [diabled]="imprint.isFlagLoader"
                                                            (click)="updateAttentionFlagOrder(imprint, true)">
                                                            <span *ngIf="!imprint?.isFlagLoader">
                                                                <Form:post></Form:post>Flag
                                                                as awaiting info
                                                            </span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.isFlagLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                    </div>
                                                    <div class="mt-3">
                                                        <p class="text-md font-bold">Designer Notes:</p>
                                                        <fuse-alert *ngIf="!imprint?.designerNotes" class="my-2"
                                                            [appearance]="'soft'" [type]="'warning'" [showIcon]="false">
                                                            No design notes defined for this decorator.
                                                        </fuse-alert>
                                                        <div class="h-40 border overflow-y-auto p-2"
                                                            *ngIf="imprint?.designerNotes"
                                                            [innerHTML]="imprint?.designerNotes"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!--- IN PRODUCTION --->
                                        <div *ngIf="imprint.pk_statusID == 11" class="rounded-2xl shadow bg-card p-4 ">
                                            <div>
                                                <b>
                                                    <div class="flex space-x-1">
                                                        <p>Re-Send Art To Decorator </p>
                                                        <br>
                                                        <a target="_blank" class="underline"
                                                            *ngIf="imprint.viewProofCheck"
                                                            href="https://assets.consolidus.com/artwork/Proof/{{this.paramData.pfk_userID}}/{{this.paramData.fk_orderID}}/{{this.paramData.pk_orderLineID}}/{{imprint.pk_imprintID}}.jpg?{{randomString}}">(Click
                                                            here to view proof)</a>
                                                        <a target="_blank"
                                                            *ngFor="let finalArt of imprint?.artworkFinalartFiles"
                                                            class="underline"
                                                            href="https://assets.consolidus.com/artwork/finalArt/{{this.paramData.pfk_userID}}/{{this.paramData.fk_orderID}}/{{this.paramData.pk_orderLineID}}/{{finalArt.FILENAME}}">
                                                            | (Download final artwork)</a>
                                                    </div>
                                                </b>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-8 col-12">
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Please enter the artwork's PO Number: (enter only
                                                            numbers,
                                                            dashes, or letters)</mat-label>
                                                        <input matInput [(ngModel)]="imprint.artworkPO">
                                                    </mat-form-field>
                                                    <br>
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Email recipients (comma-separated)</mat-label>
                                                        <input matInput [(ngModel)]="imprint.emailRecipients"
                                                            id="email-{{imprint.pk_imprintID}}">
                                                    </mat-form-field>
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Add any comments:
                                                        </mat-label>
                                                        <textarea matInput [(ngModel)]="imprint.artworkCommentsText"
                                                            id="comment-{{imprint.pk_imprintID}}"></textarea>
                                                    </mat-form-field>
                                                    <div>
                                                        <label>Select the final artwork file:</label>
                                                        <br>
                                                        <input type="file" #finalArtworkFileInput
                                                            (change)="uploadFinalArtworkFile($event)">
                                                    </div>
                                                    <div>
                                                        <button (click)="updateFinalArtFile(imprint)"
                                                            [disabled]="imprint.finalArtworkProofLoader"
                                                            class="min-w-30 mt-2 btn buttonComment hover:bg-gray-200">
                                                            <span *ngIf="!imprint?.finalArtworkProofLoader">Re-send
                                                                artwork to decorator</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.finalArtworkProofLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="col-md-4 col-12">
                                                    <p class="text-lg font-bold">Make Manual Updates to this Imprint
                                                        Status</p>
                                                    <div class="space-y-1">
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,2,'status')"
                                                            class="min-w-30 rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                                                            [disabled]="imprint.pendingStatusLoader">
                                                            <span *ngIf="!imprint?.pendingStatusLoader">New
                                                                pending</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.pendingStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,3,'status')"
                                                            class="min-w-30 rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                                                            [disabled]="imprint.awaitingStatusLoader">
                                                            <span *ngIf="!imprint?.awaitingStatusLoader">Awaiting
                                                                artwork approval</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.awaitingStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,7,'status')"
                                                            class="min-w-30 rounded-md bg-orange-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-600"
                                                            [disabled]="imprint.proofStatusLoader">
                                                            <span *ngIf="!imprint?.proofStatusLoader">No
                                                                proof needed</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.proofStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button *ngIf="imprint.blnAttention" type="button"
                                                            class="min-w-30 rounded-md bg-green-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600"
                                                            [diabled]="imprint.isFlagLoader"
                                                            (click)="updateAttentionFlagOrder(imprint, false)">
                                                            <span *ngIf="!imprint?.isFlagLoader">Unflag
                                                                as awaiting info</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.isFlagLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <button *ngIf="!imprint.blnAttention" type="button"
                                                            class="min-w-30 rounded-md bg-orange-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-600"
                                                            [diabled]="imprint.isFlagLoader"
                                                            (click)="updateAttentionFlagOrder(imprint, true)">
                                                            <span *ngIf="!imprint?.isFlagLoader">
                                                                <Form:post></Form:post>Flag
                                                                as awaiting info
                                                            </span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.isFlagLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                    </div>
                                                    <div class="mt-3">
                                                        <p class="text-md font-bold">Designer Notes:</p>
                                                        <fuse-alert *ngIf="!imprint?.designerNotes" class="my-2"
                                                            [appearance]="'soft'" [type]="'warning'" [showIcon]="false">
                                                            No design notes defined for this decorator.
                                                        </fuse-alert>
                                                        <div class="h-40 border overflow-y-auto p-2"
                                                            *ngIf="imprint?.designerNotes"
                                                            [innerHTML]="imprint?.designerNotes"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!--- ON HOLD --->
                                        <div *ngIf="imprint.pk_statusID == 12" class="rounded-2xl shadow bg-card p-4 ">
                                            <div *ngIf="imprint.viewProofCheck || imprint.viewFinalArtworkCheck">
                                                <b>
                                                    <div class="flex space-x-1">
                                                        <p>Send Follow-Up | </p>
                                                        <br>
                                                        <a target="_blank" class="underline"
                                                            *ngIf="imprint.viewProofCheck"
                                                            href="https://assets.consolidus.com/artwork/Proof/{{this.paramData.pfk_userID}}/{{this.paramData.fk_orderID}}/{{this.paramData.pk_orderLineID}}/{{imprint.pk_imprintID}}.jpg?{{randomString}}">(Click
                                                            here to view proof)</a>
                                                    </div>
                                                </b>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-8 col-12">
                                                    <!-- Proof Contact -->
                                                    <div class="flex space-x-2 align-items-center"
                                                        *ngIf="smartArtUser.blnMaster && orderData.blnAdditionalArtApproval">
                                                        <mat-form-field class="w-full">
                                                            <mat-label>Proof Contact</mat-label>
                                                            <mat-select matInput [(ngModel)]="imprint.selectedContact">
                                                                <mat-option
                                                                    [value]="orderData.sessionArtwork_artApprovalContactID">{{orderData.sessionArtworkFirstName
                                                                    +
                                                                    ' '
                                                                    +orderData.sessionArtworkLastName}}</mat-option>
                                                                <mat-option *ngFor="let contact of contactProofs"
                                                                    [value]="contact"
                                                                    [attr.data-blnStoreUserApproval]="contact.blnStoreUserApproval">{{contact.firstName
                                                                    + ' ' +
                                                                    contact.lastName}}</mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                        <button
                                                            class="min-w-30 h-10 rounded-md bg-green-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600 "
                                                            type="button" (click)="updateProofContact(imprint)"
                                                            [disabled]="imprint?.isProofLoader">
                                                            <span *ngIf="!imprint?.isProofLoader">Update</span>
                                                            <div class="flex justify-center"
                                                                *ngIf="imprint?.isProofLoader">
                                                                <mat-progress-spinner [diameter]="24"
                                                                    [mode]="'indeterminate'">
                                                                </mat-progress-spinner>
                                                            </div>
                                                        </button>
                                                    </div>
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Email recipients (comma-separated)</mat-label>
                                                        <input matInput [(ngModel)]="imprint.emailRecipients"
                                                            id="email-{{imprint.pk_imprintID}}">
                                                    </mat-form-field>
                                                    <div *ngIf="orderData.inHandsDate">
                                                        <div>
                                                            <mat-checkbox [(ngModel)]="imprint.blnRespond"
                                                                matTooltip="Requires that the customer respond to the graphics team.  This removes the option for the customer to simply approve the artwork until this option is unchecked.">Respond
                                                                to designer</mat-checkbox>
                                                        </div>
                                                        <div>
                                                            <label for="">Approve-By Date (mm/dd/yyyy)</label>
                                                            <div class="flex space-x-1">
                                                                <!-- <input type="checkbox"> -->
                                                                <mat-checkbox class="mt-2"
                                                                    [(ngModel)]="imprint.blnIncludeApproveByDate"></mat-checkbox>
                                                                <input class="form-control" type="date"
                                                                    [(ngModel)]="imprint.artworkDate"
                                                                    [disabled]="!imprint.blnIncludeApproveByDate">
                                                                <input class="form-control" type="time"
                                                                    [(ngModel)]="imprint.artworkTime"
                                                                    [disabled]="!imprint.blnIncludeApproveByDate">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div>
                                                        <button
                                                            class="min-w-30 mt-2 btn buttonComment hover:bg-gray-200">Send
                                                            follow up for email</button>
                                                    </div>
                                                </div>
                                                <div class="col-md-4 col-12">
                                                    <p class="text-lg font-bold">Make Manual Updates to this Imprint
                                                        Status</p>
                                                    <div class="space-y-1">
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,2,'status')"
                                                            class="min-w-30 rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                                                            [disabled]="imprint.pendingStatusLoader">
                                                            <span *ngIf="!imprint?.pendingStatusLoader">New
                                                                pending</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.pendingStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,3,'status')"
                                                            class="min-w-30 rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                                                            [disabled]="imprint.awaitingStatusLoader">
                                                            <span *ngIf="!imprint?.awaitingStatusLoader">Awaiting
                                                                artwork approval</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.awaitingStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,13,'status')"
                                                            class="min-w-30 rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                                                            [disabled]="imprint.followStatusLoader">
                                                            <span *ngIf="!imprint?.followStatusLoader">Follow
                                                                up for approval</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.followStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,7,'status')"
                                                            class="min-w-30 rounded-md bg-orange-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-600"
                                                            [disabled]="imprint.proofStatusLoader">
                                                            <span *ngIf="!imprint?.proofStatusLoader">No
                                                                proof needed</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.proofStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button *ngIf="imprint.blnAttention" type="button"
                                                            class="min-w-30 rounded-md bg-green-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600"
                                                            [diabled]="imprint.isFlagLoader"
                                                            (click)="updateAttentionFlagOrder(imprint, false)">
                                                            <span *ngIf="!imprint?.isFlagLoader">Unflag
                                                                as awaiting info</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.isFlagLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <button *ngIf="!imprint.blnAttention" type="button"
                                                            class="min-w-30 rounded-md bg-orange-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-600"
                                                            [diabled]="imprint.isFlagLoader"
                                                            (click)="updateAttentionFlagOrder(imprint, true)">
                                                            <span *ngIf="!imprint?.isFlagLoader">
                                                                <Form:post></Form:post>Flag
                                                                as awaiting info
                                                            </span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.isFlagLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                    </div>
                                                    <div class="mt-3">
                                                        <p class="text-md font-bold">Designer Notes:</p>
                                                        <fuse-alert *ngIf="!imprint?.designerNotes" class="my-2"
                                                            [appearance]="'soft'" [type]="'warning'" [showIcon]="false">
                                                            No design notes defined for this decorator.
                                                        </fuse-alert>
                                                        <div class="h-40 border overflow-y-auto p-2"
                                                            *ngIf="imprint?.designerNotes"
                                                            [innerHTML]="imprint?.designerNotes"></div>
                                                    </div>
                                                </div>
                                            </div>
                                            <p class="text-lg font-bold">Make Manual Updates to this Imprint Status</p>
                                            <div class="row">
                                                <div class="col-md-6 col-12">
                                                    <p class="text-md font-bold">Offline Customer Communication:</p>
                                                    <mat-radio-group class="example-radio-group"
                                                        [(ngModel)]="imprint.statusID">
                                                        <mat-radio-button class="example-radio-button" value="approve"
                                                            checked [value]="9">Customer Approved
                                                            Artwork with comments</mat-radio-button>
                                                        <mat-radio-button class="example-radio-button" value="request"
                                                            [value]="2">Customer
                                                            Requested Artwork Change</mat-radio-button>
                                                    </mat-radio-group>
                                                    <mat-checkbox
                                                        matTooltip="Requires that the customer respond to the graphics team.  This removes the option for the customer to simply approve the artwork until this option is unchecked.">Respond
                                                        to designer</mat-checkbox>
                                                </div>
                                                <div class="col-md-6 col-12">
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Please enter comments regarding this
                                                            communication:</mat-label>
                                                        <textarea matInput
                                                            [(ngModel)]="imprint.proofComments"></textarea>
                                                    </mat-form-field>
                                                    <div class="tex-right">
                                                        <button
                                                            class="min-w-30 mt-2 btn buttonComment hover:bg-gray-200"
                                                            (click)="applyStatusChangeImprint(imprint, imprint.statusID,'apply')"
                                                            [disabled]="imprint.applyStatusLoader">
                                                            <span *ngIf="!imprint?.applyStatusLoader">Apply Status
                                                                Change</span>
                                                            <mat-progress-spinner *ngIf="imprint?.applyStatusLoader"
                                                                [diameter]="24" [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!--- FOLLOW UP FOR APPROVAL --->
                                        <div *ngIf="imprint.pk_statusID == 13" class="rounded-2xl shadow bg-card p-4 ">
                                            <div *ngIf="imprint.viewProofCheck || imprint.viewFinalArtworkCheck">
                                                <b>
                                                    <div class="flex space-x-1">
                                                        <a target="_blank" class="underline"
                                                            *ngIf="imprint.viewProofCheck"
                                                            href="https://assets.consolidus.com/artwork/Proof/{{this.paramData.pfk_userID}}/{{this.paramData.fk_orderID}}/{{this.paramData.pk_orderLineID}}/{{imprint.pk_imprintID}}.jpg?{{randomString}}">(Click
                                                            here to view proof)</a>
                                                    </div>
                                                </b>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-8 col-12">
                                                    <!-- Proof Contact -->
                                                    <div class="flex space-x-2 align-items-center"
                                                        *ngIf="smartArtUser.blnMaster && orderData.blnAdditionalArtApproval">
                                                        <mat-form-field class="w-full">
                                                            <mat-label>Proof Contact</mat-label>
                                                            <mat-select matInput [(ngModel)]="imprint.selectedContact">
                                                                <mat-option
                                                                    [value]="orderData.sessionArtwork_artApprovalContactID">{{orderData.sessionArtworkFirstName
                                                                    +
                                                                    ' '
                                                                    +orderData.sessionArtworkLastName}}</mat-option>
                                                                <mat-option *ngFor="let contact of contactProofs"
                                                                    [value]="contact"
                                                                    [attr.data-blnStoreUserApproval]="contact.blnStoreUserApproval">{{contact.firstName
                                                                    + ' ' +
                                                                    contact.lastName}}</mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                        <button
                                                            class="min-w-30 h-10 rounded-md bg-green-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600 "
                                                            type="button" (click)="updateProofContact(imprint)"
                                                            [disabled]="imprint?.isProofLoader">
                                                            <span *ngIf="!imprint?.isProofLoader">Update</span>
                                                            <div class="flex justify-center"
                                                                *ngIf="imprint?.isProofLoader">
                                                                <mat-progress-spinner [diameter]="24"
                                                                    [mode]="'indeterminate'">
                                                                </mat-progress-spinner>
                                                            </div>
                                                        </button>
                                                    </div>
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Email recipients (comma-separated)</mat-label>
                                                        <input matInput [(ngModel)]="imprint.emailRecipients"
                                                            id="email-{{imprint.pk_imprintID}}">
                                                    </mat-form-field>
                                                    <div>
                                                        <button
                                                            class="min-w-30 mt-2 btn buttonComment hover:bg-gray-200">Send
                                                            follow up email</button>
                                                    </div>
                                                </div>
                                                <div class="col-md-4 col-12">
                                                    <p class="text-lg font-bold">Make Manual Updates to this Imprint
                                                        Status</p>
                                                    <div class="space-y-1">
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,2,'status')"
                                                            class="min-w-30 rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                                                            [disabled]="imprint.pendingStatusLoader">
                                                            <span *ngIf="!imprint?.pendingStatusLoader">New
                                                                pending</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.pendingStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,7,'status')"
                                                            class="min-w-30 rounded-md bg-orange-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-600"
                                                            [disabled]="imprint.proofStatusLoader">
                                                            <span *ngIf="!imprint?.proofStatusLoader">No
                                                                proof needed</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.proofStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button *ngIf="imprint.blnAttention" type="button"
                                                            class="min-w-30 rounded-md bg-green-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600"
                                                            [diabled]="imprint.isFlagLoader"
                                                            (click)="updateAttentionFlagOrder(imprint, false)">
                                                            <span *ngIf="!imprint?.isFlagLoader">Unflag
                                                                as awaiting info</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.isFlagLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <button *ngIf="!imprint.blnAttention" type="button"
                                                            class="min-w-30 rounded-md bg-orange-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-600"
                                                            [diabled]="imprint.isFlagLoader"
                                                            (click)="updateAttentionFlagOrder(imprint, true)">
                                                            <span *ngIf="!imprint?.isFlagLoader">
                                                                <Form:post></Form:post>Flag
                                                                as awaiting info
                                                            </span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.isFlagLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                    </div>
                                                    <div class="mt-3">
                                                        <p class="text-md font-bold">Designer Notes:</p>
                                                        <fuse-alert *ngIf="!imprint?.designerNotes" class="my-2"
                                                            [appearance]="'soft'" [type]="'warning'" [showIcon]="false">
                                                            No design notes defined for this decorator.
                                                        </fuse-alert>
                                                        <div class="h-40 border overflow-y-auto p-2"
                                                            *ngIf="imprint?.designerNotes"
                                                            [innerHTML]="imprint?.designerNotes"></div>
                                                    </div>
                                                </div>
                                            </div>
                                            <p class="text-lg font-bold">Make Manual Updates to this Imprint Status</p>
                                            <div class="row">
                                                <div class="col-md-6 col-12">
                                                    <p class="text-md font-bold">Offline Customer Communication:</p>
                                                    <mat-radio-group class="example-radio-group"
                                                        [(ngModel)]="imprint.statusID">
                                                        <mat-radio-button class="example-radio-button" value="approve"
                                                            checked [value]="9">Customer Approved
                                                            Artwork with comments</mat-radio-button>
                                                        <mat-radio-button class="example-radio-button" value="request"
                                                            [value]="2">Customer
                                                            Requested Artwork Change</mat-radio-button>
                                                    </mat-radio-group>
                                                    <mat-checkbox
                                                        matTooltip="Requires that the customer respond to the graphics team.  This removes the option for the customer to simply approve the artwork until this option is unchecked.">Respond
                                                        to designer</mat-checkbox>
                                                </div>
                                                <div class="col-md-6 col-12">
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Please enter comments regarding this
                                                            communication:</mat-label>
                                                        <textarea matInput
                                                            [(ngModel)]="imprint.proofComments"></textarea>
                                                    </mat-form-field>
                                                    <div class="tex-right">
                                                        <button
                                                            class="min-w-30 mt-2 btn buttonComment hover:bg-gray-200"
                                                            (click)="applyStatusChangeImprint(imprint, imprint.statusID,'apply')"
                                                            [disabled]="imprint.applyStatusLoader">
                                                            <span *ngIf="!imprint?.applyStatusLoader">Apply Status
                                                                Change</span>
                                                            <mat-progress-spinner *ngIf="imprint?.applyStatusLoader"
                                                                [diameter]="24" [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!--- PO Sent --->
                                        <div *ngIf="imprint.pk_statusID == 16" class="rounded-2xl shadow bg-card p-4 ">
                                            <div *ngIf="imprint.viewProofCheck || imprint.viewFinalArtworkCheck">
                                                <b>
                                                    <div class="flex space-x-1">
                                                        <p>Send Art To Decorator | </p>
                                                        <a target="_blank" class="underline"
                                                            *ngIf="imprint.viewProofCheck"
                                                            href="https://assets.consolidus.com/artwork/Proof/{{this.paramData.pfk_userID}}/{{this.paramData.fk_orderID}}/{{this.paramData.pk_orderLineID}}/{{imprint.pk_imprintID}}.jpg?{{randomString}}">(Click
                                                            here to view proof)</a>
                                                    </div>
                                                </b>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-8 col-12">
                                                    <h3>Please enter the artwork's PO Number: (enter only numbers,
                                                        dashes, or letters)</h3>
                                                    <br>
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Artwork PO</mat-label>
                                                        <input matInput [(ngModel)]="imprint.artworkPO">
                                                    </mat-form-field>
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Email recipients (comma-separated)</mat-label>
                                                        <input matInput [(ngModel)]="imprint.emailRecipients"
                                                            id="email-{{imprint.pk_imprintID}}">
                                                    </mat-form-field>
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Add any comments:
                                                        </mat-label>
                                                        <textarea matInput id="comment-{{imprint.pk_imprintID}}"
                                                            [(ngModel)]="imprint.finalArtworkComments"></textarea>
                                                    </mat-form-field>
                                                    <label for="">Select the final artwork file</label>
                                                    <br>
                                                    <input type="file" #finalArtworkFileInput
                                                        (change)="uploadFinalArtworkFile($event)">
                                                    <div>
                                                        <button (click)="uploadFinalArtworkFileToServer(imprint,'')"
                                                            class="min-w-30 mt-2 btn buttonComment hover:bg-gray-200">
                                                            <span *ngIf="!imprint?.finalArtworkProofLoader">Send
                                                                artwork to decorator</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.finalArtworkProofLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="col-md-4 col-12">
                                                    <p class="text-lg font-bold">Make Manual Updates to this Imprint
                                                        Status</p>
                                                    <div class="space-y-1">
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,2,'status')"
                                                            class="min-w-30 rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                                                            [disabled]="imprint.pendingStatusLoader">
                                                            <span *ngIf="!imprint?.pendingStatusLoader">New
                                                                pending</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.pendingStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,3,'status')"
                                                            class="min-w-30 rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                                                            [disabled]="imprint.awaitingStatusLoader">
                                                            <span *ngIf="!imprint?.awaitingStatusLoader">Awaiting
                                                                artwork approval</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.awaitingStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,11,'status')"
                                                            class="min-w-30 rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                                                            [disabled]="imprint.productionStatusLoader">
                                                            <span *ngIf="!imprint?.productionStatusLoader">In
                                                                Production</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.productionStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                    </div>
                                                    <div class="mt-3">
                                                        <p class="text-md font-bold">Designer Notes:</p>
                                                        <fuse-alert *ngIf="!imprint?.designerNotes" class="my-2"
                                                            [appearance]="'soft'" [type]="'warning'" [showIcon]="false">
                                                            No design notes defined for this decorator.
                                                        </fuse-alert>
                                                        <div class="h-40 border overflow-y-auto p-2"
                                                            *ngIf="imprint?.designerNotes"
                                                            [innerHTML]="imprint?.designerNotes"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!--- WAITING FOR GROUP ORDER --->
                                        <div *ngIf="imprint.pk_statusID == 17" class="rounded-2xl shadow bg-card p-4 ">
                                            <div class="row">
                                                <div class="col-md-8 col-12">
                                                    <h3>Waiting For group order To Finish</h3>
                                                    <div class="alert alert-warning no-bottom-margin">
                                                        This order is currently waiting for the group order to finish.
                                                    </div>
                                                </div>
                                                <div class="col-md-4 col-12">
                                                    <p class="text-lg font-bold">Make Manual Updates to this Imprint
                                                        Status</p>
                                                    <div class="space-y-1">
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,2,'status')"
                                                            class="min-w-30 rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                                                            [disabled]="imprint.pendingStatusLoader">
                                                            <span *ngIf="!imprint?.pendingStatusLoader">New
                                                                pending</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.pendingStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br>
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,3,'status')"
                                                            class="min-w-30 rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                                                            [disabled]="imprint.awaitingStatusLoader">
                                                            <span *ngIf="!imprint?.awaitingStatusLoader">Awaiting
                                                                artwork approval</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.awaitingStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                        <br
                                                            *ngIf="(imprint.fk_artApprovalContactID || imprint.fk_storeUserApprovalContactID) && !imprint.blnStoreUserApprovalDone">
                                                        <button type="button"
                                                            (click)="applyStatusChangeImprint(imprint,7,'status')"
                                                            class="min-w-30 rounded-md bg-orange-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-600"
                                                            [disabled]="imprint.proofStatusLoader">
                                                            <span *ngIf="!imprint?.proofStatusLoader">No
                                                                proof needed</span>
                                                            <mat-progress-spinner [color]="'light'"
                                                                *ngIf="imprint?.proofStatusLoader" [diameter]="24"
                                                                [mode]="'indeterminate'">
                                                            </mat-progress-spinner>
                                                        </button>
                                                    </div>
                                                    <div class="mt-3">
                                                        <p class="text-md font-bold">Designer Notes:</p>
                                                        <fuse-alert *ngIf="!imprint?.designerNotes" class="my-2"
                                                            [appearance]="'soft'" [type]="'warning'" [showIcon]="false">
                                                            No design notes defined for this decorator.
                                                        </fuse-alert>
                                                        <div class="h-40 border overflow-y-auto p-2"
                                                            *ngIf="imprint?.designerNotes"
                                                            [innerHTML]="imprint?.designerNotes"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </mat-expansion-panel>
                        <mat-expansion-panel [expanded]="false" *ngIf="orderData.blnGroupRun">
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    Additional Group Run Items
                                </mat-panel-title>
                            </mat-expansion-panel-header>
                            <div class="my-3">
                                <div class="row mb-2" *ngFor="let item of orderData.qryGroupRun">
                                    <div class="col-md-2 col-12">
                                        <img
                                            src="{{assetUrl}}globalAssets/Products/Images/{{item.pk_storeProductID}}.jpg?{{randomString}}">
                                    </div>
                                    <div class="col-md-10 col-12">
                                        <table>
                                            <tr>
                                                <td><b>SKU: </b>{{item.SKU}}</td>
                                                <td><b>Supplier: </b>{{item.supplierName}}</td>
                                                <td>
                                                    <b>Product: </b>
                                                    <span>
                                                        <a href="{{item.supplierLink}}"
                                                            target="_blank">{{item.productName}}</a>
                                                    </span>
                                                </td>

                                            </tr>
                                            <tr>
                                                <td><b>Quantity: </b>{{item.quantity}}</td>
                                                <td><b>Imprint Colors: </b>{{item.imprintColors}}</td>
                                                <td>
                                                    <b>Imprint Size: </b>
                                                    <span>{{item.area}}</span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <b>Item Dimensions: </b>
                                                    <span>{{item.itemDimensions}}</span>
                                                </td>

                                                <td>
                                                    <b>Item Colors: </b>
                                                    <span>{{item.itemColors}}</span>
                                                </td>
                                                <td>
                                                    <b>Imprint Method: </b>
                                                    <span>{{item.imprintMethod}}</span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <b>Imprint Location: </b>
                                                    <span> {{item.imprintLocation}}</span>
                                                </td>
                                                <td></td>
                                                <td></td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </mat-expansion-panel>
                    </mat-accordion>
                </div>
            </div>
        </div>
    </div>
</div>