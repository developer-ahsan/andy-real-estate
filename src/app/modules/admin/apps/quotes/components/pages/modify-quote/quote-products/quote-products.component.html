<!-- <div class="mx-2 rounded-2xl p-5 w-full">
    <ngx-skeleton-loader count="8" appearance="line" animation="pulse" *ngIf="isLoading">
    </ngx-skeleton-loader>
    <div class="shadow bg-card p-3" *ngIf="!isLoading">
        <div class="text-lg font-bold text-secondary mb-2">Quote Products</div>
        <div class="alert alert-primary text-secondary text-sm" role="alert">
            <p> This is how the delivery information currently appears to the customer.</p>
        </div>
        Products List
        <div>
            <mat-button-toggle-group #group="matButtonToggleGroup" name="fontStyle" aria-label="Font Style"
                [(ngModel)]="ngSelectedProduct" (change)="changeOrderLine(group.value)">
                <mat-button-toggle *ngFor="let item of orderProducts"
                    [value]="item">{{item.products[0].pk_storeProductID}}</mat-button-toggle>
            </mat-button-toggle-group>
        </div>
        Products List

        <mat-form-field class="w-full">
            <mat-label>Prducts</mat-label>
            <input matInput placeholder="Search Products" matTooltip="Search Products by name" [matAutocomplete]="auto"
                [formControl]="searchProductCtrl">
            <mat-autocomplete class="w-full" #auto="matAutocomplete" (optionSelected)="onSelected($event)"
                [displayWith]="displayWith">
                <mat-option *ngIf="isSearchingProduct" class="is-loading">Loading...</mat-option>
                <ng-container *ngIf="!isSearchingProduct">
                    <mat-option *ngFor="let item of allProducts" [value]="item">
                        <span>{{item.productName}}</span>
                    </mat-option>
                </ng-container>
            </mat-autocomplete>
        </mat-form-field>
    </div>
</div> -->



<div class="mx-3 rounded-2xl p-5 w-full">

    <div class="my-3" *ngIf="isLoading">
        <ngx-skeleton-loader count="8" appearance="line" animation="pulse">
        </ngx-skeleton-loader>
    </div>
    <div class="row my-3 w-full" *ngIf="!isLoading && selectedCartLine">
        <div class="col-12 flex justify-between mb-2">
            <div>
                <mat-button-toggle-group #group="matButtonToggleGroup" name="fontStyle" aria-label="Font Style"
                    [(ngModel)]="selectedCartLine" (change)="changeCartLine(group.value)">
                    <mat-button-toggle *ngFor="let item of cartLines"
                        [value]="item">{{item.pk_storeProductID}}</mat-button-toggle>
                </mat-button-toggle-group>
            </div>
        </div>
        <mat-accordion class="example-headers-align w-full" multi>

            <!-- Start New Group Run Item -->
            <!-- <ng-container *ngIf="selectedCartLine.blnGroupRun"> -->
            <!-- <ng-container *ngIf="selectedQuoteDetail.blnGroupOrder"> -->
            <!-- <mat-expansion-panel [expanded]="true">
                    <ng-container *ngIf="selectedCartLine.imprintDetailsData.length && (selectedCartLine.blnGroupRun || selectedCartLine.qryCartLine.groupRunCartLineID);else notGroupQuote">
                    <mat-expansion-panel-header>
                        <mat-panel-title class="text-lg font-bold">
                            New group run product
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="row m-3">
                        <div class="col-md-3 col-12">
                            <mat-form-field class="w-full">
                                <mat-label>Prducts</mat-label>
                                <input matInput placeholder="Search Products" matTooltip="Search Products by name"
                                    [matAutocomplete]="auto" [formControl]="searchProductCtrl">
                                <mat-autocomplete class="w-full" #auto="matAutocomplete"
                                    (optionSelected)="onSelected($event)" [displayWith]="displayWith">
                                    <mat-option *ngIf="isSearchingProduct" class="is-loading">Loading...</mat-option>
                                    <ng-container *ngIf="!isSearchingProduct">
                                        <mat-option *ngFor="let item of allProducts" [value]="item">
                                            <span>{{item.productName}}</span>
                                        </mat-option>
                                    </ng-container>
                                </mat-autocomplete>
                            </mat-form-field>
                        </div>
                        <div class="col-md-3 col-12">
                            <mat-form-field class="w-full" matTooltip="Quantity must be greater than or equal to 20">
                                <mat-label>Quantity</mat-label>
                                <input type="number" min="0" matInput [(ngModel)]="newProductQuantity">
                            </mat-form-field>
                        </div>
                        <div class="col-md-3 col-12">
                            <mat-form-field class="w-full">
                                <mat-label>Color</mat-label>
                                <input matInput placeholder="Search Products" matTooltip="Search Products by name"
                                    [matAutocomplete]="auto" [formControl]="searchProductCtrl">
                                <mat-autocomplete class="w-full" #auto="matAutocomplete"
                                    (optionSelected)="onSelected($event)" [displayWith]="displayWith">
                                    <mat-option *ngIf="isSearchingProduct" class="is-loading">Loading...</mat-option>
                                    <ng-container *ngIf="!isSearchingProduct">
                                        <mat-option *ngFor="let item of allProducts" [value]="item">
                                            <span>{{item.productName}}</span>
                                        </mat-option>
                                    </ng-container>
                                </mat-autocomplete>
                            </mat-form-field>
                        </div>
                        <div class="col-md-3 col-12">
                            <mat-form-field class="w-full">
                                <mat-label>Size</mat-label>
                                <input matInput placeholder="Search Products" matTooltip="Search Products by name"
                                    [matAutocomplete]="auto" [formControl]="searchProductCtrl">
                                <mat-autocomplete class="w-full" #auto="matAutocomplete"
                                    (optionSelected)="onSelected($event)" [displayWith]="displayWith">
                                    <mat-option *ngIf="isSearchingProduct" class="is-loading">Loading...</mat-option>
                                    <ng-container *ngIf="!isSearchingProduct">
                                        <mat-option *ngFor="let item of allProducts" [value]="item">
                                            <span>{{item.productName}}</span>
                                        </mat-option>
                                    </ng-container>
                                </mat-autocomplete>
                            </mat-form-field>
                        </div>
                        <div class="flex flex-row gap-x-3 ml-3">
                            <mat-checkbox class="mr-1" [(ngModel)]="newBlnOverride">Override Shipping</mat-checkbox>
                            <mat-checkbox class="mr-1" [(ngModel)]="newBlnSample">Sample</mat-checkbox>
                            <mat-checkbox class="mr-1" [(ngModel)]="newBlnTax">Taxable</mat-checkbox>
                            <mat-checkbox class="mr-1" [(ngModel)]="newRoyalty">Royalty</mat-checkbox>
                        </div>
                        <div class="col-12 text-right">
                            <button mat-button mat-stroked-button (click)="addNewProduct()" [disabled]="isAddNewProdLoader">
                                <span *ngIf="!isAddNewProdLoader">Add new product</span>
                                <mat-progress-spinner *ngIf="isAddNewProdLoader" [diameter]="24" [mode]="'indeterminate'">
                                </mat-progress-spinner>
                            </button>
                        </div>
                    </div>
                </ng-container>
                <ng-template #notGroupQuote>
                    <div class="alert alert-warning no-bottom-margin">
                        <span class="fa fa-exclamation-circle"></span> Please add at least one imprint to this master group run product before adding additional sub group run products.
                    </div>
                </ng-template>
                </mat-expansion-panel> -->
            <!-- </ng-container> -->
            <!-- </ng-container> -->
            <!-- End New Group Run Item -->
            <!-- Add New Product -->
            <mat-expansion-panel [expanded]="false" *ngIf="ngNewProduct">
                <mat-expansion-panel-header>
                    <mat-panel-title class="text-lg font-bold">
                        Add New Product
                    </mat-panel-title>
                </mat-expansion-panel-header>
                <div class="row m-3">
                    <div class="col-md-3 col-12">
                        <mat-label>Select Product</mat-label>
                        <ng-multiselect-dropdown [(ngModel)]="ngNewProduct" [placeholder]="'Select Product'"
                            [settings]="dropdownSettings" [data]="allProducts" (onSelect)="onItemSelect($event)">
                        </ng-multiselect-dropdown>
                        <!-- <mat-form-field class="w-full">
                            <mat-label>Select Product</mat-label>
                            <input matInput placeholder="Search Products" matTooltip="Search Products by name"
                                [matAutocomplete]="auto" [formControl]="searchProductCtrl">
                            <mat-autocomplete class="w-full" #auto="matAutocomplete"
                                (optionSelected)="onSelected($event)" [displayWith]="displayWith">
                                <mat-option *ngIf="isSearchingProduct" class="is-loading">Loading...</mat-option>
                                <ng-container *ngIf="!isSearchingProduct">
                                    <mat-option *ngFor="let item of allProducts" [value]="item">
                                        <span>{{item.productName}}</span>
                                    </mat-option>
                                </ng-container>
                            </mat-autocomplete>
                        </mat-form-field> -->
                    </div>
                    <div class="col-md-3 col-12">
                        <mat-form-field class="w-full">
                            <mat-label>Quantity</mat-label>
                            <input type="number" min="0" matInput [(ngModel)]="newProductQuantity">
                        </mat-form-field>
                    </div>
                    <div class="col-md-3 col-12">
                        <mat-form-field class="w-full">
                            <mat-label>Color</mat-label>
                            <mat-select matInput [(ngModel)]="newProductColor">
                                <mat-option *ngFor="let color of selectedCartLine.ColorsListData"
                                    [value]="color.pk_colorID">{{color.colorName}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class="col-md-3 col-12">
                        <mat-form-field class="w-full">
                            <mat-label>Size</mat-label>
                            <mat-select matInput [(ngModel)]="newProductSize">
                                <mat-option *ngIf="selectedCartLine?.sizesListData?.length == 0"
                                    [value]="0">N/A</mat-option>
                                <mat-option *ngFor="let size of selectedCartLine.sizesListData"
                                    [value]="size.pk_sizeID">{{size.sizeName}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class="w-full">
                        <div class="alert alert-info">Quantity must be greater than or equal to
                            {{ngNewProduct[0]?.minQuantity}}</div>
                    </div>
                    <div class="flex flex-row gap-x-3 ml-3">
                        <mat-checkbox class="mr-1" [(ngModel)]="newBlnOverride">Override Shipping</mat-checkbox>
                        <mat-checkbox class="mr-1" [(ngModel)]="newBlnSample">Sample</mat-checkbox>
                        <mat-checkbox class="mr-1" [(ngModel)]="newBlnTax">Taxable</mat-checkbox>
                        <mat-checkbox class="mr-1" [(ngModel)]="newBlnRoyalty">Royalty</mat-checkbox>
                    </div>
                    <div class="col-12 text-right">
                        <button class="min-w-40" mat-button mat-stroked-button (click)="addNewProduct()"
                            [disabled]="isAddNewProdLoader">
                            <span *ngIf="!isAddNewProdLoader">Add new product</span>
                            <mat-progress-spinner *ngIf="isAddNewProdLoader" [diameter]="24" [mode]="'indeterminate'">
                            </mat-progress-spinner>
                        </button>
                    </div>
                </div>
            </mat-expansion-panel>

            <!-- Product Info -->
            <mat-expansion-panel [expanded]="true">
                <mat-expansion-panel-header>
                    <mat-panel-title class="text-lg font-bold flex align-items-center">
                        <span class="fa fa-tag fa-md"></span> <span [innerHTML]="selectedCartLine.productName"></span>
                    </mat-panel-title>
                </mat-expansion-panel-header>
                <div class="row m-3">
                    <div class="col-12 ">
                        <b>Vendor:</b> {{selectedCartLine.companyName}}
                    </div>
                    <div class="col-md-6 col-12 min-h-60" style="position: relative;">
                        <mat-label>Current Product</mat-label>
                        <ng-multiselect-dropdown [(ngModel)]="ngCurrentProduct" [placeholder]="'Select Product'"
                            [settings]="dropdownSettings" [data]="allProducts" [style]="{ 'position': 'relative' }"
                            (onSelect)="onItemSelectUpdate($event)">
                        </ng-multiselect-dropdown>
                    </div>
                    <div class="col-md-6 col-12 ">
                        <div class="alert alert-info mt-6">
                            <span class="fa fa-info-circle fa-lg"></span>
                            <b class="ml-2">Min. Quantity:</b> {{ngCurrentProduct[0]?.minQuantity ||
                            ngCurrentProduct[0]?.minOrderQuantity}}
                        </div>
                        <div class="flex flex-row gap-x-3 ml-3">
                            <mat-checkbox class="mr-1"
                                [(ngModel)]="selectedCartLine.blnOverrideShippingProductInfo">Override
                                Shipping</mat-checkbox>
                            <mat-checkbox class="mr-1" [(ngModel)]="selectedCartLine.blnSample">Sample</mat-checkbox>
                            <mat-checkbox class="mr-1" [(ngModel)]="selectedCartLine.blnTaxable">Taxable</mat-checkbox>
                            <mat-checkbox class="mr-1" *ngIf="selectedQuoteDetail.blnRoyaltyStore"
                                [(ngModel)]="selectedCartLine.blnRoyalty">Royalty</mat-checkbox>
                        </div>
                    </div>

                    <div class="col-12 text-right">
                        <button
                            *ngIf="selectedQuoteDetail.blnGroupOrder && !selectedCartLine.blnGroupRun && !selectedCartLine.groupRunCartLineID && selectedCartLine.blnApparel"
                            class="mr-2 min-w-40" mat-button mat-flat-button color="primary"
                            (click)="makeGroupRunMaster(true)" [disabled]="selectedCartLine.isUpdateGroupRunLoader">
                            <span *ngIf="!selectedCartLine.isUpdateGroupRunLoader">Make group run master</span>
                            <mat-progress-spinner *ngIf="selectedCartLine.isUpdateGroupRunLoader" [diameter]="24"
                                [mode]="'indeterminate'">
                            </mat-progress-spinner>
                        </button>
                        <button
                            *ngIf="!selectedQuoteDetail.blnGroupOrder && !selectedCartLine.blnGroupRun && !selectedCartLine.groupRunCartLineID && selectedCartLine.blnApparel"
                            class="mr-2 min-w-40" mat-button mat-flat-button color="primary"
                            (click)="makeGroupRunMaster(false)" [disabled]="selectedCartLine.isUpdateGroupRunLoader">
                            <span *ngIf="!selectedCartLine.isUpdateGroupRunLoader">Clear group run master</span>
                            <mat-progress-spinner *ngIf="selectedCartLine.isUpdateGroupRunLoader" [diameter]="24"
                                [mode]="'indeterminate'">
                            </mat-progress-spinner>
                        </button>

                        <button class="bg-red-500 text-white mr-2 min-w-40" mat-button mat-stroked-button
                            (click)="removeCartProduct()" [disabled]="selectedCartLine.removeCartLoader">
                            <span *ngIf="!selectedCartLine.removeCartLoader">Remove item</span>
                            <mat-progress-spinner *ngIf="selectedCartLine.removeCartLoader" [diameter]="24"
                                [mode]="'indeterminate'">
                            </mat-progress-spinner>
                        </button>
                        <button mat-button mat-flat-button color="primary" class="min-w-40" (click)="updateProduct()"
                            [disabled]="selectedCartLine.updateProductLoader">
                            <span *ngIf="!selectedCartLine.updateProductLoader">Update product</span>
                            <mat-progress-spinner *ngIf="selectedCartLine.updateProductLoader" [diameter]="24"
                                [mode]="'indeterminate'">
                            </mat-progress-spinner>
                        </button>
                    </div>
                </div>
            </mat-expansion-panel>
            <!-- Start New Group Run Item -->
            <ng-container *ngIf="selectedCartLine.blnGroupRun && !selectedQuoteDetail.blnGroupOrder">
                <ng-container
                    *ngIf="selectedCartLine?.selectedImprints?.length && (selectedCartLine.groupRunCartLineID || selectedQuoteDetail.blnGroupOrder);else notGroupOrder">
                    <mat-expansion-panel [expanded]="true">
                        <mat-expansion-panel-header>
                            <mat-panel-title class="text-lg font-bold flex align-items-center">
                                Add Group Run Item
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="row m-3">
                            <div class="col-md-6 col-12 " style="position: relative;">
                                <mat-label>New group run product</mat-label>
                                <ng-multiselect-dropdown [(ngModel)]="ngCurrentGroupProduct"
                                    [placeholder]="'Select Product'" [settings]="dropdownSettings" [data]="allProducts"
                                    [style]="{ 'position': 'relative' }" (onSelect)="OnItemSelectUpdateGroup($event)">
                                </ng-multiselect-dropdown>
                            </div>
                            <div class="col-md-6 col-12 ">
                                <div class="alert alert-info mt-6">
                                    <span class="fa fa-info-circle fa-lg"></span>
                                    <b class="ml-2">Min. Quantity:</b> {{ngCurrentGroupProduct[0]?.minQuantity ||
                                    ngCurrentGroupProduct[0]?.minOrderQuantity}}
                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <mat-form-field class="w-full">
                                    <mat-label>Quantity</mat-label>
                                    <input type="number" [(ngModel)]="newGroupProductQuantity" min="0" matInput>
                                </mat-form-field>
                            </div>
                            <div class="col-12">
                                <div class="flex flex-row gap-x-3 ml-3">
                                    <mat-checkbox class="mr-1" [(ngModel)]="newGroupBlnOverride">Override
                                        Shipping</mat-checkbox>
                                    <mat-checkbox class="mr-1"
                                        [(ngModel)]="selectedCartLine.newGroupBlnSample">Sample</mat-checkbox>
                                    <mat-checkbox class="mr-1" [(ngModel)]="newGroupBlnTax">Taxable</mat-checkbox>
                                    <mat-checkbox class="mr-1" *ngIf="selectedQuoteDetail.blnRoyaltyStore"
                                        [(ngModel)]="newGroupBlnRoyalty">Royalty</mat-checkbox>
                                </div>
                            </div>
                            <div class="col-12 text-right">
                                <button mat-button mat-flat-button color="primary" class="min-w-40"
                                    (click)="addGroupRunProduct()" [disabled]="isAddNewGroupProdLoader">
                                    <span *ngIf="!isAddNewGroupProdLoader">Add group run product</span>
                                    <mat-progress-spinner *ngIf="isAddNewGroupProdLoader" [diameter]="24"
                                        [mode]="'indeterminate'">
                                    </mat-progress-spinner>
                                </button>
                            </div>
                        </div>
                    </mat-expansion-panel>
                </ng-container>
                <ng-template #notGroupOrder>
                    <div class="alert alert-warning my-2">
                        <span class="fa fa-exclamation-circle fa-lg"></span>
                        Please add at least one imprint to this master group run product before adding additional
                        sub group run products.
                    </div>
                </ng-template>
            </ng-container>

            <!-- Product Options -->
            <mat-expansion-panel [expanded]="true">
                <mat-expansion-panel-header>
                    <mat-panel-title class="text-lg font-bold">
                        Product Options
                    </mat-panel-title>
                </mat-expansion-panel-header>
                <div class="col-12">
                    <table
                        class="w-full table table-striped table-bordered table-condensed table-hover  wide no-bottom-margin"
                        id="updateProductOptionsTable_138125">
                        <thead>
                            <tr class="columnHeader2">
                                <td width="20%" colspan="2">COLOR/SIZE</td>
                                <td width="5%" align="center">QTY</td>
                                <td width="20%" colspan="2" align="center">COST</td>
                                <td width="20%" colspan="2" align="center">PRICE</td>
                                <td width="1%" align="center" valign="middle"><span class="fa fa-trash fa-lg"></span>
                                </td>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td colspan="2"></td>
                                <td></td>
                                <td colspan="2">
                                    <mat-form-field class="w-full">
                                        <mat-label>Standard Cost:</mat-label>
                                        <span matSuffix>$ &nbsp;</span>
                                        <input type="text" maxlength="8" name="standardCost" matInput
                                            [(ngModel)]="selectedCartLine.cartLineBaseCost">
                                    </mat-form-field>
                                </td>

                                <td colspan="2">
                                    <mat-form-field class="w-full">
                                        <mat-label>Standard Price:</mat-label>
                                        <span matSuffix>$ &nbsp;</span>
                                        <input type="text" maxlength="8" name="standardPrice" matInput
                                            [(ngModel)]="selectedCartLine.cartLineBasePrice">
                                    </mat-form-field>
                                </td>
                                <td></td>
                            </tr>

                            <tr>
                                <td>
                                    <b>Color</b>
                                </td>
                                <td><b>Size</b></td>
                                <td></td>
                                <td align="center"><b>Unit</b></td>
                                <td align="center"><b>Total</b></td>
                                <td align="center"><b>Unit</b></td>
                                <td align="center"><b>Total</b></td>
                                <td></td>
                            </tr>



                            <tr class="" *ngFor="let product of selectedCartLine.ColorsData">
                                <td width="10%">
                                    <select *ngIf="selectedCartLine.ColorsListData.length != 0"
                                        class="select1 wide form-control" [(ngModel)]="product.pk_colorID">
                                        <option *ngFor="let color of selectedCartLine.ColorsListData"
                                            [value]="color.pk_colorID">
                                            {{color.colorName}}</option>
                                    </select>
                                    <select *ngIf="selectedCartLine.ColorsListData.length == 0"
                                        class="select1 wide form-control" [(ngModel)]="product.pk_colorID">
                                        <option [value]="0">N/A</option>
                                    </select>
                                </td>

                                <td width="10%">
                                    <select *ngIf="selectedCartLine.sizesListData.length != 0"
                                        class="select1 wide form-control" [(ngModel)]="product.pk_sizeID">
                                        <option *ngFor="let size of selectedCartLine.sizesListData"
                                            [value]="size.pk_sizeID">
                                            {{size.sizeName}}</option>
                                    </select>
                                    <select *ngIf="selectedCartLine.sizesListData.length == 0"
                                        class="select1 wide form-control" [(ngModel)]="product.pk_sizeID">
                                        <option [value]="0">N/A</option>
                                    </select>
                                </td>

                                <td width="10%">
                                    <input min="0" type="number" name="quantity138125"
                                        class="adminInput light wide form-control" [(ngModel)]="product.quantity"
                                        required="" maxlength="8">
                                </td>
                                <td>

                                    <mat-form-field class="w-full">
                                        <span matSuffix>$ &nbsp;</span>
                                        <input type="text" [(ngModel)]="product.runCost" required="" maxlength="8"
                                            matInput>
                                    </mat-form-field>

                                    <!-- </div> -->
                                    <!-- </div> -->
                                </td>
                                <td align="center">+ {{selectedCartLine.cartLineBaseCost | currency}} =
                                    {{(product.runCost
                                    + selectedCartLine.cartLineBaseCost) | currency}}
                                    <br>
                                    {{(product.quantity * (product.runCost + selectedCartLine.cartLineBaseCost)) |
                                    currency}}
                                </td>
                                <td>
                                    <!-- <div class="form-group no-bottom-margin">
                                    <div class="input-group no-bottom-margin">
                                        <div class="input-group-addon">$</div>
                                        <input type="text" class="form-control adminInput light wide"
                                            [(ngModel)]="product.runPrice" required="" maxlength="8">
                                    </div>
                                </div> -->
                                    <mat-form-field class="w-full">
                                        <span matSuffix>$ &nbsp;</span>
                                        <input type="text" [(ngModel)]="product.runPrice" required="" maxlength="8"
                                            matInput>
                                    </mat-form-field>
                                </td>
                                <td align="center">+ {{selectedCartLine.cartLineBasePrice | currency}} =
                                    {{(product.runPrice + selectedCartLine.cartLineBasePrice)
                                    | currency}}
                                    <br>
                                    {{(product.quantity * (product.runPrice + selectedCartLine.cartLineBasePrice)) |
                                    currency}}
                                </td>
                                <td align="center" valign="top">
                                    <mat-checkbox [(ngModel)]="product.isRemoved"></mat-checkbox>
                                </td>
                            </tr>

                            <tr class="columnHeader2 font-bold">
                                <td colspan="2">GRAND TOTAL:</td>
                                <td align="center">{{selectedCartLine.totalQuantity}}</td>
                                <td></td>
                                <td align="center">{{selectedCartLine.totalRunCost | currency}}</td>
                                <td></td>
                                <td align="center">{{selectedCartLine.totalRunPrice | currency}}</td>
                                <td></td>
                            </tr>
                        </tbody>
                    </table>
                    <div class=" flex justify-between align-items-center mb-2">
                        <div class="flex flex-row gap-x-2 ">
                            <mat-checkbox class="mr-1"
                                [(ngModel)]="selectedCartLine.blnOverrideStandardCostPrice">Override
                                Standard Cost/Price</mat-checkbox>
                            <mat-checkbox class="mr-1" [(ngModel)]="selectedCartLine.blnOverrideCostPrice">Override Unit
                                Cost/Price</mat-checkbox>
                            <mat-checkbox class="mr-1"
                                [(ngModel)]="selectedCartLine.blnOverrideShippingOptions">Override
                                Shipping:</mat-checkbox>
                        </div>
                        <div>
                            <button mat-button mat-stroked-button (click)="updateProductOptions()"
                                [disabled]="selectedCartLine.updateOptions" class="min-w-30">
                                <span *ngIf="!selectedCartLine.updateOptions">Update Options</span>
                                <mat-progress-spinner *ngIf="selectedCartLine.updateOptions" [diameter]="24"
                                    [mode]="'indeterminate'">
                                </mat-progress-spinner>
                            </button>
                        </div>
                    </div>
                </div>
            </mat-expansion-panel>
            <!-- Add Product Options -->
            <ng-container *ngIf="!selectedCartLine.blnService">
                <mat-expansion-panel [expanded]="true">
                    <mat-expansion-panel-header>
                        <mat-panel-title class="text-lg font-bold">
                            Add Product Options
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="col-12 mb-2">
                        <div class="row">
                            <div class="col-12 col-md-4">
                                <mat-form-field class="w-full">
                                    <mat-label>Color</mat-label>
                                    <mat-select matInput *ngIf="selectedCartLine.ColorsListData.length != 0"
                                        [(ngModel)]="ngColor">
                                        <mat-option *ngFor="let color of selectedCartLine.ColorsListData"
                                            [value]="color.pk_colorID">{{color.colorName}}</mat-option>
                                    </mat-select>
                                    <mat-select matInput *ngIf="selectedCartLine.ColorsListData.length == 0"
                                        [(ngModel)]="ngColor">
                                        <mat-option [value]="0">N/A</mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-12 col-md-4">
                                <mat-form-field class="w-full">
                                    <mat-label>Size</mat-label>
                                    <mat-select matInput *ngIf="selectedCartLine.sizesListData.length != 0"
                                        [(ngModel)]="ngSize">
                                        <mat-option *ngFor="let size of selectedCartLine.sizesListData"
                                            [value]="size.pk_sizeID">{{size.sizeName}}</mat-option>
                                    </mat-select>
                                    <mat-select matInput *ngIf="selectedCartLine.sizesListData.length == 0"
                                        [(ngModel)]="ngSize">
                                        <mat-option [value]="0">N/A</mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-12 col-md-4">
                                <mat-form-field class="w-full">
                                    <mat-label>Quantity</mat-label>
                                    <input type="number" min="0" matInput [(ngModel)]="ngQuantity">
                                </mat-form-field>
                            </div>
                            <div class="col-12 col-md-4">
                                <mat-checkbox [(ngModel)]="ngOverrideShipping">Override Shipping</mat-checkbox>
                            </div>
                            <div class="col-12 text-right col-md-8">
                                <button mat-button mat-flat-button color="primary" class="min-w-30"
                                    (click)="addProductOptions()" [disabled]="selectedCartLine.addProductOption">
                                    <span *ngIf="!selectedCartLine.addProductOption">Add Option</span>
                                    <mat-progress-spinner *ngIf="selectedCartLine.addProductOption" [diameter]="24"
                                        [mode]="'indeterminate'">
                                    </mat-progress-spinner>
                                </button>
                            </div>
                        </div>
                    </div>
                </mat-expansion-panel>
            </ng-container>
            <!-- Imprint Options -->
            <ng-container *ngIf="!selectedCartLine.groupRunCartLineID;else noImprintData">
                <!-- Imprint Options -->
                <mat-expansion-panel [expanded]="true">
                    <mat-expansion-panel-header>
                        <mat-panel-title class="text-lg font-bold">
                            Imprint Options
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="p-3">
                        <div *ngIf="selectedCartLine?.selectedImprints?.length == 0" class="mt-2">
                            <div class="alert alert-warning">
                                There are currently no imprint defined for this line item.
                            </div>
                        </div>
                        <div *ngFor="let imprint of selectedCartLine.selectedImprints" class="my-2 border-b">
                            <div class="flex justify-between">
                                <div>
                                    <h2 class="font-bold text-lg no-underline inline no-margin no-padding">
                                        {{imprint.locationName}}
                                        /
                                        {{imprint.decorationName}}
                                    </h2>
                                </div>
                                <div>
                                    <mat-icon svgIcon="heroicons_outline:trash" (click)="removeImprintOption(imprint)"
                                        *ngIf="!imprint.isRemoveImprintLoader"
                                        [matTooltip]="'Remove Imprint'"></mat-icon>
                                    <mat-progress-spinner *ngIf="imprint.isRemoveImprintLoader" [diameter]="24"
                                        [mode]="'indeterminate'">
                                    </mat-progress-spinner>
                                </div>
                            </div>
                            <div class="w-full">
                                <table class="table table-condensed padding-1x wide no-bottom-margin">
                                    <thead>
                                        <tr class="columnHeader2">
                                            <td width="30%" colspan="2">IMPRINT</td>
                                            <td width="5%" align="center">QTY</td>
                                            <td width="10%" colspan="2" align="center">COST</td>
                                            <td width="10%" colspan="2" align="center">PRICE</td>
                                        </tr>
                                    </thead>

                                    <tbody>
                                        <tr>
                                            <td colspan="2"></td>
                                            <td></td>
                                            <td align="center"><b>Unit</b></td>
                                            <td align="center"><b>Total</b></td>
                                            <td align="center"><b>Unit</b></td>
                                            <td align="center"><b>Total</b></td>
                                        </tr>

                                        <tr>
                                            <td>
                                                <select class="select1 wide form-control"
                                                    [(ngModel)]="imprint.imprintID">
                                                    <option [value]="imprint.imprintID">
                                                        {{imprint.locationName}} / {{imprint.decorationName}}</option>
                                                    <option [value]="item.pk_imprintID"
                                                        *ngFor="let item of selectedCartLine.unselectedImprints">
                                                        {{item.locationName}} / {{item.methodName}}</option>
                                                </select>
                                            </td>

                                            <td></td>

                                            <td align="center" valign="middle">{{selectedCartLine.totalQuantity}}</td>

                                            <td>
                                                <input type="number" class="form-control"
                                                    [(ngModel)]="imprint.cartLineImprintRunCost">
                                            </td>

                                            <td align="center">{{(imprint.cartLineImprintRunCost *
                                                selectedCartLine.totalQuantity) |
                                                currency}}
                                            </td>

                                            <td><input type="number" class="form-control"
                                                    [(ngModel)]="imprint.cartLineImprintRunPrice">
                                            </td>

                                            <td align="center">{{(imprint.cartLineImprintRunPrice *
                                                selectedCartLine.totalQuantity) |
                                                currency}}
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <mat-checkbox [(ngModel)]="imprint.blnOverrideRunSetup">Override
                                                    Run/Setup</mat-checkbox>
                                            </td>
                                            <td colspan="2" align="right">
                                                <h2 class="no-underline no-padding no-margin">Setups:</h2>
                                            </td>
                                            <td><input type="number" class="form-control"
                                                    [(ngModel)]="imprint.cartLineImprintSetupCost">
                                            </td>
                                            <td></td>
                                            <td><input type="number" class="form-control"
                                                    [(ngModel)]="imprint.cartLineImprintSetupPrice">
                                            </td>
                                            <td></td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div class="row">
                                    <div *ngIf="selectedCartLine?.imprintColorsData?.length > 0"
                                        class="col-12 col-md-6">
                                        <p class="font-bold border-b">Colors</p>
                                        <p class="my-2">Total Colors: {{imprint.processQuantity}}
                                            <br>
                                            Current Colors: {{imprint?.colorNameList}}
                                        </p>
                                        <div>
                                            <mat-form-field class="w-full">
                                                <mat-select placeholder="Colors" [(ngModel)]="imprint.colorsList"
                                                    multiple>
                                                    <mat-option class="font-bold text-white p-2"
                                                        *ngFor="let colors of selectedCartLine.imprintColorsData; let i =index"
                                                        [value]="colors.imprintColorName"
                                                        [ngStyle]="{'background': '#'+colors.RGB}"
                                                        [ngClass]="{'text-gray-900': colors.RGB == 'FFFFFF'}">
                                                        {{colors.imprintColorName}}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                            <mat-form-field class="w-full">
                                                <mat-label>Or Enter PMS colors (comma separated):</mat-label>
                                                <input matInput [(ngModel)]="imprint.pmsColors">
                                            </mat-form-field>
                                            <mat-checkbox>Match artwork colors</mat-checkbox>
                                        </div>
                                    </div>
                                    <div class="col-12 col-md-6"
                                        *ngIf="selectedCartLine.imprintColorsData?.length === 0">
                                        <div class="alert alert-info add-padding-sm no-bottom-margin">
                                            <span class="fa fa-info-circle fa-lg"></span>
                                            This imprint has no color options.
                                        </div>
                                    </div>
                                    <div class="col-12 col-md-6 mb-20">
                                        <p class="font-bold border-b">Customer Artwork Comments</p>
                                        <quill-editor class="mt-3" [modules]="quillModules"
                                            [(ngModel)]="imprint.customerArtworkComment">
                                        </quill-editor>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="text-right" *ngIf="selectedCartLine?.selectedImprints?.length > 0">
                            <button mat-button mat-flat-button color="primary" class="min-w-30"
                                (click)="updateImprintsOptions()" [disabled]="selectedCartLine.isUpdateImprintsLoader">
                                <span *ngIf="!selectedCartLine.isUpdateImprintsLoader">Update Imprints</span>
                                <mat-progress-spinner *ngIf="selectedCartLine.isUpdateImprintsLoader" [diameter]="24"
                                    [mode]="'indeterminate'">
                                </mat-progress-spinner>
                            </button>
                        </div>
                    </div>
                </mat-expansion-panel>
            </ng-container>
            <ng-template #noImprintData>
                <div class="alert alert-warning my-2">
                    <span class="fa fa-exclamation-circle fa-lg"></span>
                    This item is part of a group run, and the imprints for this item are determined by the master group
                    run product.
                </div>
            </ng-template>

            <!-- Add Imprint Options -->
            <mat-expansion-panel [expanded]="true">
                <mat-expansion-panel-header>
                    <mat-panel-title class="text-lg font-bold">
                        Add Imprint Option
                    </mat-panel-title>
                </mat-expansion-panel-header>
                <div class="p-3">
                    <!-- *ngIf="ngSelectedProduct.imprintsUnSelected.length > 0" -->
                    <div>
                        <mat-form-field class="w-full">
                            <mat-select matInput [(ngModel)]="selectedCartLine.ngImprintSelected">
                                <mat-option *ngFor="let imprint of selectedCartLine?.unselectedImprints"
                                    [value]="imprint">{{imprint.locationName}} /
                                    {{imprint.methodName}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <div class="text-right">
                            <button class="min-w-30" mat-button mat-flat-button color="primary"
                                (click)="addImprintOptions()" [disabled]="selectedCartLine.isAddImprintLoader">
                                <span *ngIf="!selectedCartLine.isAddImprintLoader">Add Imprint Option</span>
                                <mat-progress-spinner *ngIf="selectedCartLine.isAddImprintLoader" [diameter]="24"
                                    [mode]="'indeterminate'">
                                </mat-progress-spinner>
                            </button>
                        </div>
                    </div>
                </div>
            </mat-expansion-panel>

            <!-- Accessories -->
            <mat-expansion-panel [expanded]="true">
                <mat-expansion-panel-header>
                    <mat-panel-title class="text-lg font-bold">
                        Accessories
                    </mat-panel-title>
                </mat-expansion-panel-header>
                <div class="p-3">
                    <div class="mt-2 alert alert-warning" *ngIf="selectedCartLine?.selectedAccessories?.length == 0">
                        There are currently no accessories defined for this line item.
                    </div>
                    <div *ngIf="selectedCartLine?.selectedAccessories?.length > 0">
                        <mat-checkbox [(ngModel)]="selectedCartLine.blnOverrideShippingNewAccessory">Override
                            Shipping</mat-checkbox>
                        <table
                            class="table table-striped table-bordered table-condensed table-hover padding-1x wide no-bottom-margin"
                            id="updateAccessoriesTable_431">
                            <thead>
                                <tr class="columnHeader2">
                                    <td width="15%" colspan="2">ACCESSORY</td>
                                    <td width="5%" align="center">QTY PER PACKAGE</td>
                                    <td width="5%" align="center">TOTAL PACKAGING QTY</td>
                                    <td width="15%" colspan="2" align="center">COST</td>
                                    <td width="15%" colspan="2" align="center">PRICE</td>
                                    <td width="15%" align="center">DECORATOR PO</td>
                                    <td width="1%" align="center" valign="middle"><span
                                            class="fa fa-trash fa-lg"></span>
                                    </td>
                                </tr>
                            </thead>

                            <tbody *ngFor="let item of selectedCartLine?.selectedAccessories">
                                <tr>
                                    <td colspan="2"></td>
                                    <td></td>
                                    <td align="center">Unit</td>
                                    <td align="center"><b>Total</b></td>
                                    <td align="center"><b>Unit</b></td>
                                    <td align="center"><b>Total</b></td>
                                    <td align="center"><b></b></td>
                                    <td align="center"></td>
                                    <td></td>
                                </tr>


                                <tr class="clickable">
                                    <td width="10%" colspan="2">
                                        <b>{{item.packagingName}}</b>
                                    </td>

                                    <td>
                                        <input type="number" class="form-control" [(ngModel)]="item.quantityPerPackage">
                                    </td>
                                    <td align="center">
                                        {{item.quantityPerPackage ?
                                        selectedCartLine.orderQuantity/item.quantityPerPackage : 0}}
                                    </td>
                                    <td>
                                        <mat-form-field class="w-full">
                                            <span matSuffix>$ &nbsp;</span>
                                            <input type="number" [(ngModel)]="item.cartLineAccessoryRunCost" matInput>
                                        </mat-form-field>
                                    </td>
                                    <td align="center">{{(item.quantityPerPackage * item.cartLineAccessoryRunCost) |
                                        currency}}</td>
                                    <td>

                                        <mat-form-field class="w-full">
                                            <span matSuffix>$ &nbsp;</span>
                                            <input type="number" [(ngModel)]="item.cartLineAccessoryRunPrice" matInput>
                                        </mat-form-field>
                                    </td>
                                    <td align="center">{{(item.quantityPerPackage * item.cartLineAccessoryRunPrice) |
                                        currency}}</td>
                                    <td>
                                        <select class="form-control" [(ngModel)]="item.blnDecoratorPO">
                                            <option [value]="false" selected="">No</option>
                                            <option [value]="true">Yes</option>
                                        </select>
                                    </td>
                                    <td align="center" valign="top">
                                        <mat-checkbox [(ngModel)]="item.isSelected"></mat-checkbox>
                                </tr>

                                <tr>
                                    <td></td>
                                    <td colspan="3" align="right">
                                        <h2 class="no-underline no-padding no-margin">Setups:</h2>
                                    </td>
                                    <td>

                                        <mat-form-field class="w-full">
                                            <span matSuffix>$ &nbsp;</span>
                                            <input type="number" [(ngModel)]="item.cartLineAccessorySetupCost" matInput>
                                        </mat-form-field>
                                    </td>

                                    <td></td>

                                    <td>
                                        <mat-form-field class="w-full">
                                            <span matSuffix>$ &nbsp;</span>
                                            <input type="number" [(ngModel)]="item.cartLineAccessorySetupPrice"
                                                matInput>
                                        </mat-form-field>
                                    </td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>

                            </tbody>

                        </table>
                    </div>
                    <div class="text-right" *ngIf="selectedCartLine?.selectedAccessories?.length > 0">
                        <button mat-button mat-flat-button color="primary" (click)="updateAccessories()"
                            class="min-w-30" [disabled]="selectedCartLine.isUpdateAccessoryLoader">
                            <span *ngIf="!selectedCartLine.isUpdateAccessoryLoader">Update Accessories</span>
                            <mat-progress-spinner *ngIf="selectedCartLine.isUpdateAccessoryLoader" [diameter]="24"
                                [mode]="'indeterminate'">
                            </mat-progress-spinner>
                        </button>
                    </div>
                </div>
            </mat-expansion-panel>
            <!-- Add Accessories -->
            <mat-expansion-panel [expanded]="true">
                <mat-expansion-panel-header>
                    <mat-panel-title class="text-lg font-bold">
                        Add Accessories Option
                    </mat-panel-title>
                </mat-expansion-panel-header>
                <div class="p-3">
                    <div class="alert alert-warning mt-2" *ngIf="selectedCartLine?.unselectedAccessories?.length == 0">
                        This product does not have any available accessories.
                    </div>
                    <div *ngIf="selectedCartLine?.unselectedAccessories?.length > 0">
                        <mat-checkbox
                            [(ngModel)]="selectedCartLine.ngSelectedAccessory.blnOverrideShippingNewAccessory">Override
                            Shipping</mat-checkbox>
                        <mat-form-field class="w-full">
                            <mat-select [(ngModel)]="selectedCartLine.ngSelectedAccessory">
                                <mat-option *ngFor="let item of selectedCartLine?.unselectedAccessories"
                                    [value]="item">{{item.packagingName}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <div class="text-right">
                            <button mat-button mat-flat-button color="primary" (click)="addAccoryOptionOptions()"
                                class="min-w-30" [disabled]="selectedCartLine.isAddAccessoryLoader">
                                <span *ngIf="!selectedCartLine.isAddAccessoryLoader">Add Accessories</span>
                                <mat-progress-spinner *ngIf="selectedCartLine.isAddAccessoryLoader" [diameter]="24"
                                    [mode]="'indeterminate'">
                                </mat-progress-spinner>
                            </button>
                        </div>
                    </div>
                </div>
            </mat-expansion-panel>
            <!-- Shipping -->
            <mat-expansion-panel [expanded]="true">
                <mat-expansion-panel-header>
                    <mat-panel-title class="text-lg font-bold">
                        Shipping
                    </mat-panel-title>
                </mat-expansion-panel-header>
                <div class="row mt-2 p-3">
                    <div class="col-12 col-md-4">
                        <mat-form-field class="w-full">
                            <mat-label>Shipping Cost</mat-label>
                            <span matTextPrefix>$&nbsp;</span>
                            <input matInput type="number" [(ngModel)]="selectedCartLine.shippingGroundCost">
                        </mat-form-field>
                    </div>
                    <div class="col-12 col-md-4">
                        <mat-form-field class="w-full">
                            <mat-label>Shipping Price</mat-label>
                            <span matTextPrefix>$&nbsp;</span>
                            <input matInput type="number" [(ngModel)]="selectedCartLine.shippingGroundPrice">
                        </mat-form-field>
                    </div>
                    <div class="col-12 col-md-4 mt-8">
                        <mat-checkbox [(ngModel)]="selectedCartLine.blnOverrideShippingShipping">Override
                            Shipping</mat-checkbox>
                    </div>
                    <div class="col-12 text-right">
                        <button class="min-w-40" mat-button mat-flat-button color="primary" (click)="updateShipping()"
                            [disabled]="selectedCartLine.isShippingLoader">
                            <sapn *ngIf="!selectedCartLine.isShippingLoader">Update Shipping</sapn>
                            <mat-progress-spinner *ngIf="selectedCartLine.isShippingLoader" [diameter]="24"
                                [mode]="'indeterminate'">
                            </mat-progress-spinner>
                        </button>
                    </div>
                </div>
            </mat-expansion-panel>

            <!-- Royalities -->
            <mat-expansion-panel [expanded]="true">
                <mat-expansion-panel-header>
                    <mat-panel-title class="text-lg font-bold">
                        Royalties
                    </mat-panel-title>
                </mat-expansion-panel-header>
                <div class="row p-3">
                    <div class="col-12 col-md-9">
                        <mat-form-field class="w-full">
                            <mat-label>Royalty Price</mat-label>
                            <span matTextPrefix>$&nbsp;</span>
                            <input matInput type="number" [(ngModel)]="selectedCartLine.royaltyPrice">
                        </mat-form-field>
                    </div>
                    <div class="col-12 col-md-3 mt-7">
                        <button class="min-w-40" mat-button mat-flat-button color="primary" (click)="updateRoyalties()"
                            [disabled]="selectedCartLine.isRoyaltyLoader">
                            <sapn *ngIf="!selectedCartLine.isRoyaltyLoader">Update Royalties</sapn>
                            <mat-progress-spinner *ngIf="selectedCartLine.isRoyaltyLoader" [diameter]="24"
                                [mode]="'indeterminate'">
                            </mat-progress-spinner>
                        </button>
                    </div>
                </div>
            </mat-expansion-panel>
            <!-- SubTotal -->
            <mat-expansion-panel [expanded]="true">
                <mat-expansion-panel-header>
                    <mat-panel-title class="text-lg font-bold">
                        Subtotal
                    </mat-panel-title>
                </mat-expansion-panel-header>
                <div class="container-fluid text-lg p-3 font-bold">
                    <div class="row mt-2">
                        <div class="col-md-8 col-12 add-padding-sm"></div>
                        <div class="col-md-2 col-12 add-padding-sm text-right">
                            <h2 class="font-bold">COST</h2>
                        </div>
                        <div class="col-md-2 col-12 add-padding-sm text-right">
                            <h2 class="font-bold">PRICE</h2>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-8 col-12">
                            ORDER LINE SHIPPING TOTAL
                        </div>

                        <div class="col-md-2 col-12 text-right">
                            {{selectedCartLine.shippingGroundCost | currency}}
                        </div>

                        <div class="col-md-2 col-12 text-right">
                            {{selectedCartLine.shippingGroundPrice | currency}}
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-8 col-12 ">
                            ORDER LINE SUB-TOTAL
                        </div>

                        <div class="col-md-2 col-12 add-padding-sm text-right">
                            {{(selectedCartLine.cartLineCost + selectedCartLine.shippingGroundCost) | currency}}
                        </div>

                        <div class="col-md-2 col-12 add-padding-sm text-right">
                            {{(selectedCartLine.cartLinePrice + selectedCartLine.shippingGroundPrice) | currency}}
                        </div>
                    </div>
                </div>
            </mat-expansion-panel>
            <!-- Total -->
            <mat-expansion-panel [expanded]="true">
                <mat-expansion-panel-header>
                    <mat-panel-title class="text-lg font-bold">
                        Total
                    </mat-panel-title>
                </mat-expansion-panel-header>
                <div class="container-fluid text-lg p-3 space-y-2 font-bold">
                    <div class="row mt-2 text-lg">
                        <div class="col-md-8 col-12">
                            <h2>TOTAL DISCOUNT:</h2>
                        </div>
                        <div class="col-2"></div>
                        <div class="col-md-2 col-12 text-right">
                            <h2>{{selectedQuoteDetail.discountAmount | currency}}</h2>
                        </div>
                    </div>
                    <div class="row text-lg">
                        <div class="col-md-8 col-12">
                            <h2>TOTAL TAX:</h2>
                        </div>
                        <div class="col-2"></div>

                        <div class="col-md-2 col-12 text-right">
                            <h2>{{selectedQuoteDetail.tax | currency}}</h2>
                        </div>
                    </div>
                    <div class="row text-lg">
                        <div class="col-md-8 col-12">
                            <h2>TOTAL MERCHANDISE: </h2>
                        </div>

                        <div class="col-2 text-right">
                            <h2>{{(selectedQuoteDetail.cost + (selectedQuoteDetail?.shippingGroundCost || 0)) |
                                currency}}
                            </h2>
                        </div>
                        <div class="col-md-2 col-12 text-right">
                            <h2>{{(selectedQuoteDetail.price + (selectedQuoteDetail?.shippingGroundPrice || 0) +
                                selectedQuoteDetail.tax) |
                                currency}}</h2>
                        </div>
                    </div>
                    <div class="row font-bold">
                        <div class="col-md-8 col-12">
                            <h1 class="text-success text-lg">GRAND TOTAL:</h1>
                        </div>
                        <div class="col-2"></div>

                        <div class="col-md-2 col-12 text-right">
                            <h1 class="text-success text-lg" id="grandTotal">
                                <span>{{(selectedQuoteDetail.price + (selectedQuoteDetail?.shippingGroundPrice || 0) +
                                    selectedQuoteDetail.tax) | currency}}</span>
                                <span *ngIf="selectedQuoteDetail.blnRoyalty">{{(selectedQuoteDetail.price +
                                    (selectedQuoteDetail?.shippingGroundPrice || 0) +
                                    selectedQuoteDetail.tax + selectedQuoteDetail.royaltyPrice) |
                                    currency}}</span>
                            </h1>
                        </div>
                    </div>
                </div>
            </mat-expansion-panel>
        </mat-accordion>
    </div>
</div>