<mat-drawer-container class="sub-nav-component bg-light" autosize *ngIf="!isLoading">
  <mat-drawer #drawer class="sub-sidenav bg-light" [mode]="drawerMode" [opened]="drawerOpened">
    <div *ngFor="let buttonValue of presentationButtons">
      <button style="padding: 15px" [style.background-color]="
          buttonValue == presentationScreen ? '#d4d7dd' : 'transparent'
        " [ngClass]="
          buttonValue == presentationScreen ? 'opacity-100' : 'opacity-80'
        " mat-button class="w-full my-1 mr-2 justify-content-start" (click)="calledScreen(buttonValue)">
        <!-- <mat-icon svgIcon="{{route.icon}}" class="icon-size-5 text-primary"></mat-icon> -->
        <span style="font-size: 13px; font-weight: bold; margin-left: 10px">
          {{ buttonValue }}
        </span>
      </button>
    </div>
  </mat-drawer>
  <div class="sub-sidenav-content bg-light p-2">
    <div class="flex justify-content-between">
      <mat-icon class="subnav-menu-icon ml-1" svgIcon="heroicons_outline:menu" (click)="toggleDrawer()">
      </mat-icon>
    </div>

    <ngx-skeleton-loader count="8" appearance="line" animation="pulse" *ngIf="isLoading">
    </ngx-skeleton-loader>
    <!-- <div class="row my-2 py-5 mx-5 overflow-auto" *ngIf="!isLoading">
      <div class="col-12">
        <mat-button-toggle-group #group="matButtonToggleGroup" [value]="presentationScreen"
          (change)="calledScreen(group.value)">
          <mat-button-toggle *ngFor="let buttonValue of presentationButtons" value="{{ buttonValue }}">
            {{ buttonValue }}
          </mat-button-toggle>
        </mat-button-toggle-group>
      </div>
    </div> -->
    <div *ngIf="!isLoading">
      <!---------------------- Main Screen  ---------------------->
      <div *ngIf="presentationScreen == 'Main'">
        <div class="row p-10 pt-2 bg-light overflow-auto">
          <div class="col-12 bg-card sm:p-6 md:p-6 lg:p-6 rounded-2xl shadow">
            <div class="mt-4 col-12">
              <mat-form-field appearance="fill" class="w-full">
                <mat-label> Select an email to send. </mat-label>
                <input matInput />
              </mat-form-field>
            </div>
            <button class="my-5" mat-flat-button [color]="'primary'">
              <span class="px-2">Continue</span>
            </button>
          </div>
        </div>
      </div>

      <!---------------------- Campaign Focused  ---------------------->
      <div *ngIf="presentationScreen == 'Campaign Focused'">
        <div class="row p-10 pt-2 bg-light overflow-auto">
          <div class="col-12 bg-card sm:p-6 md:p-6 lg:p-6 rounded-2xl shadow">
            <div class="text-2xl font-extrabold tracking-tight leading-none my-3">
              New Campaign Email
            </div>
            <div class="mt-4 col-12">
              <mat-form-field appearance="fill" class="w-full">
                <mat-label>Select the campaign to be featured in the email:</mat-label>
                <mat-select matInput>
                  <mat-select-option>Rebranding Campaign: Moore Counseling</mat-select-option>
                  <mat-select-option>Rebranding Campaign: Custom Auto Care Concierge</mat-select-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div class="mt-4 col-12">
              <mat-form-field appearance="fill" class="w-full">
                <mat-label>
                  Action Title (HTML OK, 40 chars max):
                </mat-label>
                <input maxlength="40" matInput />
              </mat-form-field>
            </div>
            <div class="col-12">
              <div style="font-weight: 500">Action Text (HTML OK):</div>
              <quill-editor [modules]="quillModules"> </quill-editor>
            </div>
            <div class="col-12 flex justify-end mt-5">
              <button [matTooltip]="'Create Email'" class="w-full md:w-50 lg:w-50" mat-stroked-button mat-flat-button>
                Create Email
              </button>
            </div>
          </div>
        </div>
      </div>


      <!---------------------- Featured products  ---------------------->
      <div *ngIf="presentationScreen == 'Featured products'">
        <div class="row  pt-2 p-10 bg-light overflow-auto">
          <div class="col-12 bg-card sm:p-6 md:p-6 lg:p-6 rounded-2xl shadow">
            <div class="text-2xl font-extrabold tracking-tight leading-none my-3">
              New Featured Products Email
            </div>
            <div class="row">
              <div class="col-12">
                <mat-form-field appearance="fill" class="w-full">
                  <mat-label>Feature Product:</mat-label>
                  <mat-select [(value)]="selected">
                    <mat-option value="option2">All</mat-option>
                    <mat-option value="option1">Internal</mat-option>
                    <mat-option value="option2">Client</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-12 col-md-6">
                <mat-form-field appearance="fill" class="w-full">
                  <mat-label>Sub Product 1:</mat-label>
                  <mat-select [(value)]="selected">
                    <mat-option value="option2">All</mat-option>
                    <mat-option value="option1">Internal</mat-option>
                    <mat-option value="option2">Client</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-12 col-md-6">
                <mat-form-field appearance="fill" class="w-full">
                  <mat-label>Sub Product 2:</mat-label>
                  <mat-select [(value)]="selected">
                    <mat-option value="option2">All</mat-option>
                    <mat-option value="option1">Internal</mat-option>
                    <mat-option value="option2">Client</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-12 col-md-6">
                <mat-form-field appearance="fill" class="w-full">
                  <mat-label>Sub Product 3:</mat-label>
                  <mat-select [(value)]="selected">
                    <mat-option value="option2">All</mat-option>
                    <mat-option value="option1">Internal</mat-option>
                    <mat-option value="option2">Client</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-12 col-md-6">
                <mat-form-field appearance="fill" class="w-full">
                  <mat-label>Sub Product 4:</mat-label>
                  <mat-select [(value)]="selected">
                    <mat-option value="option2">All</mat-option>
                    <mat-option value="option1">Internal</mat-option>
                    <mat-option value="option2">Client</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-12 col-md-6">
                <mat-form-field appearance="fill" class="w-full">
                  <mat-label>Sub Product 5:</mat-label>
                  <mat-select [(value)]="selected">
                    <mat-option value="option2">All</mat-option>
                    <mat-option value="option1">Internal</mat-option>
                    <mat-option value="option2">Client</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-12 col-md-6">
                <mat-form-field appearance="fill" class="w-full">
                  <mat-label>Sub Product 6:</mat-label>
                  <mat-select [(value)]="selected">
                    <mat-option value="option2">All</mat-option>
                    <mat-option value="option1">Internal</mat-option>
                    <mat-option value="option2">Client</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-12">
                <mat-form-field appearance="fill" class="w-full">
                  <mat-label>
                    <strong>Action Title (HTML OK, 80 chars max):</strong>
                  </mat-label>
                  <input maxlength="80" matInput />
                </mat-form-field>
              </div>
              <div class="col-12">
                <div style="font-weight: 500">Action Text (HTML OK, 1400 max):</div>
                <quill-editor [modules]="quillModules"> </quill-editor>
              </div>
              <div class="col-12 mt-4">
                <strong> Upload Custom Image: </strong>
                <p style="color: red">
                  The width of the image <strong>cannot be larger than 580px.</strong> The
                  height can be anything, just don't go crazy! JPG ONLY! This image will
                  appear at the top of the email, above all products selected above.
                </p>
                <input type="file" class="file-upload my-3 ml-3" onchange="console.log(event.target.files)" />
              </div>
              <div class="col-12">
                <mat-form-field appearance="fill" class="w-full">
                  <mat-label>Action text location</mat-label>
                  <mat-select [(value)]="selected">
                    <mat-option value="option1">Above Custom Image</mat-option>
                    <mat-option value="option2">Below Custom Image</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-12 mt-4">
                <strong>URL For Image Link:</strong>
                <p style="color: red">
                  This URL will be where the user is taken if they click on the image in
                  the email. Do not include "http://" in the URL. Start with "www."
                </p>
                <mat-form-field appearance="fill" class="w-full">
                  <input maxlength="80" matInput />
                </mat-form-field>
              </div>
              <div class="col-12 flex justify-end mt-5">
                <button [matTooltip]="'Create Email'" class="w-full md:w-50 lg:w-50" mat-stroked-button mat-flat-button>
                  Create Email
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>


      <!---------------------- Simple Text  ---------------------->
      <div *ngIf="presentationScreen == 'Simple Text'">
        <div class="row pt-2 p-10 bg-light overflow-auto">
          <div class="col-12 bg-card sm:p-6 md:p-6 lg:p-6 rounded-2xl shadow">
            <div class="text-2xl font-extrabold tracking-tight leading-none my-3">
              New Text Email
            </div>
            <p style="color: red">Always include instructions to unsubscribe.</p>
            <div class="mt-5 col-12">
              <div style="font-weight: 500">Text (no HTML please)</div>
              <quill-editor [modules]="quillModules"> </quill-editor>
            </div>
            <div class="mt-5">
              <p>The email will be saved in TXT format with the name:</p>
              <strong>TEXT_[date]_[time].txt</strong>
            </div>
            <div class="col-12 flex justify-end mt-5">
              <button [matTooltip]="'Create Email'" class="w-full md:w-50 lg:w-50" mat-stroked-button mat-flat-button>
                Create Email
              </button>
            </div>
          </div>
        </div>
      </div>


      <!---------------------- Simple html  ---------------------->
      <div *ngIf="presentationScreen == 'Simple html'">
        <div class="row pt-2 p-10 bg-light overflow-auto">
          <div class="col-12 bg-card sm:p-6 md:p-6 lg:p-6 rounded-2xl shadow">
            <div class="text-2xl font-extrabold tracking-tight leading-none my-3">
              New HTML Email
            </div>
            <div class="col-12 fa fa-info-circle" style="color: rgb(101, 124, 174)">
              Always include instructions to unsubscribe.
            </div>
            <div class="mt-5 col-12">
              <quill-editor [modules]="quillModules"> </quill-editor>
            </div>
            <div class="col-12 flex justify-end mt-5">
              <button [matTooltip]="'Create Email'" class="w-full md:w-50 lg:w-50" mat-stroked-button mat-flat-button>
                Create Email
              </button>
            </div>
          </div>
        </div>
      </div>


      <!---------------------- Custom email  ---------------------->
      <div *ngIf="presentationScreen == 'Custom email'">
        <div class="row pt-2 p-10 bg-light overflow-auto">
          <div class="col-12 bg-card sm:p-6 md:p-6 lg:p-6 rounded-2xl shadow">
            <div class="text-2xl font-extrabold tracking-tight leading-none my-3">
              New Custom Email
            </div>
            <div class="col-12">
              <p class="mt-4">
                <strong> Upload Custom Image: </strong>
              </p>
              <p style="color: red">
                The width of the image <strong>cannot be larger than 580px.</strong> The
                height can be anything, just don't go crazy! JPG ONLY!
              </p>
              <input type="file" class="file-upload my-3 ml-3" onchange="console.log(event.target.files)" />
            </div>

            <div class="col-12">
              <div style="font-weight: 500"><strong>Custom text (2000)</strong></div>
              <p style="color: red">This shows before/above the custom image.</p>
              <quill-editor [modules]="quillModules"> </quill-editor>
            </div>
            <div class="col-12 mt-4">
              <mat-form-field appearance="fill" class="w-full">
                <mat-label><strong>Action text location</strong></mat-label>
                <mat-select [(value)]="selected">
                  <mat-option value="option1">Above Custom Image</mat-option>
                  <mat-option value="option2">Below Custom Image</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div class="col-12">
              <strong>URL For Image Link:</strong>
              <p style="color: red">
                This URL will be where the user is taken if they click on the image in
                the email. Do not include "http://" in the URL. Start with "www."
              </p>
              <mat-form-field appearance="fill" class="w-full">
                <input maxlength="80" matInput />
              </mat-form-field>
            </div>
            <div class="col-12 flex justify-end mt-5">
              <button [matTooltip]="'Create Email'" class="w-full md:w-50 lg:w-50" mat-stroked-button mat-flat-button>
                Create Email
              </button>
            </div>
          </div>
        </div>

      </div>

      <!---------------------- Opt-In Email  ---------------------->
      <div *ngIf="presentationScreen == 'Opt-In Email'">
        <div class="row  pt-2 p-10 bg-light overflow-auto">
          <div class="col-12 bg-card sm:p-6 md:p-6 lg:p-6 rounded-2xl shadow">
            <div class="text-2xl font-extrabold tracking-tight leading-none my-3">
              Edit Opt-In Emails
            </div>
            <mat-tab-group [animationDuration]="'0'">
              <mat-tab label="Add An Email">
                <ng-template matTabContent>
                  <div class="row">
                    <div class="col-12 col-md-6">
                      <mat-form-field class="w-full">
                        <input type="text" matInput placeholder="Email (One email at a time)">
                      </mat-form-field>
                    </div>
                    <div class="col-12 col-md-6">
                      <mat-form-field class="w-full">
                        <mat-select>
                          <mat-option [value]="true">Opt-In</mat-option>
                          <mat-option [value]="false">Opt-Out</mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="col-12 flex justify-end">
                      <button [matTooltip]="'Add'" class="w-full lg:w-30 md:w-50" mat-stroked-button mat-flat-button>
                        Add
                      </button>
                    </div>
                  </div>
                </ng-template>
              </mat-tab>
              <mat-tab label="Import Emails">
                <ng-template matTabContent>
                  <note class="text-red-500">No headers, all emails are validated before any is stored</note>
                  <!-- Warning -->
                  <fuse-alert [type]="'warning'">
                    <p class="text-sm">
                      NOTE: Your CSV file CANNOT have any formatting in it. This means no bold, underline, cell
                      colors, row colors, column headers, column colors, text colors, etc. The file must contain TEXT
                      ONLY. Uploading CSV files that have formatting in them result in "corrupt" emails in the opt-in
                      list
                      that have a bunch of weird characters in them, which are difficult to remove. Please make sure
                      your
                      CSV file has no formatting of any kind before uploading.
                    </p>
                  </fuse-alert>
                  <div>
                    <div class="row mt-4">
                      <div class="col-12">
                        <input type="file">
                      </div>
                      <div class="col-2 mt-4">
                        <button [matTooltip]="'Add'" class="w-full" mat-stroked-button mat-flat-button>
                          Add
                        </button>
                      </div>
                    </div>
                  </div>
                </ng-template>
              </mat-tab>

              <mat-tab label="Opt-In/Opt-Out">
                <ng-template matTabContent>
                  <fuse-alert [type]="'warning'">
                    <p class="text-sm">FOR BOUNCE BACKS:</p>
                    <p class="text-sm">- If you receive a bounce back and want to make sure the system does not send
                      emails to that
                      address anymore, hit the OPT OUT button next to the email address in the lists below.</p>
                    <p class="text-sm">- You can search for an email address via your browser by hitting CTRL+F to bring
                      up the "find"
                      dialogue.</p>
                    <p class="text-sm">- If you cannot find the email in either list, then it probably isn't in our
                      system. Add the
                      email to the appropriate list by inputting the email above. If it's a bounce back, most likely
                      you'll want to add it to the opt-out list.</p>
                    <p class="text-sm">- Do not hit DELETE or our system won't know whether or not to send an email to
                      that address.</p>
                  </fuse-alert>
                  <div class="row mt-5">
                    <div class="col-12 col-md-6 p-2 pr-4">
                      <ng-container *ngIf="optDataSource.length > 0; else noRecords">
                        <div class="text-lg font-bold">Opt-In</div>
                        <table mat-table [dataSource]="dataSource" class="w-full">
                          <div class="color-blue">
                            <!-- Email Column -->
                            <ng-container matColumnDef="email">
                              <th class="min-w-50 bg-gray-50 dark:bg-black dark:bg-opacity-5" mat-header-cell
                                *matHeaderCellDef>
                                Email
                              </th>
                              <td mat-cell *matCellDef="let element">test@email.com</td>
                            </ng-container>

                            <!-- Action Column -->
                            <ng-container matColumnDef="action">
                              <th class="min-w-10 bg-gray-50 dark:bg-black dark:bg-opacity-5" mat-header-cell
                                *matHeaderCellDef>
                                Actions
                              </th>
                              <td mat-cell *matCellDef="let element">
                                <div class="flex justify-between">
                                  <button [matTooltip]="'Opt-Out'" mat-button>
                                    Opt-Out
                                  </button>
                                  <button [matTooltip]="'Remove'" mat-button>
                                    Remove
                                  </button>
                                </div>
                              </td>
                            </ng-container>
                          </div>
                          <tr mat-header-row class="h-16 shadow bg-card" *matHeaderRowDef="optDisplayedColumns"></tr>
                          <tr mat-row class="hover:bg-gray-100 dark:hover:bg-hover" style="cursor: pointer;"
                            *matRowDef="let row; columns: optDisplayedColumns"></tr>
                        </table>
                      </ng-container>
                      <ng-template #noRecords>
                        <div class="font-semibold tracking-tight text-center">
                          <p>No record found</p>
                        </div>
                      </ng-template>
                    </div>
                    <div class="col-12 col-md-6 p-2 pl-4">
                      <ng-container *ngIf="optDataSource.length > 0; else noRecords">
                        <div class="text-lg font-bold">Opt-Out</div>
                        <table mat-table [dataSource]="dataSource" class="w-full">
                          <div class="color-blue">
                            <!-- Email Column -->
                            <ng-container matColumnDef="email">
                              <th class="min-w-50 bg-gray-50 dark:bg-black dark:bg-opacity-5" mat-header-cell
                                *matHeaderCellDef>
                                Email
                              </th>
                              <td mat-cell *matCellDef="let element">test@email.com</td>
                            </ng-container>

                            <!-- Action Column -->
                            <ng-container matColumnDef="action">
                              <th class="min-w-10 bg-gray-50 dark:bg-black dark:bg-opacity-5" mat-header-cell
                                *matHeaderCellDef>
                                Actions
                              </th>
                              <td mat-cell *matCellDef="let element">
                                <div class="flex justify-between">
                                  <button [matTooltip]="'Opt-In'" mat-button
                                    aria-label="Example icon button with a vertical three dot icon">
                                    Opt-In
                                  </button>
                                  <button [matTooltip]="'Remove'" mat-button
                                    aria-label="Example icon button with a vertical three dot icon">
                                    Remove
                                  </button>
                                </div>
                              </td>
                            </ng-container>
                          </div>
                          <tr mat-header-row class="h-16 shadow bg-card" *matHeaderRowDef="optDisplayedColumns"></tr>
                          <tr mat-row class="hover:bg-gray-100 dark:hover:bg-hover" style="cursor: pointer;"
                            *matRowDef="let row; columns: optDisplayedColumns"></tr>
                        </table>
                      </ng-container>
                      <ng-template #noRecords>
                        <div class="font-semibold tracking-tight text-center">
                          <p>No record found</p>
                        </div>
                      </ng-template>
                    </div>
                  </div>
                </ng-template>
              </mat-tab>
            </mat-tab-group>
          </div>
        </div>
      </div>

      <!---------------------- Segmented Target  ---------------------->
      <div *ngIf="presentationScreen == 'Segmented target files'">
        <div class="row  pt-2 p-10 bg-light overflow-auto">
          <div class="col-12 bg-card sm:p-6 md:p-6 lg:p-6 rounded-2xl shadow">
            <div class="text-2xl font-extrabold tracking-tight leading-none my-3">
              Segmented Target Files
            </div>
            <div class="row">

              <div class="col-12 col-md-4 ">
                <div class="text-lg font-extrabold tracking-tight leading-none my-3">
                  Upload a New List
                </div>
                <mat-form-field class="mt-2" appearance="fill" class="w-full">
                  <mat-label>List Name:</mat-label>
                  <!-- <note class="text-rose-500">Upper/lower case characters A-Z, numbers, and dashes ARE ALLOWED in file
                    names. DO NOT USE ANY SYMBOLS OR SPACES.</note> -->
                  <input type="text" matInput>
                </mat-form-field>
                <div class="mt-1">
                  <input type="file" class="file-upload my-3 ml-3" onchange="console.log(event.target.files)" />
                </div>
                <div class="flex mt-2">
                  <button [matTooltip]="'Upload'" class="w-full md:w-50 lg:w-50" mat-stroked-button mat-flat-button>
                    Upload
                  </button>
                </div>
              </div>
              <div class="col-12 col-md-8">
                <div class="text-lg font-extrabold tracking-tight leading-none my-3">
                  Manage Current Lists
                </div>
                <ng-container *ngIf="dataSource.length > 0; else noRecords">
                  <table mat-table [dataSource]="dataSource" class="w-full">
                    <div class="color-blue">
                      <!-- SPID Column -->
                      <ng-container matColumnDef="update">
                        <th class="min-w-10 bg-gray-50 dark:bg-black dark:bg-opacity-5" mat-header-cell
                          *matHeaderCellDef>
                          Last Update
                        </th>
                        <td mat-cell *matCellDef="let element">19-07-2022</td>
                      </ng-container>

                      <!-- Name Column -->
                      <ng-container matColumnDef="name">
                        <th class="min-w-50 bg-gray-50 dark:bg-black dark:bg-opacity-5" mat-header-cell
                          *matHeaderCellDef>
                          Name
                        </th>
                        <td mat-cell *matCellDef="let element">
                          Demo Name
                        </td>
                      </ng-container>

                      <!-- Status Column -->
                      <ng-container matColumnDef="action">
                        <th class="min-w-10 bg-gray-50 dark:bg-black dark:bg-opacity-5" mat-header-cell
                          *matHeaderCellDef>
                          Actions
                        </th>
                        <td mat-cell *matCellDef="let element">
                          <div class="flex justify-between">
                            <button [matTooltip]="'Download'" mat-icon-button
                              aria-label="Example icon button with a vertical three dot icon">
                              <mat-icon>download</mat-icon>
                            </button>
                            <button [matTooltip]="'Remove'" mat-icon-button
                              aria-label="Example icon button with a vertical three dot icon">
                              <mat-icon>close</mat-icon>
                            </button>
                          </div>
                        </td>
                      </ng-container>
                    </div>
                    <tr mat-header-row class="h-16 shadow bg-card" *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row class="hover:bg-gray-100 dark:hover:bg-hover" style="cursor: pointer;"
                      *matRowDef="let row; columns: displayedColumns"></tr>
                  </table>
                </ng-container>
                <ng-template #noRecords>
                  <div class="font-semibold tracking-tight text-center">
                    <p>No record found</p>
                  </div>
                </ng-template>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</mat-drawer-container>