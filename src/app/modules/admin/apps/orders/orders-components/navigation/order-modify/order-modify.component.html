<ngx-skeleton-loader count="8" appearance="line" animation="pulse" *ngIf="isLoading">
</ngx-skeleton-loader>
<div class="row my-3" *ngIf="!isLoading">
    <div class="col-12 my-2">
        <mat-button-toggle-group #group="matButtonToggleGroup" [value]="mainScreen"
            (change)="calledScreen(group.value)">
            <mat-button-toggle value="Contact Information">
                Contact Information
            </mat-button-toggle>
            <mat-button-toggle value="Order Details">
                Order Details
            </mat-button-toggle>
            <mat-button-toggle value="Products">
                Products
            </mat-button-toggle>
        </mat-button-toggle-group>
    </div>
    <div class="col-12">
        <fuse-card class="rounded-2xl shadow bg-card flex flex-col lg:flex-row w-full">
            <div class="p-6 sm:p-8 lg:p-10 w-full">
                <div class="text-2xl font-bold">
                    Modify Order
                </div>

                <div *ngIf="mainScreen == 'Contact Information'" class="mt-5">
                    <div class="row">
                        <div class="col-md-6 col-12">
                            <div class="text-lg font-bold text-secondary border-b mb-5">Bill To</div>
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">Company Name *</mat-label>
                                <input matInput placeholder="Company Name">
                            </mat-form-field>
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">First Name *</mat-label>
                                <input matInput placeholder="First Name">
                            </mat-form-field>
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">Last Name *</mat-label>
                                <input matInput placeholder="Last Name">
                            </mat-form-field>
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">Location</mat-label>
                                <input matInput placeholder="Location">
                            </mat-form-field>
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">Deliver To</mat-label>
                                <input matInput placeholder="Deliver To">
                            </mat-form-field>
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">Full Address *</mat-label>
                                <input matInput placeholder="Full Address">
                            </mat-form-field>
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">Address *</mat-label>
                                <input matInput placeholder="Address">
                            </mat-form-field>
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">City *</mat-label>
                                <input matInput placeholder="City">
                            </mat-form-field>
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">State *</mat-label>
                                <input matInput placeholder="State">
                            </mat-form-field>
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">Zip *</mat-label>
                                <input matInput placeholder="Zip">
                            </mat-form-field>
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">Country *</mat-label>
                                <input matInput placeholder="Country">
                            </mat-form-field>
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">Phone *</mat-label>
                                <input matInput placeholder="Phone">
                            </mat-form-field>
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">Email *</mat-label>
                                <input matInput placeholder="Email">
                            </mat-form-field>
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">Account Charge Code *</mat-label>
                                <input matInput placeholder="Account Charge Code">
                            </mat-form-field>
                        </div>
                        <div class="col-md-6 col-12">
                            <div class="text-lg font-bold text-secondary border-b mb-5">Ship To</div>
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">Company Name *</mat-label>
                                <input matInput placeholder="Company Name">
                            </mat-form-field>
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">First Name *</mat-label>
                                <input matInput placeholder="First Name">
                            </mat-form-field>
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">Last Name *</mat-label>
                                <input matInput placeholder="Last Name">
                            </mat-form-field>
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">Location</mat-label>
                                <input matInput placeholder="Location">
                            </mat-form-field>
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">Deliver To</mat-label>
                                <input matInput placeholder="Deliver To">
                            </mat-form-field>
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">Full Address *</mat-label>
                                <input matInput placeholder="Full Address">
                            </mat-form-field>
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">Address *</mat-label>
                                <input matInput placeholder="Address">
                            </mat-form-field>
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">City *</mat-label>
                                <input matInput placeholder="City">
                            </mat-form-field>
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">State *</mat-label>
                                <input matInput placeholder="State">
                            </mat-form-field>
                            <mat-form-field class="w-1/2 mr-2">
                                <mat-label class="text-secondary">Zip *</mat-label>
                                <input matInput placeholder="Zip">
                            </mat-form-field>
                            <mat-form-field class="w-1/3">
                                <mat-label class="text-secondary">Ext</mat-label>
                                <input matInput placeholder="Ext">
                            </mat-form-field>
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">Country *</mat-label>
                                <input matInput placeholder="Country">
                            </mat-form-field>
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">Phone *</mat-label>
                                <input matInput placeholder="Phone">
                            </mat-form-field>
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">Email *</mat-label>
                                <input matInput placeholder="Email">
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="text-lg font-bold text-secondary border-b mb-2">Alternate Proof Emails</div>
                            <div class="alert alert-primary text-secondary text-sm" role="alert">
                                <p>Alternate proof emails will be included in all SmartArt correspondence on this order,
                                    in addition to the billing/shipping email above.</p>
                                <p>Separate emails by a comma.</p>
                            </div>
                            <mat-form-field class="example-chip-list w-full" appearance="fill">
                                <mat-label>Emails (Comma-seperated)</mat-label>
                                <mat-chip-list class="pt-1" #chipList1>
                                    <mat-chip [removable]="true" [selectable]="true" *ngFor="let email of emails"
                                        (removed)="remove(email)">
                                        {{email}}
                                        <mat-icon class="icon-size-5" matChipRemove
                                            [svgIcon]="'heroicons_solid:minus-circle'"></mat-icon>
                                    </mat-chip>
                                    <input [matChipInputFor]="chipList1" placeholder="New Email"
                                        [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                                        [matChipInputAddOnBlur]="addOnBlur" (matChipInputTokenEnd)="add($event)">
                                </mat-chip-list>
                            </mat-form-field>
                        </div>
                    </div>
                </div>
                <div *ngIf="mainScreen == 'Order Details'" class="mt-5">
                    <div class="text-lg font-bold text-secondary border-b mb-2">Shipping Information</div>
                    <div class="alert alert-primary text-secondary text-sm" role="alert">
                        <p> This is how the delivery information currently appears to the customer.</p>
                    </div>
                    <div class="row">
                        <div class="col-md-8 col-12 flex justify-between">
                            <div class="text-secondary font-bold">Expected Delivery Date:</div>
                            <div class="text-secondary">12-17 business days after approval</div>
                        </div>
                        <div class="col-md-8 col-12 flex justify-between">
                            <div class="text-secondary font-bold">Shipping Method:</div>
                            <div class="text-secondary">UPS, Ground</div>
                        </div>
                        <div class="col-md-8 col-12 flex justify-between">
                            <div class="text-secondary font-bold">Order Date:</div>
                            <div class="text-secondary">02/10/2021</div>
                        </div>
                        <div class="col-md-6 col-12">
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">In-Hands Date: (mm/dd/yyyy)</mat-label>
                                <input matInput>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6 col-12">
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">Carrier Name *</mat-label>
                                <input matInput>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6 col-12">
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">Payment Date: (mm/dd/yyyy)</mat-label>
                                <input matInput>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6 col-12">
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">Service Name</mat-label>
                                <input matInput>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6 col-12">
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">Purchase Order</mat-label>
                                <input matInput>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6 col-12">
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">Account Number</mat-label>
                                <input matInput>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6 col-12">
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">Invoice Due Date</mat-label>
                                <input matInput>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6 col-12">
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">Service Code</mat-label>
                                <input matInput>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6 col-12">
                            <mat-form-field class="w-full">
                                <mat-label class="text-secondary">Cost Center Code</mat-label>
                                <input matInput>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="w-full">
                        <note class="text-md text-secondary">Comments cannot be updated or deleted. {{user?.name}} will
                            be the
                            author.</note>
                        <br>
                        <note class="tex-md text-secondary">All comments, including the new one will be emailed to the
                            checked addresses, if any.
                        </note>
                        <mat-form-field class="w-full">
                            <textarea [(ngModel)]="ngComment" rows="6" matInput></textarea>
                        </mat-form-field>
                        <mat-form-field class="w-full">
                            <mat-label>
                                <span class="ml-1">Search Emails</span>
                            </mat-label>
                            <input type="text" placeholder="Search Emails" matInput [formControl]="emailControl"
                                [matAutocomplete]="auto">
                            <mat-hint class="mb-1"><span
                                    *ngFor="let item of emailSelected; let last=last;let i=index">{{item}}<span
                                        class="font-bold ml-1 cursor-pointer text-black-500"
                                        (click)="removeSelectedEmail(i)" [matTooltip]="'Remove this email'">
                                        (x)
                                    </span><span *ngIf="!last">, </span></span>
                            </mat-hint>
                            <mat-autocomplete #auto="matAutocomplete">
                                <mat-option *ngIf="isEmailLoader" class="is-loading">Loading...
                                </mat-option>
                                <ng-container *ngIf="!isEmailLoader">
                                    <mat-option *ngFor="let result of resultEmails" [value]="result.email"
                                        (click)="selectedEmails(result)">
                                        {{ result.email }}
                                    </mat-option>
                                </ng-container>
                            </mat-autocomplete>
                        </mat-form-field>
                        <mat-form-field class="example-chip-list w-full" appearance="fill">
                            <mat-label>Additional Emails (Comma-seperated)</mat-label>
                            <mat-chip-list class="pt-1" #chipList1>
                                <mat-chip [removable]="true" [selectable]="true" *ngFor="let email of emails"
                                    (removed)="remove(email)">
                                    {{email}}
                                    <mat-icon class="icon-size-5" matChipRemove
                                        [svgIcon]="'heroicons_solid:minus-circle'"></mat-icon>
                                </mat-chip>
                                <input [matChipInputFor]="chipList1" placeholder="New Email"
                                    [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                                    [matChipInputAddOnBlur]="addOnBlur" (matChipInputTokenEnd)="add($event)">
                            </mat-chip-list>
                        </mat-form-field>
                        <div class="text-right">
                            <button class="min-w-40" mat-stroked-button [disabled]="isAddCommentLoader"
                                [matTooltip]="'Add Comment'" (click)="addComment()">
                                <mat-progress-spinner *ngIf="isAddCommentLoader" [diameter]="24"
                                    [mode]="'indeterminate'"></mat-progress-spinner>
                                <mat-icon *ngIf="!isAddCommentLoader" [svgIcon]="'heroicons_outline:plus'">
                                </mat-icon>
                                <span *ngIf="!isAddCommentLoader" class="ml-1 mr-1">Add Comment</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </fuse-card>
    </div>
</div>