<mat-tab-group mat-align-tabs="start">
    <mat-tab label="Purchase Orders">
        <div class="row w-full">
            <div class="col-12 mt-2" *ngIf="!isView">
                <mat-card>
                    <mat-card-subtitle class="text-right font-semibold">#56165 - Group Order</mat-card-subtitle>
                    <mat-card-content>
                        <table mat-table [dataSource]="transactions" class="w-full">
                            <!-- Company Column -->
                            <ng-container matColumnDef="company">
                                <th mat-header-cell *matHeaderCellDef class="bg-light"> Company </th>
                                <td mat-cell *matCellDef="let transaction" (click)="viewPurchaseOrder()"
                                    style="color: blue; text-decoration: underline; cursor: pointer;">
                                    {{transaction.company}}
                                </td>
                                <td mat-footer-cell *matFooterCellDef class="bg-light font-semibold"> Total (Incl.
                                    Shipping) </td>
                            </ng-container>

                            <!-- Supplies Column -->
                            <ng-container matColumnDef="supplies">
                                <th mat-header-cell *matHeaderCellDef class="bg-light"> Supplies </th>
                                <td mat-cell *matCellDef="let transaction">
                                    <mat-icon class="text-green-400 icon-size-5" *ngIf="transaction.supplies"
                                        [svgIcon]="'heroicons_solid:check'"></mat-icon>
                                    <mat-icon class="text-red-400 icon-size-5" *ngIf="!transaction.supplies"
                                        [svgIcon]="'heroicons_solid:x'"></mat-icon>
                                </td>
                                <td mat-footer-cell *matFooterCellDef class="bg-light"></td>
                            </ng-container>

                            <!-- Decorates Column -->
                            <ng-container matColumnDef="decorates">
                                <th mat-header-cell *matHeaderCellDef class="bg-light"> Decorates </th>
                                <td mat-cell *matCellDef="let transaction">
                                    <mat-icon class="text-green-400 icon-size-5" *ngIf="transaction.decorates"
                                        [svgIcon]="'heroicons_solid:check'"></mat-icon>
                                    <mat-icon class="text-red-400 icon-size-5" *ngIf="!transaction.decorates"
                                        [svgIcon]="'heroicons_solid:x'"></mat-icon>
                                </td>
                                <td mat-footer-cell *matFooterCellDef class="bg-light"></td>
                            </ng-container>

                            <!-- Digitizes Column -->
                            <ng-container matColumnDef="digitizes">
                                <th mat-header-cell *matHeaderCellDef class="bg-light"> Digitizes </th>
                                <td mat-cell *matCellDef="let transaction">
                                    <mat-icon class="text-green-400 icon-size-5" *ngIf="transaction.digitizes"
                                        [svgIcon]="'heroicons_solid:check'"></mat-icon>
                                    <mat-icon class="text-red-400 icon-size-5" *ngIf="!transaction.digitizes"
                                        [svgIcon]="'heroicons_solid:x'"></mat-icon>
                                </td>
                                <td mat-footer-cell *matFooterCellDef class="bg-light"></td>
                            </ng-container>

                            <!-- Cost Column -->
                            <ng-container matColumnDef="total">
                                <th mat-header-cell *matHeaderCellDef class="bg-light"> Total Price </th>
                                <td mat-cell *matCellDef="let transaction"> {{transaction.total | currency}} </td>
                                <td mat-footer-cell *matFooterCellDef class="bg-light font-semibold"> {{getTotalCost() |
                                    currency}} </td>
                            </ng-container>

                            <tr mat-header-row *matHeaderRowDef="displayedColumns" class="h-18"></tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumns;"
                                class="h-12 hover:bg-gray-100 dark:hover:bg-hover"></tr>
                            <tr mat-footer-row *matFooterRowDef="displayedColumns" class="h-18"></tr>
                        </table>
                    </mat-card-content>
                </mat-card>
            </div>
            <div class="col-12 mt-2" *ngIf="isView" style="height: 100vh;">
                <!-- Header -->
                <div
                    class="relative bg-light flex flex-col sm:flex-row flex-0 sm:items-center sm:justify-between md:px-8 border-b pb-2">

                    <!-- Title -->
                    <div class="text-1xl font-semibold">View Order # 56165</div>
                    <!-- Actions -->
                    <div class="flex flex-shrink-0 items-center mt-6 sm:mt-0 sm:ml-4">
                        <button (click)="exportHtmlToPDF()" [matTooltip]="'Save report as PDF'" class="float-right mr-2"
                            mat-stroked-button>
                            <mat-icon svgIcon="mat_outline:picture_as_pdf"></mat-icon>
                            <span class="ml-2 mr-1">PDF</span>
                        </button>
                        <!-- Back to Customers Page button -->
                        <button class="ml-4" mat-stroked-button [color]="'primary'" (click)="viewPurchaseOrder()">
                            <mat-icon [svgIcon]="'heroicons_outline:arrow-narrow-left'"></mat-icon>
                            <span class="ml-2 mr-1">Back to Purchases List</span>
                        </button>
                    </div>
                </div>

                <div class="absolute mt-10 inset-0 min-w-0 text-center print:overflow-visible" cdkScrollable
                    id="htmltable" #htmltable>
                    <!-- Main -->
                    <div class="inline-block p-6 sm:p-10 text-left print:p-0">

                        <!-- Invoice -->
                        <div
                            class="w-240 min-w-240 p-5 rounded-2xl shadow bg-card print:w-auto print:p-0 print:rounded-none print:shadow-none print:bg-transparent">

                            <div class="flex items-start">
                                <div class="grid grid-rows-1 mt-5">
                                    <div class="grid grid-flow-col mt-5">
                                        <div class="place-self-center w-24 text-center text-2xl text-secondary">
                                            Ship To
                                        </div>
                                        <div class="pl-6 border-l text-md">
                                            <div class="font-medium">TheCHCStore RAKSHANI</div>
                                            <div>526 South Main Street, Akron, OH, USA</div>
                                            <div>Akron US, OH 44311</div>
                                            <div>3305104384</div>
                                            <div>service@thechcstore.com</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="grid grid-cols-2 gap-x-4 gap-y-1 ml-auto pr-16">
                                    <div class="justify-self-start font-semibold text-3xl tracking-tight">Purchase Order
                                    </div>
                                    <div class="justify-self-start text-3xl font-semibold">#56165</div>
                                    <div class="justify-self-start font-medium tracking-tight text-secondary">ORDER DATE
                                    </div>
                                    <div class="font-medium">Feb 19, 2022</div>
                                    <div class="justify-self-start font-medium tracking-tight text-secondary">DUE DATE
                                    </div>
                                    <div class="font-medium">Aug 19, 2022</div>
                                    <div class="justify-self-start font-medium tracking-tight text-secondary">TOTAL DUE
                                    </div>
                                    <div class="font-medium">$49,000.00</div>
                                </div>
                            </div>

                            <div class="grid grid-cols-12 gap-x-1 mt-16">
                                <!-- Columns -->
                                <div class="col-span-8 font-medium text-md text-secondary">SERVICE</div>
                                <div class="font-medium text-md text-right text-secondary">QTY</div>
                                <div class="font-medium text-md text-right text-secondary">RATE</div>
                                <div class="col-span-2 font-medium text-md text-right text-secondary">PRICE</div>

                                <!-- Divider -->
                                <div class="col-span-12 my-4 border-b"></div>

                                <!-- Item -->
                                <div class="col-span-8">
                                    <div class="text-lg font-medium">(18016) H332: 3-Ply Disposable Face Mask Level 3
                                        ASTM</div>
                                    <div class="mt-2 text-md text-secondary">
                                        Prototyping of the application's general workflow and the detailed design of its
                                        72 screens as a working prototype.
                                    </div>
                                    <div class="mt-2 text-md text-secondary">
                                        Expected: 1 package X 20.00lbs/package = 20.00lbs.
                                    </div>
                                </div>
                                <div class="self-center text-right">2000</div>
                                <div class="self-center text-right">$75.00</div>
                                <div class="col-span-2 self-center text-right">$180.00</div>

                                <!-- Spacer -->
                                <div class="col-span-12 mt-16"></div>

                                <!-- Divider -->
                                <div class="col-span-12 my-3 border-b"></div>

                                <!-- Total -->
                                <div class="col-span-8 self-center text-2xl font-medium tracking-tight text-secondary">
                                    TOTAL SHIPPING & HANDLING
                                </div>
                                <div class="col-span-2 text-right font-medium">$75.00</div>
                                <div class="col-span-2 text-right font-medium">$180.00</div>
                            </div>

                            <div class="mt-10">
                                <div style="text-align: -webkit-center;">
                                    <img class="w-40" src="assets/images/logo/consolidus-logo.jpeg">
                                </div>
                            </div>
                        </div>

                    </div>

                </div>
            </div>
        </div>
    </mat-tab>
    <mat-tab label="Sent Purchase Orders">
        <div class="p-8 sm:p-16 text-2xl font-semibold not-found-color">
            <img src="assets/gifs/not-found.gif" class="rounded-circle" style="width: 250px;">
            No purchase orders sent for this order!
        </div>
    </mat-tab>
</mat-tab-group>