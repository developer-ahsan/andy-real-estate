<div class="my-3 w-full">
    <ngx-skeleton-loader count="8" appearance="line" animation="pulse" *ngIf="isLoading">
    </ngx-skeleton-loader>
    <div *ngIf="!isLoading">
        <div class="row">
            <!-- <div class="col-lg-3 col-md-4 col-6 my-2">
                <div class="rounded-2xl shadow bg-card flex items-center max-w-80 w-full p-6 filter-info">
                    <mat-icon *ngIf="orderDetail?.OrderStatus == false" class="icon-size-10 mr-6" svgIcon="close">
                    </mat-icon>
                    <mat-icon *ngIf="orderDetail?.OrderStatus == 'Processing'" role="img" class="icon-size-10 mr-6"
                        svgIcon="heroicons_outline:clock"></mat-icon>
                    <mat-icon *ngIf="orderDetail?.OrderStatus == 'Shipped'" class="icon-size-10 mr-6"
                        svgIcon="local_shipping"></mat-icon>
                    <mat-icon *ngIf="orderDetail?.OrderStatus == 'Delivered'" class="icon-size-10 mr-6"
                        svgIcon="delivery_dining"></mat-icon>
                    <mat-icon *ngIf="orderDetail?.OrderStatus == 'P.O. Needed'" class="icon-size-10 mr-6"
                        svgIcon="heroicons_outline:gift"></mat-icon>
                    <mat-icon *ngIf="orderDetail?.OrderStatus == 'Picked up'" class="icon-size-10 mr-6"
                        svgIcon="heroicons_outline:cube"></mat-icon>
                    <mat-icon *ngIf="orderDetail?.OrderStatus == 'Awaiting Group Order'" class="icon-size-10 mr-6"
                        svgIcon="heroicons_outline:user-group"></mat-icon>
                    <mat-icon *ngIf="orderDetail?.OrderStatus == 'N/A'" class="icon-size-10 mr-6"
                        svgIcon="heroicons_outline:user-group"></mat-icon>

                    <div class="flex flex-col ">
                        <div class="text-lg font-semibold leading-tight">Status</div>
                        <span *ngIf="orderDetail?.OrderStatus == 'Processing'"
                            class="text-xs px-2.5 py-0.5 rounded-full tracking-wide bg-red-200 text-red-800 dark:bg-red-600 dark:text-red-50">
                            <span class="leading-relaxed whitespace-nowrap">{{orderDetail?.OrderStatus}}</span>
                        </span>
                        <span *ngIf="orderDetail?.OrderStatus == 'Shipped'"
                            class="text-xs px-2.5 py-0.5 rounded-full tracking-wide bg-blue-200 text-blue-800 dark:bg-blue-600 dark:text-blue-50"><span
                                class="leading-relaxed whitespace-nowrap">{{orderDetail?.OrderStatus}}</span></span>
                        <span *ngIf="orderDetail?.OrderStatus == 'Delivered'"
                            class="text-xs px-2.5 py-0.5 rounded-full tracking-wide bg-green-200 text-green-800 dark:bg-green-600 dark:text-green-50"><span
                                class="leading-relaxed whitespace-nowrap">{{orderDetail?.OrderStatus}}</span></span>
                        <span *ngIf="orderDetail?.OrderStatus == 'P.O. Needed'"
                            class="text-xs px-2.5 py-0.5 rounded-full tracking-wide bg-green-200 text-green-800 dark:bg-green-600 dark:text-green-50"><span
                                class="leading-relaxed whitespace-nowrap">{{orderDetail?.OrderStatus}}</span></span>
                        <span *ngIf="orderDetail?.OrderStatus == 'Picked up'"
                            class="text-xs px-2.5 py-0.5 rounded-full tracking-wide bg-green-200 text-green-800 dark:bg-green-600 dark:text-green-50"><span
                                class="leading-relaxed whitespace-nowrap">{{orderDetail?.OrderStatus}}</span></span>
                        <span *ngIf="orderDetail?.OrderStatus == 'Awaiting Group Order'"
                            class="text-xs px-2.5 py-0.5 rounded-full tracking-wide bg-green-200 text-green-800 dark:bg-green-600 dark:text-green-50"><span
                                class="leading-relaxed whitespace-nowrap">{{orderDetail?.OrderStatus}}</span></span>
                        <span *ngIf="orderDetail?.OrderStatus == false"
                            class="text-xs px-2.5 py-0.5 rounded-full tracking-wide bg-red-200 text-red-800 dark:bg-red-600 dark:text-red-50"><span
                                class="leading-relaxed whitespace-nowrap">Cancelled</span></span>
                        <span *ngIf="orderDetail?.OrderStatus == 'N/A'"
                            class="text-xs px-2.5 py-0.5 rounded-full tracking-wide bg-red-200 text-red-800 dark:bg-red-600 dark:text-red-50"><span
                                class="leading-relaxed whitespace-nowrap">N/A</span></span>
                    </div>
                </div>
            </div> -->
            <!-- <div class="col-lg-3 col-md-4 col-6 my-2 ">
                <div class="rounded-2xl shadow bg-card flex items-center max-w-80 w-full p-6 filter-info">
                    <mat-icon role="img" class="icon-size-10 mr-6" svgIcon="heroicons_outline:calendar"></mat-icon>
                    <div class="flex flex-col ">
                        <div class="text-xl font-semibold leading-tight">Payment Date</div>
                        <div class="text-md text-secondary">{{(orderDetail?.paymentDate | date: 'mm-DD-yyyy') ||
                            not_available}}</div>
                    </div>
                </div>
            </div> -->
            <div class="col-lg-4 col-md-6 col-12 my-2">
                <div class="rounded-2xl shadow bg-card flex items-center  w-full p-6 filter-info" style="height: 8rem;"
                    matTooltip="{{orderDetail.rushFlexibilityComment}}">
                    <mat-icon role="img" class="icon-size-10 mr-6" svgIcon="mat_outline:date_range"></mat-icon>
                    <div class="flex flex-col w-full">
                        <div class="text-xl font-semibold leading-tight">In-Hands Date</div>
                        <div class="text-md text-secondary h-10 overflow-y-auto">
                            <p *ngIf="orderDetail.inHandsDate">{{(orderDetail?.inHandsDate.substr(0,10) | date:
                                'MM-dd-yyyy')}}</p>
                            <p *ngIf="!orderDetail.inHandsDate">{{not_available}}</p>
                            <span class="font-bold">Rush Flexibility: </span>
                            <span *ngIf="!orderDetail.blnRushFlexibility" class="text-red-500">NO</span>
                            <span *ngIf="orderDetail.blnRushFlexibility" class="text-green-500">YES</span>
                            <br>
                            <span class="font-bold">Comment: </span>
                            <span>{{orderDetail.rushFlexibilityComment || not_available}}</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 col-12 my-2">
                <div class="rounded-2xl shadow bg-card flex items-center  w-full p-6 filter-info  "
                    style="height: 8rem;">
                    <mat-icon role="img" class="icon-size-10 mr-6" svgIcon="mat_outline:money"></mat-icon>
                    <div class="flex flex-col ">
                        <div class="text-xl font-semibold leading-tight">Order Total</div>
                        <div class="text-md text-secondary">
                            <p>{{(orderDetail?.orderTotal | currency) ||
                                not_available_price}}</p>
                            <span></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 col-12 my-2">
                <div class="rounded-2xl shadow bg-card flex items-center  w-full p-6 filter-info" style="height: 8rem;">
                    <mat-icon role="img" class="icon-size-10 mr-6" svgIcon="mat_outline:monetization_on"></mat-icon>
                    <div class="flex flex-col ">
                        <div class="text-xl font-semibold leading-tight">Balance Due</div>
                        <div class="text-md text-secondary">{{((orderDetail?.orderTotal -
                            orderDetail?.currentTotal) | currency) || not_available_price}}</div>
                    </div>
                </div>
            </div>

            <div class="col-12 my-2" *ngIf="!orderDetail.blnCancelled">
                <div class="rounded-2xl shadow bg-card items-center w-full px-6 py-6 filter-info">
                    <div class="text-xl font-semibold leading-tight pb-3">Order Tracker</div>
                    <!-- <div class="container">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="progress font-bold ">
                                    <div class="progress-bar progress-bar-striped progress-bar-animated bg-success"
                                        role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0"
                                        aria-valuemax="100">Art
                                        Proof Sent</div>
                                    <div class="progress-bar progress-bar-striped progress-bar-animated bg-success"
                                        role="progressbar" style="width: 25%" aria-valuenow="50" aria-valuemin="0"
                                        aria-valuemax="100">All
                                        Approvals Received</div>
                                    <div class="progress-bar progress-bar-striped progress-bar-animated bg-success"
                                        role="progressbar" style="width: 25%" aria-valuenow="75" aria-valuemin="0"
                                        aria-valuemax="100">In
                                        Production</div>
                                    <div class="progress-bar progress-bar-striped progress-bar-animated bg-success"
                                        role="progressbar" style="width: 25%" aria-valuenow="100" aria-valuemin="0"
                                        aria-valuemax="100">
                                        <p>Estimated Ship Date Scheduled</p>
                                    </div>
                                    <div class="progress-bar progress-bar-striped progress-bar-animated bg-success"
                                        role="progressbar" style="width: 25%" aria-valuenow="100" aria-valuemin="0"
                                        aria-valuemax="100">
                                        Shipped
                                    </div>
                                    <div class="progress-bar progress-bar-striped bg-secondary progress-bar-animated"
                                        role="progressbar" style="width: 25%" aria-valuenow="100" aria-valuemin="0"
                                        aria-valuemax="100">
                                        Delivery Confirmation</div>

                                </div>
                            </div>
                        </div>
                    </div> -->
                    <div *ngIf="ngStatus == 0" class="mt-2">
                        <ngx-skeleton-loader count="4" appearance="line" animation="pulse">
                        </ngx-skeleton-loader>
                    </div>
                    <div class="row text-center px-3 font-medium" *ngIf="ngStatus != 0">
                        <div class="col-md-2 col-6 p-1 ">
                            <div class="h-20 p-2 tracker" [ngClass]="{'tracker-active': ngStatus >= 1}">
                                <h1>1</h1>
                                Art Proof Sent
                            </div>
                        </div>

                        <div class="col-md-2 col-6 p-1 ">
                            <div class="h-20 p-2 tracker" [ngClass]="{'tracker-active': ngStatus >= 2}">
                                <h1>2</h1>
                                All Approvals Received
                            </div>

                        </div>

                        <div class="col-md-2 col-6 p-1 ">
                            <div class="h-20 p-2 tracker" [ngClass]="{'tracker-active': ngStatus >= 3}">
                                <h1>3</h1>
                                In Production
                            </div>

                        </div>

                        <div class="col-md-2 col-6 p-1 ">
                            <div class="h-20 p-2 tracker" [ngClass]="{'tracker-active': ngStatus >= 4}">
                                <h1>4</h1>
                                Estimated Ship Date Scheduled
                            </div>

                        </div>

                        <div class="col-md-2 col-6 p-1">
                            <div class="h-20 p-2 tracker" [ngClass]="{'tracker-active': ngStatus >= 5}">
                                <h1>5</h1>
                                Shipped
                            </div>
                        </div>

                        <div class="col-md-2 col-6 p-1">
                            <div class="h-20 p-2 tracker" [ngClass]="{'tracker-active': ngStatus >= 6}">
                                <h1>6</h1>
                                Delivery Confirmation
                            </div>
                        </div>
                        <div class="col-12 text-center">
                            <div [innerHTML]="statusText"></div>
                        </div>
                    </div>

                    <!-- <div class="flex">
                        <mat-radio-group class="invisible absolute w-0 h-0 pointer-events-none" [(ngModel)]="ngStatus"
                            #planRadioGroup="matRadioGroup">
                            <ng-container *ngFor="let plan of status; trackBy: trackByFn">
                                <mat-radio-button [value]="plan.value"></mat-radio-button>
                            </ng-container>
                        </mat-radio-group>
                        <ng-container *ngFor="let plan of status; trackBy: trackByFn">
                            <div class="text-center relative flex flex-col items-start justify-start p-6 rounded-md shadow cursor-pointer bg-card"
                                [ngClass]="{'ring ring-inset ring-primary': ngStatus === plan.value}">
                                <ng-container *ngIf="ngStatus === plan.value">
                                    <mat-icon class="absolute top-0 right-0 mt-3 mr-3 icon-size-7 text-primary"
                                        [svgIcon]="'heroicons_solid:check-circle'"></mat-icon>
                                </ng-container>
                                <div class="w-full font-medium text-xl font-bold">{{plan.value}}</div>
                                <div class="mt-1 text-sm text-secondary">{{plan.label}}</div>
                                
                            </div>
                        </ng-container>
                    </div> -->
                </div>
            </div>
            <!-- Shipping Report -->
            <div class="my-2 col-12">
                <div class="rounded-2xl shadow bg-card flex flex-col lg:flex-row w-full">
                    <div class="p-4 w-full">
                        <div class="text-xl font-semibold leading-tight pb-3">Shipping Report</div>

                        <div *ngIf="isShippingReportLoader" class="mt-2">
                            <ngx-skeleton-loader count="4" appearance="line" animation="pulse">
                            </ngx-skeleton-loader>
                        </div>
                        <table class="table table-striped" *ngIf="!isShippingReportLoader">
                            <thead>
                                <tr>
                                    <th scope="col">PO</th>
                                    <th scope="col">Product</th>
                                    <th scope="col">Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let item of shippingReportProducts">
                                    <td>{{orderDetail.pk_orderID + '-' + item.pk_orderLineID}}</td>
                                    <td>{{item?.productName}}</td>
                                    <td>
                                        <div>
                                            <p>{{item.statusName}}</p>
                                            <p *ngIf="item.trackingNumber"><b>Tracking Number:
                                                </b>{{item.trackingNumber}}</p>
                                            <p *ngIf="item?.shippingDate"><b>Shipping Date: </b>{{item.shippingDate |
                                                date}}</p>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="my-2 rounded-2xl shadow bg-card">
            <div class="row">
                <div class="col-6 py-2">
                    <div class=" flex flex-col lg:flex-row w-full  border-r">
                        <div class="p-4 w-full">
                            <div class="text-lg font-medium tracking-tight leading-6 truncate ">
                                Customer Information
                            </div>
                            <div class="py-2">
                                <span class="flex">
                                    <h2>
                                        <mat-icon svgIcon="mat_solid:person"></mat-icon>
                                    </h2>
                                    <h2 class="ml-2">{{orderDetail?.userFirstName + ' ' + orderDetail?.userLastName}}
                                    </h2>
                                </span>
                                <span class="flex">
                                    <h2>
                                        <mat-icon svgIcon="mat_solid:local_phone"></mat-icon>
                                    </h2>
                                    <h2 class="ml-2">{{orderDetail?.billingPhone || not_available}}
                                    </h2>
                                </span>
                                <span class="flex">
                                    <h2>
                                        <mat-icon svgIcon="mat_solid:email"></mat-icon>
                                    </h2>
                                    <h2 class="ml-2">{{orderDetail?.billingEmail || not_available}}
                                    </h2>
                                </span>
                                <span class="flex mt-1">
                                    <h2 class="font-bold">
                                        Company:
                                    </h2>
                                    <h2 class="ml-2">{{orderDetail?.billingCompanyName || not_available}}
                                    </h2>
                                </span>
                                <span class="flex  mt-1">
                                    <h2 class="font-bold">
                                        Location:
                                    </h2>
                                    <h2 class="ml-2">{{orderDetail?.billingLocation || not_available}}
                                    </h2>
                                </span>
                                <span class="flex  mt-1">
                                    <h2 class="font-bold">
                                        Address:
                                    </h2>
                                    <h2 class="ml-2">{{(orderDetail?.billingAddress + ', ' +
                                        orderDetail?.billingCity + ', ' +orderDetail?.billingState + ' '
                                        +orderDetail?.billingZip) || not_available}}
                                    </h2>
                                </span>
                                <span class="flex  mt-1">
                                    <h2 class="font-bold">
                                        Account Charge Code:
                                    </h2>
                                    <h2 class="ml-2">{{orderDetail?.accountChargeCode || not_available}}
                                    </h2>
                                </span>
                            </div>
                            <div class="text-right">
                                <a mat-stroked-button [routerLink]="['/apps/customers', orderDetail?.fk_storeUserID]"
                                    target="_blank">
                                    <mat-icon svgIcon="heroicons_outline:eye"></mat-icon>
                                    <span class="ml-2">View Customer</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-6 py-2">
                    <div class=" flex flex-col lg:flex-row w-full">
                        <div class="p-4 w-full">
                            <div class="text-lg font-medium tracking-tight leading-6 truncate ">
                                Additional Information
                            </div>
                            <div class="row w-full pt-2">
                                <div class="col-lg-6 col-md-6 col-12 my-1">
                                    <div class="row">
                                        <div class="col-12">
                                            <b>Instructions</b>
                                        </div>
                                        <div class="col-12">
                                            {{orderDetail?.instructions || not_available}}
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6 col-12 my-1">
                                    <div class="row">
                                        <div class="col-12">
                                            <b>Promocode</b>
                                        </div>
                                        <div class="col-12">
                                            {{orderDetail?.discountCode || not_available}}
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row w-full">
                                <div class="col-lg-6 col-md-6 col-12 my-1">
                                    <div class="row">
                                        <div class="col-12">
                                            <b>Purchase Order</b>
                                        </div>
                                        <div class="col-6">
                                            {{orderDetail?.purchaseOrderNum || not_available}}
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6 col-12 my-1">
                                    <div class="row">
                                        <div class="col-12">
                                            <b>Additional Status</b>
                                        </div>
                                        <div class="col-6">
                                            {{orderDetail?.accountChargeCode || not_available}}
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row w-full">
                                <div class="col-lg-6 col-md-6 col-12 my-1">
                                    <div class="row">
                                        <div class="col-12">
                                            <b>Account/charge Code</b>
                                        </div>
                                        <div class="col-12">
                                            N/A
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6 col-12 my-1">
                                    <div class="row">
                                        <div class="col-12">
                                            <b>Shipping</b>
                                        </div>
                                        <div class="col-12">
                                            {{(orderDetail?.shippingCarrierName + '/' +
                                            orderDetail?.shippingServiceName) || not_available}}
                                            {{orderDetail?.shippingCustomerAccountNumber}}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="my-2 rounded-2xl shadow bg-card">
            <div class="row">
                <div class="col-12 py-2">
                    <div class=" flex flex-col lg:flex-row w-full">
                        <div class="p-4 w-full">
                            <div class="text-lg font-medium tracking-tight leading-6 truncate ">
                                Order comments
                            </div>
                            <div *ngIf="!htmlComment">
                                <fuse-alert [appearance]="'border'" [type]="'warning'">
                                    There are no order comments on this order.
                                </fuse-alert>
                            </div>
                            <div class="max-h-80 overflow-auto" *ngIf="htmlComment">
                                <div [innerHTML]="htmlComment"></div>
                            </div>
                            <div class="text-right">
                                <button mat-stroked-button (click)="goToComments()">
                                    <span>Add Comment</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>