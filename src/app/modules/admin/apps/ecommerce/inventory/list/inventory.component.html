<div class="absolute inset-0 flex flex-col min-w-0 bg-card dark:bg-transparent" *ngIf="!enableProductAddForm">

    <!-- Header -->
    <div
        class="relative flex flex-col sm:flex-row flex-0 sm:items-center sm:justify-between py-8 px-6 md:px-8 border-b">
        <!-- Loader -->
        <div class="absolute inset-x-0 bottom-1" *ngIf="isLoading">
            <mat-progress-bar [mode]="'indeterminate'"></mat-progress-bar>
        </div>

        <div class="row w-full">
            <div class="col-lg-6 col-12">
                <!-- Title -->
                <div class="text-4xl font-extrabold tracking-tight">Products</div>
            </div>

            <div class="col-lg-2 flex col-6">

                <!-- Export products button -->
                <button class="w-40 w-full" mat-stroked-button [matTooltip]="'Export Products'"
                    (click)="exportProducts()" [disabled]="exportLoader">
                    <mat-progress-spinner *ngIf="exportLoader" [diameter]="24" [mode]="'indeterminate'">
                    </mat-progress-spinner>
                    <span *ngIf="!exportLoader"><i class='fas fa-cloud-download-alt'></i></span>
                    <span class="ml-2 mr-1" *ngIf="!exportLoader">Export Products</span>
                </button>
            </div>
            <div class="col-lg-2 flex col-6">
                <!-- Export products button -->
                <button class="w-40 w-full" mat-stroked-button [matTooltip]="'Export Store Products'">
                    <span>Export Store Products</span>
                </button>
            </div>
            <div class="col-lg-2 flex col-6">
                <!-- Add product button -->
                <button class="min-w-40 w-full" mat-flat-button [color]="'primary'" [matTooltip]="'Add new product'"
                    (click)="enableProductAddFormFn()" [disabled]="firstFormLoader || isSupplierNotReceived">
                    <mat-progress-spinner *ngIf="firstFormLoader || isSupplierNotReceived" [diameter]=" 24"
                        [mode]="'indeterminate'">
                    </mat-progress-spinner>
                    <mat-icon [svgIcon]="'heroicons_outline:plus'" *ngIf="!firstFormLoader && !isSupplierNotReceived">
                    </mat-icon>
                    <span class="ml-2 mr-1" *ngIf="!firstFormLoader && !isSupplierNotReceived">Add Product</span>
                </button>
            </div>
        </div>
    </div>

    <div class="row m-2">
        <!-- <div class="col-lg-3 col-6 p-2">
            <mat-form-field class="fuse-mat-dense fuse-mat-no-subscript w-full">
                <mat-label>Search by Product ID</mat-label>
                <input class="h-6" [(ngModel)]="_inventoryService.productSearchFilter.product_id" matInput
                    [matTooltip]="'Press enter key after typing'" (keyup.enter)="searchByPID($event.target.value)"
                    type="number" (mousewheel)="$event.preventDefault()" [autocomplete]="'off'"
                    [placeholder]="'Search by Product ID'">
                <mat-icon matPrefix [svgIcon]="'heroicons_outline:search'"></mat-icon>
            </mat-form-field>
        </div> -->

        <div class="col-lg-4 col-6 p-2">
            <!-- Search -->
            <mat-form-field class="fuse-mat-dense fuse-mat-no-subscript w-full">
                <mat-label>Search Products</mat-label>
                <input class="h-6" [(ngModel)]="_inventoryService.productSearchFilter.term" matInput
                    [matTooltip]="'Press enter key after typing'" (keyup.enter)="searchKeyword($event.target.value)"
                    [autocomplete]="'off'" [placeholder]="'Search Products'">
                <mat-icon matPrefix [svgIcon]="'heroicons_outline:search'"></mat-icon>
                <!-- <mat-icon matPrefix [svgIcon]="'heroicons_outline:x'"></mat-icon> -->
            </mat-form-field>
        </div>

        <div class="col-lg-4 col-6 p-2">
            <!-- Filter Products By Supplier -->
            <mat-form-field appearance="fill" class="w-full">
                <mat-label>
                    <span>Filter Products By Supplier</span>
                    <span class="ml-3" *ngIf="isSupplierNotReceived"> (Fetching Suppliers... )</span>
                </mat-label>
                <mat-select [(ngModel)]="selectedSupplier" disableRipple [disabled]="isSupplierNotReceived">
                    <mat-option (click)="clearFilter()" value="All Suppliers">All Suppliers</mat-option>
                    <mat-option (click)="selectBySupplier(supplier.pk_companyID)" [value]="supplier.pk_companyID"
                        *ngFor="let supplier of suppliers">
                        {{supplier.companyName}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>

        <div class="col-lg-4 col-6 p-2">
            <!-- Filter Products By Store -->
            <mat-form-field appearance="fill" class="w-full">
                <mat-label>
                    <span>Filter Products By Store</span>
                    <span class="ml-3" *ngIf="isStoreNotReceived"> (Fetching Stores... )</span>
                </mat-label>
                <mat-select [(ngModel)]="selectedStore" disableRipple [disabled]="isStoreNotReceived">
                    <mat-option (click)="clearFilter()" value="All Stores">All Stores</mat-option>
                    <mat-option (click)="selectByStore(store.pk_storeID)" [value]="store.pk_storeID"
                        *ngFor="let store of stores">
                        {{store.storeName}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>

        <div class="col-12 flex justify-end">
            <span class="font-semibold hover:underline text-gray-500 cursor-pointer" (click)="resetSearch()">
                Reset Search
            </span>
        </div>

    </div>

    <!-- Main -->
    <div class="flex flex-auto overflow-hidden">

        <!-- Products list -->
        <div class="flex flex-col flex-auto sm:mb-18 overflow-hidden" *ngIf="products">

            <ng-container *ngIf="productsCount > 0; else noProducts">

                <!-- Table wrapper -->
                <div class="overflow-auto" cdkScrollable>

                    <!-- Table -->
                    <table class="w-full table-fixed bg-transparent" [ngClass]="{'pointer-events-none': isLoading}"
                        mat-table matSort (matSortChange)="sortData($event)" [multiTemplateDataRows]="true"
                        [dataSource]="products">

                        <!-- SKU -->
                        <ng-container matColumnDef="pk_productID">
                            <th class="w-40 bg-gray-50 dark:bg-black dark:bg-opacity-5" mat-header-cell
                                *matHeaderCellDef mat-sort-header disableClear>
                                ID
                            </th>
                            <td mat-cell *matCellDef="let product">
                                <div class="flex items-center" (click)="productDetails(product.pk_productID)">
                                    <span>{{product.pk_productID}}</span>
                                </div>
                            </td>
                        </ng-container>

                        <!-- Name -->
                        <ng-container matColumnDef="productName">
                            <th class="bg-gray-50 dark:bg-black dark:bg-opacity-5" mat-header-cell *matHeaderCellDef
                                mat-sort-header disableClear>
                                Name
                            </th>
                            <td mat-cell *matCellDef="let product" (click)="productDetails(product.pk_productID)">
                                <b>#{{product.productNumber}}</b> - <span [innerHTML]="product.productName"></span>
                            </td>
                        </ng-container>

                        <!-- Product details row -->
                        <ng-container matColumnDef="productDetails">
                            <td class="p-0 border-b-0" mat-cell *matCellDef="let product"
                                [attr.colspan]="productsTableColumns.length">
                                <div class="shadow-lg overflow-hidden"
                                    [@expandCollapse]="selectedProduct?.id === product.id ? 'expanded' : 'collapsed'">
                                    <div class="flex border-b">
                                        <!-- Selected product form -->
                                        <form class="flex flex-col w-full" [formGroup]="selectedProductForm">

                                            <div class="flex p-8">

                                                <!-- Product images and status -->
                                                <div class="flex flex-col">
                                                    <div class="flex flex-col items-center">
                                                    </div>
                                                    <div class="flex flex-col mt-8">
                                                        <span class="font-semibold mb-2">Product status</span>
                                                        <mat-slide-toggle [formControlName]="'active'"
                                                            [color]="'primary'">
                                                            {{selectedProductForm.get('active').value === true ?
                                                            'Active' : 'Disabled'}}
                                                        </mat-slide-toggle>
                                                    </div>
                                                </div>

                                                <div class="flex flex-auto">
                                                    <div class="flex flex-col w-2/4 pl-8">

                                                        <!-- Name -->
                                                        <mat-form-field class="w-full">
                                                            <mat-label>Name</mat-label>
                                                            <input matInput [formControlName]="'name'">
                                                        </mat-form-field>

                                                        <!-- SKU and Barcode -->
                                                        <div class="flex">
                                                            <mat-form-field class="w-1/3 pr-2">
                                                                <mat-label>SKU</mat-label>
                                                                <input matInput [formControlName]="'sku'">
                                                            </mat-form-field>
                                                            <mat-form-field class="w-2/3 pl-2">
                                                                <mat-label>Barcode</mat-label>
                                                                <input matInput [formControlName]="'barcode'">
                                                            </mat-form-field>
                                                        </div>

                                                        <!-- Category, Brand & Vendor -->
                                                        <div class="flex">
                                                            <mat-form-field class="w-1/3 pr-2">
                                                                <mat-label>Category</mat-label>
                                                                <mat-select [formControlName]="'category'">
                                                                    <ng-container *ngFor="let category of categories">
                                                                        <mat-option [value]="category.id">
                                                                            {{category.name}}
                                                                        </mat-option>
                                                                    </ng-container>
                                                                </mat-select>
                                                            </mat-form-field>
                                                            <mat-form-field class="w-1/3 px-2">
                                                                <mat-label>Brand</mat-label>
                                                                <mat-select [formControlName]="'brand'">
                                                                    <ng-container *ngFor="let brand of brands">
                                                                        <mat-option [value]="brand.id">
                                                                            {{brand.name}}
                                                                        </mat-option>
                                                                    </ng-container>
                                                                </mat-select>
                                                            </mat-form-field>
                                                            <mat-form-field class="w-1/3 pl-2">
                                                                <mat-label>Vendor</mat-label>
                                                                <mat-select [formControlName]="'vendor'">
                                                                    <ng-container *ngFor="let vendor of vendors">
                                                                        <mat-option [value]="vendor.id">
                                                                            {{vendor.name}}
                                                                        </mat-option>
                                                                    </ng-container>
                                                                </mat-select>
                                                            </mat-form-field>
                                                        </div>

                                                        <!-- Stock and Reserved -->
                                                        <div class="flex">
                                                            <mat-form-field class="w-1/3 pr-2">
                                                                <mat-label>Stock</mat-label>
                                                                <input type="number"
                                                                    (mousewheel)="$event.preventDefault()" matInput
                                                                    [formControlName]="'stock'">
                                                            </mat-form-field>
                                                            <mat-form-field class="w-1/3 pl-2">
                                                                <mat-label>Reserved</mat-label>
                                                                <input type="number"
                                                                    (mousewheel)="$event.preventDefault()" matInput
                                                                    [formControlName]="'reserved'">
                                                            </mat-form-field>
                                                        </div>
                                                    </div>

                                                    <!-- Cost, Base price, Tax & Price -->
                                                    <div class="flex flex-col w-1/4 pl-8">
                                                        <mat-form-field class="w-full">
                                                            <mat-label>Cost</mat-label>
                                                            <span matPrefix>$</span>
                                                            <input matInput [formControlName]="'cost'">
                                                        </mat-form-field>
                                                        <mat-form-field class="w-full">
                                                            <mat-label>Base Price</mat-label>
                                                            <span matPrefix>$</span>
                                                            <input matInput [formControlName]="'basePrice'">
                                                        </mat-form-field>
                                                        <mat-form-field class="w-full">
                                                            <mat-label>Tax</mat-label>
                                                            <span matSuffix>%</span>
                                                            <input type="number" (mousewheel)="$event.preventDefault()"
                                                                matInput [formControlName]="'taxPercent'">
                                                        </mat-form-field>
                                                        <mat-form-field class="w-full">
                                                            <mat-label>Price</mat-label>
                                                            <span matSuffix>$</span>
                                                            <input matInput [formControlName]="'price'">
                                                        </mat-form-field>
                                                    </div>

                                                    <!-- Weight & Tags -->
                                                    <div class="flex flex-col w-1/4 pl-8">
                                                        <mat-form-field class="w-full">
                                                            <mat-label>Weight</mat-label>
                                                            <span matSuffix>lbs.</span>
                                                            <input matInput [formControlName]="'weight'">
                                                        </mat-form-field>

                                                    </div>

                                                </div>

                                            </div>

                                            <div class="flex items-center justify-between w-full border-t px-8 py-4">
                                                <button class="-ml-4" mat-button [color]="'warn'"
                                                    (click)="deleteSelectedProduct()">
                                                    Delete
                                                </button>
                                                <div class="flex items-center">
                                                    <div class="flex items-center mr-4" *ngIf="flashMessage">
                                                        <ng-container *ngIf="flashMessage === 'success'">
                                                            <mat-icon class="text-green-500"
                                                                [svgIcon]="'heroicons_outline:check'"></mat-icon>
                                                            <span class="ml-2">Product updated</span>
                                                        </ng-container>
                                                        <ng-container *ngIf="flashMessage === 'error'">
                                                            <mat-icon class="text-red-500"
                                                                [svgIcon]="'heroicons_outline:x'"></mat-icon>
                                                            <span class="ml-2">An error occurred, try again!</span>
                                                        </ng-container>
                                                    </div>
                                                    <button mat-flat-button [color]="'primary'"
                                                        (click)="updateSelectedProduct()">
                                                        Update
                                                    </button>
                                                </div>
                                            </div>

                                        </form>
                                    </div>
                                </div>
                            </td>
                        </ng-container>

                        <tr class="shadow" mat-header-row *matHeaderRowDef="productsTableColumns; sticky: true"></tr>
                        <tr class="h-18 hover:bg-gray-100 dark:hover:bg-hover" mat-row
                            *matRowDef="let product; columns: productsTableColumns;" style="cursor: pointer;"></tr>
                        <tr class="h-0" mat-row *matRowDef="let row; columns: ['productDetails']"></tr>

                    </table>
                </div>

                <mat-paginator
                    class="sm:absolute sm:inset-x-0 sm:bottom-0 border-b sm:border-t sm:border-b-0 z-10 bg-gray-50 dark:bg-transparent"
                    [ngClass]="{'pointer-events-none': isLoading}" [length]="productsCount" [pageIndex]="pageNo"
                    [pageSize]="20" (page)="getNextData($event)" [hidePageSize]="true"></mat-paginator>

            </ng-container>

            <ng-template #noProducts>
                <div class="p-8 sm:p-16 border-t text-4xl font-semibold tracking-tight text-center">There are no
                    products!</div>
            </ng-template>

        </div>

    </div>

</div>

<div class="absolute inset-0 flex flex-col min-w-0 overflow-hidden overflow-y-auto bg-card dark:bg-transparent"
    *ngIf="enableProductAddForm">

    <!-- Header -->
    <div
        class="relative flex flex-col sm:flex-row flex-0 sm:items-center sm:justify-between py-8 px-6 md:px-8 border-b">
        <!-- Loader -->
        <div class="absolute inset-x-0 bottom-1" *ngIf="isLoading">
            <mat-progress-bar [mode]="'indeterminate'"></mat-progress-bar>
        </div>
        <div class="row w-full">
            <div class="col-lg-6 col-12">
                <div class="text-3xl font-extrabold tracking-tight">Add New Product</div>
            </div>
            <div class="col-lg-6 col-12">
                <!-- Back to products button -->
                <button class="float-right min-w-50" mat-flat-button [color]="'primary'"
                    [matTooltip]="'Go to products list'" (click)="getProductsList()" [disabled]="backListLoader">
                    <mat-progress-spinner *ngIf="backListLoader" [diameter]="24" [mode]="'indeterminate'">
                    </mat-progress-spinner>
                    <mat-icon [svgIcon]="'heroicons_outline:arrow-narrow-left'" *ngIf="!backListLoader"></mat-icon>
                    <span class="ml-2 mr-1" *ngIf="!backListLoader">Back to Products</span>
                </button>
            </div>
        </div>
    </div>



    <div class="row bg-light max-height">
        <div class="col-12 m-8" *ngIf="productNumberLoader">
            <ngx-skeleton-loader count="5" appearance="line" animation="pulse"></ngx-skeleton-loader>
        </div>
        <div class="col-12 overflow-auto" *ngIf="!productNumberLoader">
            <div class="bg-card shadow p-4 m-8" *ngIf="productId">
                <div class="flex mr-7" style="justify-content: space-between;">
                    <div class="text-2xl font-bold">Product</div>
                </div>
                <div class="row w-full">
                    <div class="col-md-6 col-12">
                        <b class="text-secondary text-sm">PID</b>
                        <p class="float-right text-sm">{{productId}}</p>
                    </div>
                    <div class="col-md-6 col-12">
                        <b class="text-secondary text-sm">Product Name</b>
                        <p class="float-right text-sm">{{secondFormGroup.get('productName').value}}</p>
                    </div>
                    <div class="col-md-6 col-12">
                        <b class="text-secondary text-sm">Supplier</b>
                        <p class="float-right text-sm cursor-pointer"><a [routerLink]="['/apps/vendors',supplierId]"
                                target="_blank">{{supplierName}}</a></p>
                    </div>
                    <div class="col-md-6 col-12">
                        <b class="text-secondary text-sm">Product Link</b>
                        <a class="float-right text-sm"
                            style="color: #959595; text-decoration: underline; cursor: pointer;"
                            [routerLink]="['/apps/ecommerce/inventory',productId]" target="_blank">
                            Click Here
                        </a>
                    </div>

                </div>
            </div>
            <mat-card class="rounded-2xl m-8">
                <mat-card-content>

                    <!-- [ngClass]="isReviewFormReached ? 'myStepperAuto' : 'myStepperNone'"
                        [orientation]="(stepperOrientation | async)!" -->
                    <mat-stepper (selectionChange)="selectionChange($event)" #stepper [linear]="true"
                        class="example-stepper">

                        <!-- Product Type -->
                        <!-- [stepControl]="firstFormGroup" -->
                        <mat-step [stepControl]="firstFormGroup" label="Type" [editable]="true">
                            <div class="row pt-2 pb-4">
                                <div class="col-lg-12 col-12">
                                    <!-- Search -->
                                    <mat-form-field class="fuse-mat-dense fuse-mat-no-subscript w-full">
                                        <mat-label>Product Number</mat-label>
                                        <input class="h-6" [disabled]="productNumberLoader" matInput
                                            (input)="onSearchChange($event)" (keyup.enter)="fetchProductNumberData()"
                                            [autocomplete]="'off'" [placeholder]="'Product Number'">
                                    </mat-form-field>
                                </div>
                                <!-- <div class="col-lg-3 col-12">
                                    <button class="w-full min-w-50 mt-2 lg:mt-7" mat-stroked-button
                                        [matTooltip]="'Go to products list'" (click)="fetchProductNumberData()"
                                        [disabled]="productNumberLoader">
                                        <mat-progress-spinner *ngIf="productNumberLoader" [diameter]="24"
                                            [mode]="'indeterminate'">
                                        </mat-progress-spinner>
                                        <span class="ml-2 mr-1" *ngIf="!productNumberLoader">Fetch</span>
                                    </button>
                                </div> -->
                            </div>
                            <form [formGroup]="firstFormGroup" class="mt-3">

                                <div class="row">
                                    <div class="col-12">
                                        <p class="font-semibold">Select a supplier</p>
                                    </div>
                                    <div class="col-12">
                                        <ng-multiselect-dropdown [placeholder]="'Select Supplier'"
                                            [settings]="dropdownSettings" [data]="dropdownList"
                                            formControlName="supplier" (onSelect)="onItemSelect($event)">
                                        </ng-multiselect-dropdown>
                                        <!-- <ng-multiselect-dropdown [placeholder]="'Select Supplier'"
                                            [settings]="dropdownSettings" [data]="dropdownList"
                                            [(ngModel)]="selectedItems" formControlName="supplier"
                                            (onSelect)="onItemSelect($event)">
                                        </ng-multiselect-dropdown> -->
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12">
                                        <mat-radio-group aria-labelledby="example-radio-group-label"
                                            class="example-radio-group w-full" [formControlName]="'radio'">
                                            <mat-radio-button *ngFor="let obj of addProductTypeRadios; let i = index;"
                                                [value]="obj">
                                                {{obj.name}}
                                                <span *ngIf="obj.helperText.length" matTooltip="{{obj.helperText}} ">
                                                    <i class="fa fa-question-circle"></i>
                                                </span>
                                            </mat-radio-button>
                                        </mat-radio-group>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12 flex justify-end">
                                        <button class=" min-w-40 mr-2" mat-stroked-button
                                            [matTooltip]="'Go to products list'" (click)="fetchProductNumberData()"
                                            [disabled]="productNumberLoader">
                                            <mat-progress-spinner *ngIf="productNumberLoader" [diameter]="24"
                                                [mode]="'indeterminate'">
                                            </mat-progress-spinner>
                                            <span class="ml-2 mr-1" *ngIf="!productNumberLoader">Fetch</span>
                                        </button>
                                        <button class="min-w-50" (click)="goForward(stepper)" mat-stroked-button
                                            [disabled]="checkProductExistOrNotLoader">
                                            <span class="ml-2 mr-1"
                                                *ngIf="!checkProductExistOrNotLoader">Continue</span>
                                            <!-- <mat-progress-spinner *ngIf="checkProductExistOrNotLoader" [diameter]="24"
                                                [mode]="'indeterminate'">
                                            </mat-progress-spinner> -->
                                        </button>
                                    </div>
                                </div>
                            </form>
                            <!-- <p *ngIf="firstFormGroup.get('radio').value == 'Apparel Item'">dsad</p> -->
                        </mat-step>

                        <!-- Product Details -->
                        <!-- [stepControl]="secondFormGroup" -->
                        <!-- [completed]="productStepComplete" -->
                        <mat-step label="Details" [editable]="true" [completed]="productStepComplete">
                            <form [formGroup]="secondFormGroup" class="mt-3">
                                <div class="row">
                                    <div class="col-6 mb-2">
                                        <span class="font-semibold mr-2">Supplier:</span>
                                        <span> {{supplierName}} </span>
                                    </div>
                                    <div class="col-6 text-right mb-2">
                                        <button (click)="checkProductExistOrNot()"
                                            [matTooltip]="'Check if the product exists or not'" class="min-w-40"
                                            [disabled]="checkProductExistOrNotLoader" mat-stroked-button>
                                            <mat-progress-spinner *ngIf="checkProductExistOrNotLoader" [diameter]="24"
                                                [mode]="'indeterminate'">
                                            </mat-progress-spinner>
                                            <span *ngIf="!checkProductExistOrNotLoader">Check</span>
                                        </button>
                                    </div>
                                    <div class="col-lg-6 col-12">
                                        <mat-form-field appearance="fill" class="w-full">
                                            <mat-label>Product Name</mat-label>
                                            <input matInput formControlName="productName" required maxlength="50">
                                            <mat-error>Product Name is required</mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-lg-6 col-12">
                                        <mat-form-field appearance="fill" class="w-full">
                                            <mat-label>Product Number</mat-label>
                                            <input matInput formControlName="productNumber" required maxlength="40">
                                            <mat-error>Product Number is required</mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-12" *ngIf="supplierType == 'Apparel Item'">
                                        <mat-form-field appearance="fill" class="w-full">
                                            <mat-label>Brand Name *</mat-label>
                                            <input matInput formControlName="brandName">
                                            <mat-error>Brand Name is required</mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-12 pb-6 mb-6">
                                        <div>Main Description</div>
                                        <quill-editor [formControlName]="'mainDescription'"
                                            (change)="quillLimit($event)" [modules]="quillModules">
                                        </quill-editor>
                                    </div>
                                    <div class="col-12 mt-top-30px ">
                                        <mat-form-field appearance="fill" class="w-full">
                                            <mat-label>Mini/Meta Description (150)</mat-label>
                                            <textarea matInput rows="3" maxlength="150"
                                                placeholder="Mini Description (150)"
                                                [formControlName]="'miniDescription'"></textarea>
                                            <mat-error>Mini description is required</mat-error>
                                        </mat-form-field>
                                    </div>
                                    <!-- <div class="col-12 mb-2" *ngIf="supplierType != 'Apparel Item'">
                                        <div class="flex items-center">
                                            <div class="font-medium text-secondary">PRODUCT DIMENSIONS</div>
                                            <div class="flex-auto ml-2 border-b-2"></div>
                                        </div>
                                    </div> -->
                                    <div class="col-12" *ngIf="supplierType != 'Apparel Item'">
                                        <mat-form-field appearance="fill" class="w-full">
                                            <mat-label>Product Dimensions</mat-label>
                                            <input matInput type="text" formControlName="productDimensions">
                                        </mat-form-field>
                                    </div>
                                    <!-- <div class="col-lg-4 col-12" *ngIf="supplierType != 'Apparel Item'">
                                        <mat-form-field appearance="fill" class="w-full">
                                            <mat-label>Product Width</mat-label>
                                            <input matInput type="number" (mousewheel)="$event.preventDefault()" formControlName="productWidth">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-lg-4 col-12" *ngIf="supplierType != 'Apparel Item'">
                                        <mat-form-field appearance="fill" class="w-full">
                                            <mat-label>Product Height</mat-label>
                                            <input matInput type="number" (mousewheel)="$event.preventDefault()" formControlName="productHeight">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-lg-4 col-12" *ngIf="supplierType != 'Apparel Item'">
                                        <mat-form-field appearance="fill" class="w-full">
                                            <mat-label>Product Length</mat-label>
                                            <input matInput type="number" (mousewheel)="$event.preventDefault()" formControlName="productLength">
                                        </mat-form-field>
                                    </div> -->
                                    <div class="col-lg-6 col-12" style="line-height: 2.3;"
                                        *ngIf="supplierType != 'Apparel Item'">
                                        <p class="font-semibold">Group run</p>
                                        <mat-checkbox [formControlName]="'allowGroupRun'">Allow group run?
                                        </mat-checkbox>
                                    </div>
                                    <div class="col-12" *ngIf="supplierType != 'Apparel Item'"
                                        style="line-height: 2.3;">
                                        <p class="font-semibold">Ships from</p>
                                        <mat-progress-spinner [diameter]="24" [mode]="'indeterminate'"
                                            *ngIf="fobLocationLoader"></mat-progress-spinner>
                                        <mat-checkbox *ngFor="let item of FOBLocations" class="mr-2" [checked]="true"
                                            (change)="changeFobLocations(item,$event)">{{item.FOBLocationName}}</mat-checkbox>
                                    </div>
                                    <div class="col-12 mb-2">
                                        <p class="text-secondary font-semibold">Ships within (Number of Days)</p>
                                    </div>
                                    <div class="col-9 custom-slider mb-3">
                                        <ngx-slider [(value)]="sliderMinValue" [(highValue)]="sliderMaxValue"
                                            [options]="sliderOptions">
                                        </ngx-slider>
                                    </div>
                                    <div class="col-5" *ngIf="supplierType != 'Apparel Item'">
                                        <p class="text-secondary font-semibold">Weight</p>
                                    </div>
                                    <div class="col-7" *ngIf="supplierType != 'Apparel Item'">
                                        <p class="text-secondary font-semibold">Units in weight</p>
                                    </div>
                                    <div class="col-4" *ngIf="supplierType != 'Apparel Item'">
                                        <mat-form-field class="w-full">
                                            <input matInput type="number" (mousewheel)="$event.preventDefault()" min="1"
                                                [formControlName]="'weight'"><small
                                                class="text-secondary font-semibold">
                                                lbs </small>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-1 text-center" *ngIf="supplierType != 'Apparel Item'">
                                        <span class="text-secondary lineHeihgt-35">per</span>
                                    </div>
                                    <div class="col-4" *ngIf="supplierType != 'Apparel Item'">
                                        <mat-form-field class="w-full">
                                            <input matInput type="number" (mousewheel)="$event.preventDefault()" min="1"
                                                [formControlName]="'unitsInWeight'"><small
                                                class="text-secondary font-semibold">
                                                unit(s) </small>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-lg-3 col-12" *ngIf="supplierType == 'Apparel Item'">
                                        <mat-form-field class="w-full">
                                            <mat-label>Sex</mat-label>
                                            <mat-select [(value)]="selectedSex" placeholder="Mode">
                                                <mat-option [value]="0">N/A</mat-option>
                                                <mat-option [value]="1">Men's</mat-option>
                                                <mat-option [value]="2">Women's</mat-option>
                                                <mat-option [value]="3">Men's/Women's</mat-option>
                                                <mat-option [value]="4">Unisex</mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-12">
                                        <mat-form-field class="w-full">
                                            <mat-label>Units per Shipping Package</mat-label>
                                            <input matInput type="number" (mousewheel)="$event.preventDefault()" min="1"
                                                [formControlName]="'unitsInShippingPackage'"><small
                                                class="text-secondary font-semibold">
                                                unit(s) </small>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-12">
                                        <mat-form-field class="w-full">
                                            <mat-label>Flat Rate</mat-label>
                                            <input matInput type="number" (mousewheel)="$event.preventDefault()"
                                                [formControlName]="'flatRate'">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-12">
                                        <mat-form-field appearance="fill" class="w-full">
                                            <mat-label>Supplier Link (200)</mat-label>
                                            <input matInput formControlName="supplierLink" maxlength="200">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-12 mb-2" *ngIf="supplierType != 'Apparel Item'">
                                        <div class="flex items-center">
                                            <div class="font-medium" style="color: #64748b;">CASE DIMENSIONS</div>
                                            <div class="flex-auto ml-2 border-b-2"></div>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 col-12" *ngIf="supplierType != 'Apparel Item'">
                                        <mat-form-field appearance="fill" class="w-full">
                                            <mat-label>Case Height</mat-label>
                                            <input matInput type="number" (mousewheel)="$event.preventDefault()"
                                                formControlName="caseHeight">
                                            <small class="text-secondary font-semibold"> inch </small>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-lg-4 col-12" *ngIf="supplierType != 'Apparel Item'">
                                        <mat-form-field appearance="fill" class="w-full">
                                            <mat-label>Case Width</mat-label>
                                            <input matInput type="number" (mousewheel)="$event.preventDefault()"
                                                formControlName="caseWidth">
                                            <small class="text-secondary font-semibold"> inch </small>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-lg-4 col-12" *ngIf="supplierType != 'Apparel Item'">
                                        <mat-form-field appearance="fill" class="w-full">
                                            <mat-label>Case Length</mat-label>
                                            <input matInput type="number" (mousewheel)="$event.preventDefault()"
                                                formControlName="caseLength">
                                            <small class="text-secondary font-semibold"> inch </small>
                                        </mat-form-field>
                                    </div>

                                    <div class="col-12 mb-2">
                                        <p class="text-secondary font-semibold">Case Quantities</p>
                                    </div>
                                    <div class="col-4">
                                        <mat-form-field class="w-full">
                                            <input matInput type="number" (mousewheel)="$event.preventDefault()"
                                                [formControlName]="'quantityOne'"><small
                                                class="text-secondary font-semibold"> 1 </small>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-4">
                                        <mat-form-field class="w-full">
                                            <input matInput type="number" (mousewheel)="$event.preventDefault()"
                                                [formControlName]="'quantityTwo'"><small
                                                class="text-secondary font-semibold"> 2 </small>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-4">
                                        <mat-form-field class="w-full">
                                            <input matInput type="number" (mousewheel)="$event.preventDefault()"
                                                [formControlName]="'quantityThree'"><small
                                                class="text-secondary font-semibold"> 3 </small>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-4">
                                        <mat-form-field class="w-full">
                                            <input matInput type="number" (mousewheel)="$event.preventDefault()"
                                                [formControlName]="'quantityFour'"><small
                                                class="text-secondary font-semibold"> 4 </small>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-4">
                                        <mat-form-field class="w-full">
                                            <input matInput type="number" (mousewheel)="$event.preventDefault()"
                                                [formControlName]="'quantityFive'"><small
                                                class="text-secondary font-semibold"> 5 </small>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-4">
                                        <mat-form-field class="w-full">
                                            <input matInput type="number" (mousewheel)="$event.preventDefault()"
                                                [formControlName]="'quantitySix'"><small
                                                class="text-secondary font-semibold"> 6 </small>
                                        </mat-form-field>
                                    </div>


                                    <div class="col-lg-6 col-12">
                                        <mat-form-field appearance="fill" class="w-full">
                                            <mat-label>Over Pack Charge (optional)</mat-label>
                                            <input matInput type="number" (mousewheel)="$event.preventDefault()"
                                                formControlName="overPackageCharge">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-lg-6 col-12" style="line-height: 2.3;">
                                        <p class="font-semibold" style="color: #64748b;">Do shipping charges apply?</p>
                                        <mat-radio-group [formControlName]="'doChargesApply'">
                                            <mat-radio-button value="Yes" class="mr-5">Yes</mat-radio-button>
                                            <mat-radio-button value="No" class="ml-5">No</mat-radio-button>
                                        </mat-radio-group>
                                    </div>
                                    <div class="col-12">
                                        <mat-form-field class="example-chip-list w-full" appearance="fill">
                                            <mat-label>Keywords (Comma-separated)</mat-label>
                                            <mat-chip-list class="pt-1" #chipList1>
                                                <mat-chip [removable]="true" [selectable]="true"
                                                    *ngFor="let fruit of fruits" (removed)="remove(fruit)">
                                                    {{fruit.name}}
                                                    <mat-icon class="icon-size-5" matChipRemove
                                                        [svgIcon]="'heroicons_solid:minus-circle'"></mat-icon>
                                                    <!-- <button >
                                                        <mat-icon matChipRemove svgIcon="close"
                                                            style="transform: scale(0.8);margin-top: -2.5px;">
                                                        </mat-icon>
                                                    </button> -->
                                                </mat-chip>
                                                <input [matChipInputFor]="chipList1" placeholder="New Keyword"
                                                    [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                                                    [matChipInputAddOnBlur]="addOnBlur"
                                                    (matChipInputTokenEnd)="add($event)">
                                            </mat-chip-list>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-7 col-12"></div>
                                    <div class="col-lg-2 col-12">
                                        <button class="w-full" (click)="goBack(stepper)" mat-stroked-button>
                                            Back
                                        </button>
                                    </div>
                                    <div class="col-lg-3 col-12">
                                        <button class="w-full" (click)="addProductDetail()" mat-stroked-button
                                            [disabled]="createProductDetailLoader">
                                            <mat-progress-spinner *ngIf="createProductDetailLoader" [diameter]="24"
                                                [mode]="'indeterminate'">
                                            </mat-progress-spinner>
                                            <span *ngIf="!createProductDetailLoader">Save & Continue</span>
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </mat-step>

                        <mat-step [stepControl]="netCostForm" label="Cost" [editable]="true">
                            <div class="row">
                                <div class="col-lg-10 col-12"></div>
                                <div class="col-lg-2 col-12">
                                    <button class="w-full" (click)="skipStep(stepper)" mat-stroked-button>
                                        Skip
                                    </button>
                                </div>
                                <div class="col-12">
                                    <form [formGroup]="netCostForm">
                                        <div class="row my-5 px-3">
                                            <div class="col-12 mt-5">
                                                <b style="font-weight: 500;">Quantity</b>
                                            </div>
                                            <div class="col-lg-2 col-4">
                                                <p>
                                                    <br />
                                                </p>
                                                <mat-form-field class="w-full">
                                                    <input matInput type="number" (mousewheel)="$event.preventDefault()"
                                                        [formControlName]="'firstQuantity'"><small
                                                        class="text-secondary font-semibold"> 1
                                                    </small>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-lg-2 col-4">
                                                <p class="flex justify-between">
                                                    <span class="underline ml-1 font-semibold cursor-pointer"
                                                        (click)="updateQuantityQuickLinks('secondQuantity')">x2</span>
                                                </p>
                                                <mat-form-field class="w-full">
                                                    <input matInput type="number" (mousewheel)="$event.preventDefault()"
                                                        [formControlName]="'secondQuantity'"><small
                                                        class="text-secondary font-semibold"> 2
                                                    </small>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-lg-2 col-4">
                                                <p class="flex justify-between">
                                                    <span class="underline ml-1 font-semibold cursor-pointer"
                                                        (click)="updateQuantityQuickLinks('thirdQuantity')">x2</span>
                                                </p>
                                                <mat-form-field class="w-full">
                                                    <input matInput type="number" (mousewheel)="$event.preventDefault()"
                                                        [formControlName]="'thirdQuantity'"><small
                                                        class="text-secondary font-semibold"> 3
                                                    </small>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-lg-2 col-4">
                                                <p class="flex justify-between">
                                                    <span class="underline ml-1 font-semibold cursor-pointer"
                                                        (click)="updateQuantityQuickLinks('fourthQuantity')">x2</span>
                                                </p>
                                                <mat-form-field class="w-full">
                                                    <input matInput type="number" (mousewheel)="$event.preventDefault()"
                                                        [formControlName]="'fourthQuantity'"><small
                                                        class="text-secondary font-semibold"> 4
                                                    </small>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-lg-2 col-4">
                                                <p class="flex justify-between">
                                                    <span class="underline ml-1 font-semibold cursor-pointer"
                                                        (click)="updateQuantityQuickLinks('fifthQuantity')">x2</span>
                                                </p>
                                                <mat-form-field class="w-full">
                                                    <input matInput type="number" (mousewheel)="$event.preventDefault()"
                                                        [formControlName]="'fifthQuantity'"><small
                                                        class="text-secondary font-semibold"> 5
                                                    </small>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-lg-2 col-4">
                                                <p class="flex justify-between">
                                                    <span class="underline ml-1 font-semibold cursor-pointer"
                                                        (click)="updateQuantityQuickLinks('sixthQuantity')">x2</span>
                                                </p>
                                                <mat-form-field class="w-full">
                                                    <input matInput type="number" (mousewheel)="$event.preventDefault()"
                                                        [formControlName]="'sixthQuantity'"><small
                                                        class="text-secondary font-semibold"> 6
                                                    </small>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-12 mt-2">
                                                <mat-divider></mat-divider>
                                            </div>
                                            <div class="col-12 mt-5 flex justify-between">
                                                <b>Standard Cost</b>
                                                <p>
                                                    <span class="underline font-semibold cursor-pointer mr-2"
                                                        (click)="clearFields()">Clear</span>

                                                    <span class="underline font-semibold cursor-pointer"
                                                        (click)="setDropdownValue('C')">C</span>
                                                    |
                                                    <span class="underline font-semibold cursor-pointer"
                                                        (click)="setDropdownValue('A')">A</span>
                                                </p>
                                            </div>
                                            <div class="col-lg-2 col-4">
                                                <mat-form-field class="w-full">
                                                    <input matInput type="number" (mousewheel)="$event.preventDefault()"
                                                        [formControlName]="'standardCostOne'"><small
                                                        class="text-secondary font-semibold"> 1
                                                    </small>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-lg-2 col-4">
                                                <mat-form-field class="w-full">
                                                    <input matInput type="number" (mousewheel)="$event.preventDefault()"
                                                        [formControlName]="'standardCostTwo'"><small
                                                        class="text-secondary font-semibold"> 2
                                                    </small>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-lg-2 col-4">
                                                <mat-form-field class="w-full">
                                                    <input matInput type="number" (mousewheel)="$event.preventDefault()"
                                                        [formControlName]="'standardCostThree'"><small
                                                        class="text-secondary font-semibold"> 3
                                                    </small>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-lg-2 col-4">
                                                <mat-form-field class="w-full">
                                                    <input matInput type="number" (mousewheel)="$event.preventDefault()"
                                                        [formControlName]="'standardCostFour'"><small
                                                        class="text-secondary font-semibold"> 4
                                                    </small>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-lg-2 col-4">
                                                <mat-form-field class="w-full">
                                                    <input matInput type="number" (mousewheel)="$event.preventDefault()"
                                                        [formControlName]="'standardCostFive'"><small
                                                        class="text-secondary font-semibold"> 5
                                                    </small>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-lg-2 col-4">
                                                <mat-form-field class="w-full">
                                                    <input matInput type="number" (mousewheel)="$event.preventDefault()"
                                                        [formControlName]="'standardCostSix'"><small
                                                        class="text-secondary font-semibold"> 6
                                                    </small>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-lg-2 col-4">
                                                <mat-form-field class="w-full">
                                                    <mat-select name="order" [formControlName]="'standardCostDropOne'"
                                                        (selectionChange)="updateCost($event, 'standardCostOne')">
                                                        <mat-option *ngFor="let option of distributionCodes"
                                                            [value]="option">
                                                            {{option.distrDiscountCode}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-lg-2 col-4">
                                                <mat-form-field class="w-full">
                                                    <mat-select name="order" [formControlName]="'standardCostDropTwo'"
                                                        (selectionChange)="updateCost($event, 'standardCostTwo')">
                                                        <mat-option *ngFor="let option of distributionCodes"
                                                            [value]="option">
                                                            {{option.distrDiscountCode}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-lg-2 col-4">
                                                <mat-form-field class="w-full">
                                                    <mat-select name="order" [formControlName]="'standardCostDropThree'"
                                                        (selectionChange)="updateCost($event, 'standardCostThree')">
                                                        <mat-option *ngFor="let option of distributionCodes"
                                                            [value]="option">
                                                            {{option.distrDiscountCode}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-lg-2 col-4">
                                                <mat-form-field class="w-full">
                                                    <mat-select name="order" [formControlName]="'standardCostDropFour'"
                                                        (selectionChange)="updateCost($event, 'standardCostFour')">
                                                        <mat-option *ngFor="let option of distributionCodes"
                                                            [value]="option">
                                                            {{option.distrDiscountCode}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-lg-2 col-4">
                                                <mat-form-field class="w-full">
                                                    <mat-select name="order" [formControlName]="'standardCostDropFive'"
                                                        (selectionChange)="updateCost($event, 'standardCostFive')">
                                                        <mat-option *ngFor="let option of distributionCodes"
                                                            [value]="option">
                                                            {{option.distrDiscountCode}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-lg-2 col-4">
                                                <mat-form-field class="w-full">
                                                    <mat-select name="order" [formControlName]="'standardCostDropSix'"
                                                        (selectionChange)="updateCost($event, 'standardCostSix')">
                                                        <mat-option *ngFor="let option of distributionCodes"
                                                            [value]="option">
                                                            {{option.distrDiscountCode}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-12 mt-2">
                                                <mat-divider></mat-divider>
                                            </div>

                                            <div class="col-12 mt-4">
                                                <mat-form-field class="w-full">
                                                    <mat-label>MSRP</mat-label>
                                                    <input matInput type="text"
                                                        oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1');"
                                                        [formControlName]="'msrp'">
                                                </mat-form-field>
                                            </div>
                                            <div class="col-12">
                                                <mat-form-field class="w-full">
                                                    <mat-label>Internal Comments</mat-label>
                                                    <input matInput [formControlName]="'internalComments'">
                                                </mat-form-field>
                                            </div>
                                        </div>
                                    </form>
                                    <div class="row my-1 px-3">
                                        <div class="col-12 flex justify-between">
                                            <p class="font-semibold">Red Price Comment</p>
                                            <p class="text-secondary cursor-pointer underline">
                                                <span *ngIf="isCustomRedPrice" (click)="changeIsCustom()">
                                                    Default Options
                                                </span>
                                                <span *ngIf="!isCustomRedPrice" (click)="changeIsCustom()">
                                                    Custom Red price
                                                </span>
                                            </p>
                                        </div>
                                        <div class="col-12" *ngIf="!isCustomRedPrice">
                                            <ng-multiselect-dropdown [placeholder]="'Select Red Price Comment'"
                                                [settings]="redPriceDropdownSettings" [data]="redPriceList"
                                                [(ngModel)]="selectedRedPriceItems"
                                                (onSelect)="onRedPriceItemSelect($event)">
                                            </ng-multiselect-dropdown>
                                        </div>
                                        <div class="col-12" *ngIf="isCustomRedPrice">
                                            <mat-form-field class="w-full">
                                                <input matInput [(ngModel)]="redPriceCommentText">
                                            </mat-form-field>
                                        </div>
                                    </div>
                                    <div class="row my-1 px-3">
                                        <div class="col-12 mt-3">
                                            <p class="font-semibold">Co-op Program</p>
                                        </div>
                                        <div class="col-12 mt-2">
                                            <ng-multiselect-dropdown [placeholder]="'Co-op Program'"
                                                [settings]="coOpProgramSettings" [data]="coops"
                                                [(ngModel)]="selectedCoOpProgram"
                                                (onSelect)="onCoOpProgramSelect($event)">
                                            </ng-multiselect-dropdown>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-7 col-12"></div>
                                <div class="col-lg-2 col-12">
                                    <button class="w-full" (click)="goBack(stepper)" mat-stroked-button>
                                        Back
                                    </button>
                                </div>
                                <div class="col-lg-3 col-12">
                                    <button class="w-full" (click)="addNetCost()" mat-stroked-button
                                        [disabled]="updateProductCostLoader">
                                        <mat-progress-spinner *ngIf="updateProductCostLoader" [diameter]="24"
                                            [mode]="'indeterminate'">
                                        </mat-progress-spinner>
                                        <span *ngIf="!updateProductCostLoader">Save & Continue</span>
                                    </button>
                                </div>
                            </div>
                        </mat-step>

                        <mat-step [stepControl]="licensingTermForm" label="Licensing Term" [editable]="true">
                            <div class="row">
                                <div class="col-lg-10 col-12"></div>
                                <div class="col-lg-2 col-12">
                                    <button class="w-full" (click)="skipStep(stepper)" mat-stroked-button>
                                        Skip
                                    </button>
                                </div>
                            </div>
                            <app-licensing-terms [myStepper]="myStepper" [selectedProduct]="productId">
                            </app-licensing-terms>


                            <!-- <ngx-skeleton-loader count="8" appearance="line" animation="pulse"
                                *ngIf="licensingTermLoader">
                            </ngx-skeleton-loader>
                            <div class="row" *ngIf="!licensingTermLoader">
                                <div class="col-lg-7 col-12">
                                    <div class="text-2xl font-bold p-6 sm:p-8 lg:p-6 w-full">
                                        Licensing Terms
                                    </div>
                                </div>
                                <div class="col-lg-5 col-12">
                                    <mat-form-field class="fuse-mat-dense fuse-mat-no-subscript w-full mt-3">
                                        <mat-icon matPrefix [svgIcon]="'heroicons_outline:search'"></mat-icon>
                                        <input class="h-6" matInput (input)="searchLicensingTerm($event)"
                                            [autocomplete]="'off'" [placeholder]="'Search Licensing Term...'">
                                    </mat-form-field>
                                </div>
                                <div class="p-6 w-full">
                                    <mat-accordion multi>
                                        <div class="row" *ngIf="licensingTerms.length > 0">
                                            <div class="col-lg-6 col-12" *ngFor="let license of licensingTerms">
                                                <mat-expansion-panel class="my-2"
                                                    [expanded]="license.pk_licensingTermID === selectedExpansionLicensingTerm ? true : false"
                                                    (opened)="expansionOpened(license)">
                                                    <mat-expansion-panel-header>
                                                        <mat-panel-title>
                                                            {{license.term}}
                                                        </mat-panel-title>
                                                    </mat-expansion-panel-header>
                                                    <ng-container *ngTemplateOutlet="myCard"></ng-container>
                                                </mat-expansion-panel>
                                            </div>
                                        </div>
                                        <div class="row" *ngIf="licensingTerms.length == 0">
                                            <div class="col-12 cursor-pointer hover:text-gray-800"
                                                (click)="getLicenceTerms()">
                                                Click here to fetch licensing terms
                                            </div>
                                        </div>
                                    </mat-accordion>
                                </div>
                            </div>
                            <div class="row" *ngIf="!licensingTermLoader">
                                <div class="col-lg-7 col-12"></div>
                                <div class="col-lg-2 col-12">
                                    <button class="w-full" (click)="goBack(stepper)" mat-stroked-button>
                                        Back
                                    </button>
                                </div>
                                <div class="col-lg-3 col-12">
                                    <button class="w-full" (click)="addLicencingTerm()" mat-stroked-button
                                        [disabled]="updateProductLicensingLoader">
                                        <mat-progress-spinner *ngIf="updateProductLicensingLoader" [diameter]="24"
                                            [mode]="'indeterminate'">
                                        </mat-progress-spinner>
                                        <span *ngIf="!updateProductLicensingLoader">Save & Continue</span>
                                    </button>
                                </div>
                            </div> -->
                        </mat-step>

                        <mat-step [stepControl]="featureForm" label="Features" [editable]="true">
                            <form [formGroup]="featureForm">
                                <div class="row">
                                    <div class="col-lg-10 col-12"></div>
                                    <div class="col-lg-2 col-12">
                                        <button class="w-full" (click)="skipStep(stepper)" mat-stroked-button>
                                            Skip
                                        </button>
                                    </div>
                                </div>
                                <div formArrayName="items"
                                    *ngFor="let item of featureForm.get('items').controls; let i = index; let first = first;">
                                    <div class="row mt-1" [formGroupName]="i">
                                        <div class="col-lg-3 col-12">
                                            <mat-form-field class="w-full">
                                                <mat-label>
                                                    <button
                                                        [matTooltip]="'This determines the order in which features will be displayed'">
                                                        <i class="fa fa-info-circle"></i>
                                                    </button>
                                                    <span class="ml-1">Order</span>
                                                </mat-label>
                                                <input matInput type="number" (mousewheel)="$event.preventDefault()"
                                                    [formControlName]="'order'" placeholder="New Feature">
                                            </mat-form-field>
                                        </div>
                                        <div class="col-lg-9 col-12">
                                            <mat-form-field class="w-full">
                                                <mat-label>
                                                    Feature
                                                </mat-label>
                                                <input matInput [formControlName]="'feature'">
                                                <mat-error>This field is required</mat-error>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-12">
                                            <span class="cursor-pointer text-secondary text-sm"
                                                (click)="removeFeature(i)">
                                                Delete
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </form>
                            <div class="row my-2">
                                <div class="col-12 text-right">
                                    <p class="cursor-pointer font-semibold" (click)="addItem()">
                                        <span>Add Feature</span>
                                    </p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-7 col-12"></div>
                                <div class="col-lg-2 col-12">
                                    <button class="w-full" (click)="goBack(stepper)" mat-stroked-button>
                                        Back
                                    </button>
                                </div>
                                <div class="col-lg-3 col-12">
                                    <button class="w-full" (click)="addProductFeatures()" mat-stroked-button
                                        [disabled]="updateProductFeatureLoader">
                                        <mat-progress-spinner *ngIf="updateProductFeatureLoader" [diameter]="24"
                                            [mode]="'indeterminate'">
                                        </mat-progress-spinner>
                                        <span *ngIf="!updateProductFeatureLoader">Save & Continue</span>
                                    </button>
                                </div>
                            </div>
                        </mat-step>
                        <!-- Colors -->
                        <mat-step [stepControl]="colorsForm" label="Colors" [editable]="true">
                            <div class="row">
                                <div class="col-12">
                                    <ng-template matStepLabel (click)="stepperSelectionCheck()">Color</ng-template>
                                </div>
                                <div class="col-lg-10 col-12"></div>
                                <div class="col-lg-2 col-12">
                                    <button class="w-full" (click)="skipStep(stepper)" mat-stroked-button>
                                        Skip
                                    </button>
                                </div>
                                <div class="col-12">
                                    <div class="text-2xl font-bold">
                                        Add Color
                                    </div>
                                </div>
                                <div class="col-12">
                                    <form [formGroup]="colorsForm">
                                        <div class="row">
                                            <div class="col-9 flex justify-between">
                                                <p></p>
                                                <p class="text-secondary cursor-pointer underline">
                                                    <span *ngIf="!isDefaultColor" (click)="changeDefaultColor()">
                                                        Default Colors
                                                    </span>
                                                    <span *ngIf="isDefaultColor" (click)="changeDefaultColor()">
                                                        Custom Colors
                                                    </span>
                                                </p>
                                            </div>
                                            <div class="col-9" *ngIf="!isDefaultColor">
                                                <mat-form-field class="example-chip-list w-full" appearance="fill">
                                                    <mat-label>
                                                        <span class="ml-1">Custom Color (Comma-separated)</span>
                                                    </mat-label>
                                                    <mat-chip-list class="pt-1" #colorchiplist>
                                                        <mat-chip [removable]="true" [selectable]="true"
                                                            *ngFor="let color of customColorsList"
                                                            (removed)="removeCustomColor(color)">
                                                            {{color.colorName}}
                                                            <mat-icon class="icon-size-5" matChipRemove
                                                                [svgIcon]="'heroicons_solid:minus-circle'"></mat-icon>
                                                        </mat-chip>
                                                        <input [matChipInputFor]="colorchiplist" placeholder="New Color"
                                                            [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                                                            [matChipInputAddOnBlur]="addOnBlur"
                                                            (matChipInputTokenEnd)="addCustomColors($event)">
                                                    </mat-chip-list>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-9" *ngIf="isDefaultColor">
                                                <mat-form-field class="w-full">
                                                    <mat-label>
                                                        <span class="ml-1">Color</span>
                                                    </mat-label>
                                                    <input type="text" placeholder="Select Color" matInput
                                                        [formControl]="colorName" [matAutocomplete]="auto">
                                                    <mat-hint class="mb-1"><span
                                                            *ngFor="let item of selectedColorsList; let i=index">{{item.colorName}}<span
                                                                *ngIf="i < selectedColorsList.length-1">, </span></span>
                                                    </mat-hint>
                                                    <mat-autocomplete #auto="matAutocomplete">
                                                        <mat-option *ngIf="isColorLoading" class="is-loading">Loading...
                                                        </mat-option>
                                                        <ng-container *ngIf="!isColorLoading">
                                                            <mat-option *ngFor="let result of results"
                                                                (click)="colorSelected(result)"
                                                                [value]="result.colorName">
                                                                ({{result.pk_colorID}}) - {{ result.colorName }}
                                                            </mat-option>
                                                        </ng-container>
                                                    </mat-autocomplete>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-3">
                                                <mat-form-field class="w-full">
                                                    <mat-label>Color Palette: {{colorValue}}</mat-label>
                                                    <mat-icon (click)="clickButton()"
                                                        svgIcon="heroicons_outline:color-swatch"></mat-icon>
                                                    <input class="p-0" matInput #colorpicker type="color"
                                                        value="{{colorValue}}" (change)="changeColor($event)"
                                                        placeholder="Color">
                                                </mat-form-field>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-12 my-3 text-center"
                                    *ngIf="selectedColorsListArray.length == 0 && customColorsList.length == 0">
                                    <b>No Color Selected</b>
                                </div>
                                <div class="col-12 mt-3"
                                    *ngIf="selectedColorsListArray.length > 0 || customColorsList.length > 0">
                                    <div class="row mb-2 border-b">
                                        <div class="col-6 font-bold">Color Name</div>
                                        <div class="col-2 font-bold">Run</div>
                                        <div class="col-2 font-bold">Hex</div>
                                        <div class="col-2 font-bold">Action</div>
                                    </div>
                                    <!-- Default -->
                                    <div class="row border-b p-2"
                                        *ngFor="let item of selectedColorsListArray;let i = index">
                                        <div class="col-6">{{item.colorId +'-'+ item.colorName}}</div>
                                        <div class="col-2">
                                            <mat-form-field class="w-full">
                                                <input matInput [(ngModel)]="item.run" type="number"
                                                    (mousewheel)="$event.preventDefault()" value="0.00"
                                                    placeholder="Run">
                                            </mat-form-field>
                                        </div>
                                        <div class="col-2">
                                            <mat-form-field class="w-full">
                                                <!-- <span matTextPrefix>#&nbsp;</span> -->
                                                <input matInput [(ngModel)]="item.hex" placeholder="Hex">
                                                <mat-icon class="icon-size-5 text-secondary ml-2"
                                                    style="cursor: pointer;" (click)="copyColorToHex(i,'default')"
                                                    [matTooltip]="'Copy hex from color palette'"
                                                    svgIcon="mat_outline:content_copy">
                                                </mat-icon>
                                                <mat-error>This field is required</mat-error>
                                            </mat-form-field>
                                        </div>
                                        <!-- <div class="col-3 text-center" *ngIf="item.image">
                                            <div ng-repeat="file in imagefinaldata" class="img_wrp">
                                                <img style="width: 20%;"
                                                    src="{{'data:image/jpg;base64,' + item.image}}" />
                                                <mat-icon (click)="removeColorImage(i,'default')"
                                                    class="close cursor-pointer">
                                                    close</mat-icon>
                                            </div> -->
                                        <!-- <mat-icon (click)="removeColorImage(i)" class="cursor-pointer">
                                                close</mat-icon>
                                            <img style="width: 20%;" src="{{'data:image/jpg;base64,' + item.image}}"> -->
                                        <!-- </div> -->
                                        <!-- <div class="col-3" *ngIf="!item.image">
                                            <input [(ngModel)]="colorTempImage" type="file" accept=".jpg" id="image"
                                                (change)="uploadImage($event, i,'default')" />
                                        </div>-->
                                        <div class="col-2">
                                            <mat-icon (click)="removeColorFromArrayList(i)" class="cursor-pointer">
                                                delete</mat-icon>
                                        </div>
                                    </div>
                                    <!-- Custom -->
                                    <div class="row border-b p-2" *ngFor="let item of customColorsList;let i = index">
                                        <div class="col-6">
                                            <mat-form-field class="w-full">
                                                <input matInput [(ngModel)]="item.colorName" type="text"
                                                    placeholder="Color Name">
                                            </mat-form-field>
                                        </div>
                                        <div class="col-2">
                                            <mat-form-field class="w-full">
                                                <input matInput [(ngModel)]="item.run" type="number"
                                                    (mousewheel)="$event.preventDefault()" value="0.00"
                                                    placeholder="Run">
                                            </mat-form-field>
                                        </div>
                                        <div class="col-2">
                                            <mat-form-field class="w-full">
                                                <!-- <span matTextPrefix>#&nbsp;</span> -->
                                                <input maxlength="7" matInput [(ngModel)]="item.hex" placeholder="Hex">
                                                <mat-icon class="icon-size-5 text-secondary ml-2"
                                                    style="cursor: pointer;" (click)="copyColorToHex(i,'custom')"
                                                    [matTooltip]="'Copy hex from color palette'"
                                                    svgIcon="mat_outline:content_copy">
                                                </mat-icon>
                                                <mat-error>This field is required</mat-error>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-2">
                                            <mat-icon (click)="removeCustomColor(item)" class="cursor-pointer">
                                                delete</mat-icon>
                                        </div>
                                    </div>
                                </div>
                                <!-- Combo Tool -->
                                <div class="col-12 my-2">
                                    <fuse-card class="rounded-2xl shadow bg-card flex flex-col lg:flex-row w-full">
                                        <div class="p-6 sm:p-8 lg:p-10 w-full">
                                            <div class="text-2xl font-bold">
                                                Combo tool
                                            </div>

                                            <div class="row mt-6">
                                                <div class="col-12">
                                                    <fuse-alert [appearance]="'soft'" [type]="'success'"
                                                        [showIcon]="false">
                                                        The combo tool allows you to define two separate lists of color
                                                        attributes. The system
                                                        will then automatically combine them. For example, if you have a
                                                        pen that has two color
                                                        attributes: body and trim, you can specify the body colors in
                                                        the first list, and the
                                                        trim colors in the second list and they will be combined. Make
                                                        sure to separate all
                                                        colors with commas.
                                                        <br>
                                                        The final list will show up in the new color field above.
                                                    </fuse-alert>
                                                    <div class="mt-2">
                                                        <mat-form-field class="w-full">
                                                            <mat-label>List 1</mat-label>
                                                            <input matInput [(ngModel)]="ngComboList1">
                                                        </mat-form-field>
                                                        <mat-form-field class="w-full">
                                                            <mat-label>List 2</mat-label>
                                                            <input matInput [(ngModel)]="ngComboList2">
                                                        </mat-form-field>
                                                        <button mat-stroked-button class="min-w-40"
                                                            (click)="comboToolGenrator()">
                                                            <span>Run combo tool</span>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </fuse-card>
                                </div>
                            </div>
                            <div class="row my-2">
                                <div class="col-lg-7 col-12"></div>
                                <div class="col-lg-2 col-12">
                                    <button class="w-full" (click)="goBack(stepper)" mat-stroked-button>
                                        Back
                                    </button>
                                </div>
                                <div class="col-lg-3 col-12">
                                    <button class="w-full" (click)="addProductColor()" mat-stroked-button
                                        [disabled]="updateProductColorLoader">
                                        <mat-progress-spinner *ngIf="updateProductColorLoader" [diameter]="24"
                                            [mode]="'indeterminate'">
                                        </mat-progress-spinner>
                                        <span *ngIf="!updateProductColorLoader">Save & Continue</span>
                                    </button>
                                </div>
                            </div>
                        </mat-step>

                        <!-- Imprint step -->
                        <mat-step [stepControl]="imprintForm" label="Imprint" [editable]="true">
                            <mat-tab-group [animationDuration]="'0'">
                                <mat-tab label="Imprints">
                                    <ng-template matTabContent>
                                        <div class="text-right">
                                            <button class="min-w-40" (click)="skipStep(stepper)" mat-stroked-button>
                                                Skip
                                            </button>
                                        </div>
                                        <mat-tab-group>
                                            <mat-tab label="Add New">
                                                <div class="row">
                                                    <div class="col-12 my-1">
                                                        <div class="text-2xl font-bold">
                                                            Add Imprint
                                                        </div>
                                                    </div>
                                                    <div class="col-12">
                                                        <div class="row">
                                                            <!-- Imprint Method -->
                                                            <div class="col-12">
                                                                <b>
                                                                    <button
                                                                        [matTooltip]="'To add a new method, select (NEW METHOD) in the menu and then enter the name in the box to the right'">
                                                                        <i class="fa fa-info-circle"></i>
                                                                    </button>
                                                                    Imprint Method
                                                                    <!-- <span *ngIf="!addImprintMethods.length"
                                                                        class="text-sm text-secondary font-semibold ml-2"> (Fetching Methods...) </span> -->
                                                                </b>
                                                            </div>
                                                            <div class="col-lg-6 col-12">
                                                                <mat-form-field class="w-full">
                                                                    <input matInput placeholder="Imprint Method"
                                                                        [matAutocomplete]="auto2"
                                                                        [formControl]="methodSearchControl">
                                                                    <mat-hint
                                                                        *ngIf="selectedMethod">{{selectedMethod.methodName}}
                                                                        ({{selectedMethod.pk_methodID}})</mat-hint>
                                                                    <mat-autocomplete class="w-full"
                                                                        #auto2="matAutocomplete"
                                                                        (optionSelected)="methodSelected($event.option.value)">
                                                                        <mat-option *ngIf="isMethodLoading"
                                                                            class="is-loading">Loading...</mat-option>
                                                                        <ng-container *ngIf="!isMethodLoading">
                                                                            <mat-option
                                                                                *ngFor="let method of addImprintMethods"
                                                                                [value]="method">
                                                                                <small>{{method.methodName}}
                                                                                    ({{method.pk_methodID}})</small>
                                                                            </mat-option>
                                                                        </ng-container>
                                                                    </mat-autocomplete>
                                                                </mat-form-field>
                                                            </div>
                                                            <div class="col-lg-6 col-12">
                                                                <mat-form-field appearance="fill" class="w-full">
                                                                    <input matInput placeholder="New Method Name"
                                                                        [disabled]="selectedMethod?.pk_methodID != null"
                                                                        [(ngModel)]="method_name">
                                                                </mat-form-field>
                                                            </div>

                                                            <!-- Location -->
                                                            <div class="col-12">
                                                                <b>
                                                                    <button
                                                                        [matTooltip]="'To add a new location, select (NEW LOCATION) in the menu and then enter the name in the box to the right'">
                                                                        <i class="fa fa-info-circle"></i>
                                                                    </button>
                                                                    Location
                                                                    <!-- <span *ngIf="!addImprintLocations.length"
                                                                        class="text-sm text-secondary font-semibold ml-2"> (Fetching Locations...) </span> -->
                                                                </b>
                                                            </div>
                                                            <div class="col-lg-6 col-12">
                                                                <mat-form-field class="w-full">
                                                                    <input matInput placeholder="Imprint Location"
                                                                        [matAutocomplete]="auto1"
                                                                        [formControl]="locationSearchControl">
                                                                    <mat-hint
                                                                        *ngIf="selectedLocation">{{selectedLocation.locationName}}
                                                                        ({{selectedLocation.pk_locationID}})</mat-hint>
                                                                    <mat-autocomplete class="w-full"
                                                                        #auto1="matAutocomplete"
                                                                        (optionSelected)="locationSelected($event.option.value)">
                                                                        <mat-option *ngIf="isLoadings"
                                                                            class="is-loading">Loading...</mat-option>
                                                                        <ng-container *ngIf="!isLoadings">
                                                                            <mat-option
                                                                                *ngFor="let location of addImprintLocations"
                                                                                [value]="location">
                                                                                <small>{{location.locationName}}
                                                                                    ({{location.pk_locationID}})</small>
                                                                            </mat-option>
                                                                        </ng-container>
                                                                    </mat-autocomplete>
                                                                </mat-form-field>
                                                            </div>
                                                            <div class="col-lg-6 col-12">
                                                                <mat-form-field appearance="fill" class="w-full">
                                                                    <input matInput
                                                                        [disabled]="selectedLocation?.pk_locationID != null"
                                                                        placeholder="New Location Name"
                                                                        [(ngModel)]="location_name">
                                                                </mat-form-field>
                                                            </div>

                                                            <!-- Imprint Area -->
                                                            <div class="col-12">
                                                                <b>Imprint Area (max)</b>
                                                            </div>
                                                            <div class="col-12">
                                                                <mat-form-field appearance="fill" class="w-full">
                                                                    <input matInput [(ngModel)]="areaValue">
                                                                </mat-form-field>
                                                            </div>

                                                            <!-- Details -->
                                                            <div class="col-12">
                                                                <b>How are the charges applied?</b>
                                                            </div>
                                                            <div class="col-12">
                                                                <mat-radio-group
                                                                    aria-labelledby="example-radio-group-label"
                                                                    class="example-radio-group"
                                                                    [(ngModel)]="favoriteSeason">
                                                                    <mat-radio-button class="example-radio-button"
                                                                        *ngFor="let season of seasons" [value]="season"
                                                                        (change)="changeProcessMode($event)">
                                                                        {{season}}
                                                                    </mat-radio-button>
                                                                </mat-radio-group>
                                                            </div>

                                                            <div class="col-12">
                                                                <!-- Quantity restrictions -->

                                                                <div class="row"
                                                                    *ngIf="favoriteSeason === 'Per color (i.e. silk screening, pad printing, etc.)'">
                                                                    <div class="col-12">
                                                                        <button
                                                                            [matTooltip]="'Set all quantities to1 if no restrictions. Use quantity=1 instead of product minimum quantity'">
                                                                            <i class="fa fa-info-circle"></i>
                                                                        </button>
                                                                        <b class="pl-1">Quantity restrictions for
                                                                            multiple
                                                                            colors</b>
                                                                    </div>
                                                                </div>

                                                                <div class="row"
                                                                    *ngIf="favoriteSeason === 'Per color (i.e. silk screening, pad printing, etc.)'">
                                                                    <div class="col-lg-3 col-12">
                                                                        <b class="text-secondary"># of Colors</b>
                                                                    </div>
                                                                    <div class="col-9"></div>

                                                                    <form [formGroup]="values">
                                                                        <div class="row">
                                                                            <div class="col-3">
                                                                                <p class="font-semibold"
                                                                                    style="line-height: 3.5;">Min
                                                                                    Product Qty</p>
                                                                            </div>
                                                                            <div class="col-2">
                                                                                <mat-form-field appearance="fill"
                                                                                    class="w-full">
                                                                                    <mat-label>Two</mat-label>
                                                                                    <input matInput type="number"
                                                                                        (mousewheel)="$event.preventDefault()"
                                                                                        min="1" value="1"
                                                                                        [formControlName]="'twoColorQ'">
                                                                                </mat-form-field>
                                                                            </div>
                                                                            <div class="col-2">
                                                                                <mat-form-field appearance="fill"
                                                                                    class="w-full">
                                                                                    <mat-label>Three</mat-label>
                                                                                    <input matInput type="number"
                                                                                        (mousewheel)="$event.preventDefault()"
                                                                                        min="1" value="1"
                                                                                        [formControlName]="'threeColorQ'">
                                                                                </mat-form-field>
                                                                            </div>
                                                                            <div class="col-2">
                                                                                <mat-form-field appearance="fill"
                                                                                    class="w-full">
                                                                                    <mat-label>Four</mat-label>
                                                                                    <input matInput type="number"
                                                                                        (mousewheel)="$event.preventDefault()"
                                                                                        min="1" value="1"
                                                                                        [formControlName]="'fourColorQ'">
                                                                                </mat-form-field>
                                                                            </div>
                                                                            <div class="col-2">
                                                                                <mat-form-field appearance="fill"
                                                                                    class="w-full">
                                                                                    <mat-label>Five</mat-label>
                                                                                    <input matInput type="number"
                                                                                        (mousewheel)="$event.preventDefault()"
                                                                                        min="1" value="1"
                                                                                        [formControlName]="'fiveColorQ'">
                                                                                </mat-form-field>
                                                                            </div>
                                                                        </div>
                                                                    </form>
                                                                </div>

                                                                <!-- Digitizer -->
                                                                <div class="row"
                                                                    *ngIf="favoriteSeason === 'Per Stitch (embroidering)'">
                                                                    <div class="col-12">
                                                                        <b>Digitizer</b>
                                                                    </div>
                                                                </div>
                                                                <div class="row"
                                                                    *ngIf="favoriteSeason === 'Per Stitch (embroidering)'">
                                                                    <div class="col-12">
                                                                        <mat-form-field class="w-full"
                                                                            appearance="fill">
                                                                            <mat-select [(ngModel)]="selectedDigitizer"
                                                                                name="food"
                                                                                [disabled]="addImprintDigitizers.length ? false : true">
                                                                                <mat-option
                                                                                    *ngFor="let digitzier of addImprintDigitizers"
                                                                                    [value]="digitzier">
                                                                                    {{digitzier.companyName}}
                                                                                </mat-option>
                                                                            </mat-select>
                                                                        </mat-form-field>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-12 mt-2">
                                                                <b>Does the user need to specify imprint colors?</b>
                                                            </div>
                                                            <div class="col-12">
                                                                <mat-radio-group
                                                                    aria-labelledby="example-radio-group-label"
                                                                    class="example-radio-group"
                                                                    [(ngModel)]="defaultImprintColorSpecification">
                                                                    <mat-radio-button class="example-radio-button"
                                                                        *ngFor="let imprintOption of specifyImrpintArray"
                                                                        [value]="imprintOption">
                                                                        {{imprintOption}}
                                                                    </mat-radio-button>
                                                                </mat-radio-group>
                                                            </div>
                                                            <div class="col-12 my-2"
                                                                *ngIf="defaultImprintColorSpecification === 'Yes'">
                                                                <mat-form-field class="w-full">
                                                                    <mat-label>Max Colors</mat-label>
                                                                    <mat-select [(ngModel)]="maxColorSelected"
                                                                        name="maxColor">
                                                                        <mat-option *ngFor="let maxColor of maxColors"
                                                                            [value]="maxColor">
                                                                            {{maxColor}}
                                                                        </mat-option>
                                                                    </mat-select>
                                                                </mat-form-field>
                                                            </div>

                                                            <div class="col-12 mt-2"
                                                                *ngIf="defaultImprintColorSpecification === 'Yes'">
                                                                <p class="font-semibold my-1">
                                                                    Imprint Color Collection
                                                                </p>
                                                                <div>
                                                                    <button class="min-w-40" mat-flat-button
                                                                        [color]="'primary'"
                                                                        [matTooltip]="'Get Imprint Color Collection Ids'"
                                                                        (click)="generateCollectionId()"
                                                                        [disabled]="getImprintColorCollectionLoader">
                                                                        <mat-progress-spinner
                                                                            *ngIf="getImprintColorCollectionLoader"
                                                                            [diameter]="24" [mode]="'indeterminate'">
                                                                        </mat-progress-spinner>
                                                                        <span *ngIf="!getImprintColorCollectionLoader"
                                                                            class="ml-1 mr-1">
                                                                            Color Collection ID
                                                                        </span>
                                                                    </button>
                                                                </div>
                                                                <div *ngIf="!collectionIdsArray.length">
                                                                    <small class="font-semibold ml-3"
                                                                        *ngIf="!collectionIdsArray.length">
                                                                        * No collections available. Click on the button
                                                                        to
                                                                        generate list of
                                                                        collections
                                                                    </small>
                                                                </div>

                                                                <div class="my-2" *ngIf="collectionIdsArray.length">
                                                                    <b>Select Imprint Color</b>
                                                                    <ng-multiselect-dropdown
                                                                        [placeholder]="'Imprint Color Collections'"
                                                                        [settings]="imprintColorsDropdownSettings"
                                                                        [data]="collectionIdsArray"
                                                                        [(ngModel)]="selectedCollectionId"
                                                                        (onSelect)="onImprintColorSelect($event)">
                                                                    </ng-multiselect-dropdown>
                                                                </div>

                                                                <div class="my-1">
                                                                    <mat-form-field class="w-full">
                                                                        <input matInput
                                                                            placeholder="Enter Collection ID"
                                                                            [(ngModel)]='customColorId'>
                                                                        <!-- <mat-hint class="mb-1 ">
                                                                                    
                                                                                </mat-hint> -->
                                                                    </mat-form-field>
                                                                    <span class="text-gray-600 border-b-8 mr-1 "
                                                                        style="line-height: 3;"
                                                                        *ngFor="let item of colorsCollectionIdsArray; let i=index"
                                                                        [ngStyle]="{'border-color': '#' + item['RGB']}">{{item.imprintColorName}}<span
                                                                            *ngIf="i < colorsCollectionIdsArray.length - 1">,</span>
                                                                    </span>
                                                                </div>
                                                            </div>

                                                            <!-- Imprint order itself -->
                                                            <div class="col-12 my-2 mt-4">
                                                                <b>Can this imprint be ordered by itself?</b>
                                                            </div>
                                                            <div class="col-12">
                                                                <small
                                                                    class="leading-relaxed text-secondary font-semibold">
                                                                    *This option determines whether this imprint can be
                                                                    ordered
                                                                    by
                                                                    itself. For example, if the
                                                                    location of this imprint is "second side," this
                                                                    implies that
                                                                    there
                                                                    must be a first side, and
                                                                    so it cannot be ordered by itself.
                                                                </small>
                                                            </div>
                                                            <div class="col-12">
                                                                <mat-radio-group
                                                                    aria-labelledby="example-radio-group-label"
                                                                    class="example-radio-group"
                                                                    [(ngModel)]="imprintItselfSelected">
                                                                    <mat-radio-button class="example-radio-button"
                                                                        *ngFor="let imprintItselfVal of imprintItself"
                                                                        [value]="imprintItselfVal">
                                                                        {{imprintItselfVal.imprintItselfText}}
                                                                    </mat-radio-button>
                                                                </mat-radio-group>
                                                            </div>
                                                            <!-- Imprint order itself -->
                                                            <div class="col-12">
                                                                <b>Price Inclusion?</b>
                                                            </div>
                                                            <div class="col-12">
                                                                <mat-radio-group
                                                                    aria-labelledby="example-radio-group-label"
                                                                    class="example-radio-group"
                                                                    [(ngModel)]="priceInclusionSelected">
                                                                    <mat-radio-button class="example-radio-button"
                                                                        *ngFor="let priceInclusion of priceInclusionArray"
                                                                        [value]="priceInclusion">
                                                                        {{priceInclusion.priceInclusionText}}
                                                                    </mat-radio-button>
                                                                </mat-radio-group>
                                                            </div>

                                                            <!-- Charge Distributions -->
                                                            <div class="col-12 my-2">
                                                                <button
                                                                    [matTooltip]="'Enter an imprint charge and corresponding discount code to find existing charge
                                                                            distributions that include it. For example for a silk-screened additional color/location
                                                                            charge of $0.25(G), enter 0.25, select G and click the button.'">
                                                                    <i class="fa fa-info-circle"></i>
                                                                </button>
                                                                <b class="pl-1">Charge Distributions</b>
                                                            </div>
                                                            <div class="col-12">
                                                                <small class="text-danger font-semibold">
                                                                    * When setup/run charges are $0.00, please type code
                                                                    "17" in
                                                                    the
                                                                    respective field.
                                                                </small>
                                                            </div>

                                                            <!-- Run/Setup charges found -->
                                                            <!-- (click)="getRunSetup()" -->
                                                            <div class="col-lg-3 col-12 my-2"
                                                                *ngIf="!runSetupDistributorCodes.length">
                                                                <button class="w-full" mat-flat-button
                                                                    [color]="'primary'" [matTooltip]="'Add run/setup'"
                                                                    (click)="openModal()"
                                                                    [disabled]="runSetupLoaderFetching">
                                                                    <mat-progress-spinner *ngIf="runSetupLoaderFetching"
                                                                        [diameter]="24" [mode]="'indeterminate'">
                                                                    </mat-progress-spinner>
                                                                    <span *ngIf="!runSetupLoaderFetching"
                                                                        class="ml-1 mr-1">
                                                                        Add Run/Setup
                                                                    </span>
                                                                </button>
                                                            </div>
                                                            <div class="col-lg-9 col-12"></div>

                                                            <!-- Run/Setup charges not found -->
                                                            <div class="col-lg-4 my-2"
                                                                *ngIf="runSetupDistributorCodes.length">
                                                                <form [formGroup]="chargeDistribution">
                                                                    <mat-form-field appearance="fill" class="w-full">
                                                                        <mat-label>Charge</mat-label>
                                                                        <input matInput [formControlName]="'charge'"
                                                                            type="number"
                                                                            (mousewheel)="$event.preventDefault()"
                                                                            value="0">
                                                                    </mat-form-field>
                                                                </form>
                                                            </div>
                                                            <div class="col-lg-4 my-2"
                                                                *ngIf="runSetupDistributorCodes.length">
                                                                <mat-form-field class="w-full">
                                                                    <mat-label>Cost</mat-label>
                                                                    <mat-select [(ngModel)]="selectedDiscountCode"
                                                                        name="collection">
                                                                        <mat-option
                                                                            *ngFor="let code of runSetupDistributorCodes"
                                                                            [value]="code">
                                                                            <small>{{code.distrDiscountCode}}</small>
                                                                        </mat-option>
                                                                    </mat-select>
                                                                </mat-form-field>
                                                            </div>
                                                            <div class="col-lg-4 col-12 lg:mt-4 lg:pt-5"
                                                                *ngIf="runSetupDistributorCodes.length">
                                                                <button class="w-full" mat-flat-button
                                                                    [color]="'primary'" [matTooltip]="'Get all charges'"
                                                                    (click)="getCharges()"
                                                                    [disabled]="getChargesLoader">
                                                                    <mat-progress-spinner *ngIf="getChargesLoader"
                                                                        [diameter]="24" [mode]="'indeterminate'">
                                                                    </mat-progress-spinner>
                                                                    <span *ngIf="!getChargesLoader" class="ml-1 mr-1">
                                                                        Get Charges
                                                                    </span>
                                                                </button>
                                                            </div>

                                                            <form [formGroup]="runSetup" class="w-full">
                                                                <div class="row px-4">
                                                                    <div class="col-lg-6 col-12 my-2">
                                                                        <mat-form-field appearance="fill"
                                                                            class="w-full">
                                                                            <mat-label>Setup</mat-label>
                                                                            <input matInput [formControlName]="'setup'"
                                                                                type="number"
                                                                                (mousewheel)="$event.preventDefault()">
                                                                        </mat-form-field>
                                                                    </div>
                                                                    <div class="col-lg-6 col-12 my-2">
                                                                        <mat-form-field appearance="fill"
                                                                            class="w-full">
                                                                            <mat-label>Run</mat-label>
                                                                            <input matInput [formControlName]="'run'"
                                                                                type="number"
                                                                                (mousewheel)="$event.preventDefault()">
                                                                        </mat-form-field>
                                                                    </div>
                                                                </div>
                                                            </form>

                                                            <div class="col-12 p-5 my-5 border-2 d-flex overflow-x-auto"
                                                                style="max-height: 500px;"
                                                                *ngIf="chargesTableArray.length">
                                                                <div class="border-2 mx-5"
                                                                    *ngFor="let chargeData of chargesTableArray">
                                                                    <div class="row">
                                                                        <div class="col-12">
                                                                            <p
                                                                                class="bg-primary text-white text-center text-1xl font-semibold p-3">
                                                                                {{chargeData.chargeId}}
                                                                            </p>
                                                                        </div>
                                                                        <div class="col-12">
                                                                            <a href="" class="mx-2 text-sm"
                                                                                (click)="setRun($event,chargeData.chargeId)">
                                                                                +
                                                                                Run</a>
                                                                        </div>
                                                                        <div class="col-12">
                                                                            <a href="" class="ml-2 text-sm"
                                                                                (click)="setSetup($event,chargeData.chargeId)">
                                                                                +
                                                                                Setup</a>
                                                                        </div>
                                                                    </div>
                                                                    <table class="m-2 w-2/4">
                                                                        <col>
                                                                        <colgroup span="1"></colgroup>
                                                                        <colgroup span="1"></colgroup>
                                                                        <tr>
                                                                            <th scope="col"
                                                                                class="text-1xl font-semibold text-center bg-gray-100 p-3">
                                                                            </th>
                                                                            <th scope="col"
                                                                                class="text-1xl font-semibold text-center bg-gray-100 p-3 p-3"
                                                                                *ngFor="let productQuantity of chargeData.uniqueProductQuantities">
                                                                                {{productQuantity}}
                                                                            </th>
                                                                        </tr>
                                                                        <tr
                                                                            *ngFor="let rowFill of chargeData.rowsRendering">
                                                                            <th scope="row"
                                                                                class="text-1xl font-semibold text-center bg-gray-100 p-3 p-3">
                                                                                {{rowFill.verticalColumnName}}
                                                                            </th>
                                                                            <td class="p-3 bg-gray-50 text-center"
                                                                                *ngFor="let rowChargeValue of rowFill.renderedArray">
                                                                                {{rowChargeValue[2]}}
                                                                            </td>
                                                                        </tr>
                                                                    </table>
                                                                </div>
                                                            </div>

                                                            <!-- Minimum Product Quantity -->
                                                            <div class="col-lg-6 col-12 mt-3">
                                                                <b>
                                                                    <button
                                                                        [matTooltip]="'Other than one (1) only if this imprint requires a product qty more than the min'">
                                                                        <i class="fa fa-info-circle"></i>
                                                                    </button>
                                                                    Minimum Product Quantity
                                                                </b>
                                                                <mat-form-field appearance="fill" class="w-full">
                                                                    <input matInput value="{{minValue}}" type="number"
                                                                        (mousewheel)="$event.preventDefault()"
                                                                        (input)="addMinQuantity($event.target.value)">
                                                                </mat-form-field>
                                                            </div>

                                                            <!-- Display Order -->
                                                            <div class="col-lg-6 col-12 mt-3">
                                                                <b>Display Order</b>
                                                                <mat-form-field appearance="fill" class="w-full">
                                                                    <input matInput
                                                                        [(ngModel)]="addImprintDisplayOrderValue"
                                                                        type="number"
                                                                        (mousewheel)="$event.preventDefault()" min="1">
                                                                </mat-form-field>
                                                            </div>

                                                            <!-- Live Imprint Comments -->
                                                            <div class="col-12">
                                                                <b>
                                                                    Live Imprint Comments - 250 characters max
                                                                </b>
                                                            </div>
                                                            <div class="col-12">
                                                                <mat-form-field appearance="fill" class="w-full">
                                                                    <textarea [(ngModel)]="addImprintComment"
                                                                        maxlength="250" matInput rows="5"></textarea>
                                                                </mat-form-field>
                                                            </div>

                                                            <!-- Image -->
                                                            <div class="col-12 hidden">
                                                                <b>
                                                                    <button
                                                                        [matTooltip]="'JPG, GIF, and PNG file types only!'">
                                                                        <i class="fa fa-info-circle"></i>
                                                                    </button>
                                                                    Image (optional)
                                                                </b>
                                                            </div>
                                                            <div class="col-12 hidden">
                                                                <small
                                                                    class="leading-relaxed text-secondary font-semibold">
                                                                    Add an image that will accompany the imprint for the
                                                                    user to
                                                                    use as
                                                                    reference when choosing
                                                                    an imprint location.
                                                                </small>
                                                            </div>
                                                            <div class="col-12 my-3 hidden" style="line-height: 3.5;">
                                                                <input type="file" (change)="uploadFile($event)">
                                                            </div>
                                                            <div class="col-12 text-right">
                                                                <button [matTooltip]="'Add Imprint To List'"
                                                                    class="min-w-40" (click)="addProductLocalImprints()"
                                                                    mat-stroked-button
                                                                    [disabled]="imprintsLocalListLoader">
                                                                    <mat-progress-spinner
                                                                        *ngIf="imprintsLocalListLoader" [diameter]="24"
                                                                        [mode]="'indeterminate'">
                                                                    </mat-progress-spinner>
                                                                    <span *ngIf="!imprintsLocalListLoader">Add
                                                                        Imprint</span>
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </mat-tab>
                                            <mat-tab label="Imprint List">
                                                <div *ngIf="imprintsLocalList.length > 0;else other_content">
                                                    <table mat-table [dataSource]="imprintsLocalList"
                                                        class="w-full border-t">
                                                        <ng-container matColumnDef="location">
                                                            <th mat-header-cell *matHeaderCellDef
                                                                class="min-w-24 bg-gray-50 dark:bg-black dark:bg-opacity-5">
                                                                Location </th>
                                                            <td mat-cell *matCellDef="let element">
                                                                {{element.locationName}} </td>
                                                        </ng-container>

                                                        <ng-container matColumnDef="method">
                                                            <th mat-header-cell *matHeaderCellDef
                                                                class="min-w-30 bg-gray-50 dark:bg-black dark:bg-opacity-5">
                                                                Method </th>
                                                            <td mat-cell *matCellDef="let element">
                                                                {{element.methodName}} </td>
                                                        </ng-container>

                                                        <ng-container matColumnDef="decorator">
                                                            <th mat-header-cell *matHeaderCellDef
                                                                class="min-w-30 bg-gray-50 dark:bg-black dark:bg-opacity-5">
                                                                Decorator </th>
                                                            <td mat-cell *matCellDef="let element">
                                                                {{element.supplierName}} </td>
                                                        </ng-container>
                                                        <ng-container matColumnDef="action">
                                                            <th mat-header-cell *matHeaderCellDef
                                                                class="w-10 min-w-10 bg-gray-50 dark:bg-black dark:bg-opacity-5">
                                                                Action </th>
                                                            <td mat-cell *matCellDef="let element; let i=index">
                                                                <button class="px-3 mr-1" mat-button
                                                                    (click)="removeLocalImprints(i)">
                                                                    <mat-icon class="icon-size-2 text-gray-500"
                                                                        svgIcon="mat_outline:delete">
                                                                    </mat-icon>
                                                                </button>
                                                            </td>
                                                        </ng-container>

                                                        <tr mat-header-row *matHeaderRowDef="imprintLocalTableColumns;"
                                                            class="h-18"></tr>
                                                        <tr mat-row
                                                            *matRowDef="let row; columns: imprintLocalTableColumns;"
                                                            class="h-14 hover:bg-gray-100 dark:hover:bg-hover"
                                                            style="cursor: pointer;">
                                                        </tr>
                                                    </table>
                                                </div>

                                                <ng-template #other_content>
                                                    <div class="text-secondary text-center font-semibold p-5">
                                                        *No imprint list for this product.
                                                    </div>
                                                </ng-template>
                                            </mat-tab>
                                        </mat-tab-group>
                                        <!-- Saved Imprints -->
                                        <div class="row mb-3" *ngIf="imprintGetLoader">
                                            <div class="col-12">
                                                <ngx-skeleton-loader count="8" appearance="line" animation="pulse">
                                                </ngx-skeleton-loader>
                                            </div>
                                        </div>
                                        <div class="row mb-3" *ngIf="!imprintGetLoader">
                                            <div class="col-12">
                                                <mat-card class="w-full mb-10 p-0 h-full rounded-2xl shadow">
                                                    <div class="row">
                                                        <div class="col-12">
                                                            <div class="text-2xl font-bold p-5">
                                                                Saved Imprints
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div *ngIf="dataSource.length > 0;else other_content">
                                                        <table mat-table [dataSource]="dataSource"
                                                            class="w-full border-t">

                                                            <!-- Color Column -->
                                                            <ng-container matColumnDef="location">
                                                                <th mat-header-cell *matHeaderCellDef
                                                                    class="w-24 min-w-24 bg-gray-50 dark:bg-black dark:bg-opacity-5">
                                                                    Location </th>
                                                                <td mat-cell *matCellDef="let element">
                                                                    {{element.locationName}} </td>
                                                            </ng-container>

                                                            <!-- Run Column -->
                                                            <ng-container matColumnDef="method">
                                                                <th mat-header-cell *matHeaderCellDef
                                                                    class="w-24 min-w-24 bg-gray-50 dark:bg-black dark:bg-opacity-5">
                                                                    Method </th>
                                                                <td mat-cell *matCellDef="let element">
                                                                    {{element.methodName}} </td>
                                                            </ng-container>

                                                            <!-- Hex Column -->
                                                            <ng-container matColumnDef="decorator">
                                                                <th mat-header-cell *matHeaderCellDef
                                                                    class="w-40 min-w-40 bg-gray-50 dark:bg-black dark:bg-opacity-5">
                                                                    Decorator </th>
                                                                <td mat-cell *matCellDef="let element">
                                                                    {{element.companyName}} </td>
                                                            </ng-container>

                                                            <!-- Active -->
                                                            <ng-container matColumnDef="active">
                                                                <th mat-header-cell *matHeaderCellDef
                                                                    class="w-10 min-w-10 bg-gray-50 dark:bg-black dark:bg-opacity-5">
                                                                    Status </th>
                                                                <td mat-cell *matCellDef="let element">
                                                                    <mat-icon class="text-green-400 icon-size-5"
                                                                        *ngIf="element.blnActive"
                                                                        [svgIcon]="'heroicons_solid:check'"></mat-icon>
                                                                    <mat-icon class="text-red-400 icon-size-5"
                                                                        *ngIf="!element.blnActive"
                                                                        [svgIcon]="'heroicons_solid:x'"></mat-icon>
                                                                </td>
                                                            </ng-container>

                                                            <tr mat-header-row *matHeaderRowDef="displayedColumns;"
                                                                class="h-18"></tr>
                                                            <tr mat-row *matRowDef="let row; columns: displayedColumns;"
                                                                class="h-14 hover:bg-gray-100 dark:hover:bg-hover"
                                                                style="cursor: pointer;">
                                                            </tr>
                                                        </table>
                                                        <mat-paginator *ngIf="totalImprints > 20"
                                                            class="sm:absolute sm:inset-x-0 border-b sm:border-t sm:border-b-0 z-10 bg-gray-50 dark:bg-transparent"
                                                            [length]="totalImprints" [pageIndex]="0" [pageSize]="20"
                                                            (page)="getNextImprintsData($event)" [hidePageSize]="true">
                                                        </mat-paginator>
                                                    </div>
                                                    <ng-template #other_content>
                                                        <div class="text-secondary font-semibold p-5">
                                                            *No imprint already saved for this product.
                                                        </div>
                                                    </ng-template>
                                                </mat-card>
                                            </div>
                                        </div>

                                        <div class="row mt-10">
                                            <div class="col-lg-7 col-12"></div>
                                            <div class="col-lg-2 col-12">
                                                <button class="w-full" (click)="goBack(stepper)" mat-stroked-button>
                                                    Back
                                                </button>
                                            </div>
                                            <div class="col-lg-3 col-12">
                                                <button class="w-full" (click)="addProductImprints()" mat-stroked-button
                                                    [disabled]="updateProductImprintLoader">
                                                    <mat-progress-spinner *ngIf="updateProductImprintLoader"
                                                        [diameter]="24" [mode]="'indeterminate'">
                                                    </mat-progress-spinner>
                                                    <span *ngIf="!updateProductImprintLoader">Save & Continue</span>
                                                </button>
                                            </div>
                                        </div>
                                    </ng-template>
                                </mat-tab>
                                <mat-tab label="Standard Imprints"
                                    *ngIf="firstFormGroup.get('radio').value.name == 'Apparel Item'">
                                    <ng-template matTabContent>
                                        <div class="col-12 text-right mb-1">
                                            <button class="min-w-40" (click)="skipStep(stepper)" mat-stroked-button>
                                                Skip
                                            </button>
                                        </div>
                                        <app-product-imprints #prodStandardImprints></app-product-imprints>
                                        <div class="row">
                                            <div class="col-lg-7 col-12"></div>
                                            <div class="col-lg-2 col-12">
                                                <button class="w-full" (click)="goBack(stepper)" mat-stroked-button>
                                                    Back
                                                </button>
                                            </div>
                                            <div class="col-lg-3 col-12">
                                                <button class="w-full" (click)="saveStandardImprints()"
                                                    mat-stroked-button [disabled]="updateProductImprintLoader">
                                                    <mat-progress-spinner *ngIf="updateProductImprintLoader"
                                                        [diameter]="24" [mode]="'indeterminate'">
                                                    </mat-progress-spinner>
                                                    <span *ngIf="!updateProductImprintLoader">Save & Continue</span>
                                                </button>
                                            </div>
                                        </div>
                                    </ng-template>
                                </mat-tab>
                            </mat-tab-group>
                        </mat-step>
                        <!-- Sizes -->
                        <mat-step *ngIf="firstFormGroup.get('radio').value.name == 'Apparel Item'" label="Sizes"
                            [editable]="true">
                            <div class="row">
                                <div class="col-12">
                                    <ng-template matStepLabel>Sizes</ng-template>
                                </div>
                                <div class="col-lg-10 col-12"></div>
                                <div class="col-lg-2 col-12">
                                    <button class="w-full" (click)="goToProductDeatailsPage(stepper)"
                                        mat-stroked-button>
                                        Go To Details
                                    </button>
                                </div>
                            </div>
                            <app-product-sizes
                                *ngIf="firstFormGroup.get('radio').value.name=='Apparel Item' && getSizes"
                                [myStepper]="myStepper" [selectedProduct]="productId">
                            </app-product-sizes>
                            <div class="text-center font-bold mt-5" *ngIf="
                                firstFormGroup.get('radio').value.name !='Apparel Item'">
                                <fuse-alert [appearance]="'soft'" [name]="'alertBox4'" [type]="'info'">Please select
                                    apparel type to view the available sizes </fuse-alert>
                            </div>
                        </mat-step>
                        <!-- Product Detail -->
                        <!-- <mat-step label="Review">
                            <div class="row">
                                <div class="col-12">
                                    <div class="mt-8 text-2xl font-extrabold tracking-tight leading-tight">
                                        Product Details
                                    </div>
                                </div>
                                <div class="col-12">
                                    <form [formGroup]="reviewsecondFormGroup" class="mt-3">
                                        <div class="row">
                                            <div class="col-lg-6 col-12">
                                                <mat-form-field appearance="fill" class="w-full">
                                                    <mat-label>Product Name</mat-label>
                                                    <input matInput formControlName="productName" required>
                                                    <mat-error>Product Name is required</mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-lg-6 col-12">
                                                <mat-form-field appearance="fill" class="w-full">
                                                    <mat-label>Product Number</mat-label>
                                                    <input matInput formControlName="productNumber" required>
                                                    <mat-error>Product Number is required</mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-12" *ngIf="supplierType === 'Apparel Item'">
                                                <mat-form-field appearance="fill" class="w-full">
                                                    <mat-label>Brand Name *</mat-label>
                                                    <input matInput formControlName="brandName">
                                                    <mat-error>Brand Name is required</mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-12 pb-6 mb-6">
                                                <div>Main Description</div>
                                                <quill-editor [formControlName]="'mainDescription'"
                                                    [modules]="quillModules">
                                                </quill-editor>
                                            </div>
                                            <div class="col-12 mt-6 mt-top-30px">
                                                <mat-form-field appearance="fill" class="w-full">
                                                    <mat-label>Mini/Meta Description (1000)</mat-label>
                                                    <textarea matInput rows="3" maxlength="1000"
                                                        placeholder="Mini Description (1000)"
                                                        [formControlName]="'miniDescription'"></textarea>
                                                    <mat-error>Mini description is required</mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-12">
                                                <mat-form-field appearance="fill" class="w-full">
                                                    <mat-label>Product Dimensions</mat-label>
                                                    <input matInput type="text" formControlName="productDimensions">
                                                </mat-form-field>
                                            </div>

                                            <div class="col-lg-6 col-12" style="line-height: 2.3;"
                                                *ngIf="supplierType == 'Apparel Item'">
                                                <mat-form-field class="w-full">
                                                    <mat-label>Sex</mat-label>
                                                    <mat-select [(value)]="selectedSex" placeholder="Mode">
                                                        <mat-option [value]="1">N/A</mat-option>
                                                        <mat-option [value]="2">Men's</mat-option>
                                                        <mat-option [value]="3">Women's</mat-option>
                                                        <mat-option [value]="4">Men's/Women's</mat-option>
                                                        <mat-option [value]="5">Unisex</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-lg-6 col-12" style="line-height: 2.3;"
                                                *ngIf="supplierType != 'Apparel Item'">
                                                <p class="font-semibold">Group run</p>
                                                <mat-checkbox [formControlName]="'allowGroupRun'">Allow group run?
                                                </mat-checkbox>
                                            </div>
                                            <div class="col-12 mb-2">
                                                <p class="text-secondary font-semibold">Ships within (Number of Days)
                                                </p>
                                            </div>
                                            <div class="col-12 custom-slider mb-3">
                                                <ngx-slider [(value)]="reviewFormSliderMinValue"
                                                    [(highValue)]="reviewFormSliderMaxValue" [options]="sliderOptions">
                                                </ngx-slider>
                                            </div>
                                            <div class="col-12 mb-2" *ngIf="supplierType != 'Apparel Item'">
                                                <div class="flex items-center">
                                                    <div class="font-medium text-secondary">CASE DIMENSIONS</div>
                                                    <div class="flex-auto ml-2 border-b-2"></div>
                                                </div>
                                            </div>
                                            <div class="col-lg-4 col-12" *ngIf="supplierType != 'Apparel Item'">
                                                <mat-form-field appearance="fill" class="w-full">
                                                    <mat-label>Case Height</mat-label>
                                                    <input matInput type="number"
                                                        (mousewheel)="$event.preventDefault()"
                                                        formControlName="caseHeight">
                                                    <small class="text-secondary font-semibold"> inch </small>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-lg-4 col-12" *ngIf="supplierType != 'Apparel Item'">
                                                <mat-form-field appearance="fill" class="w-full">
                                                    <mat-label>Case Width</mat-label>
                                                    <input matInput type="number"
                                                        (mousewheel)="$event.preventDefault()"
                                                        formControlName="caseWidth">
                                                    <small class="text-secondary font-semibold"> inch </small>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-lg-4 col-12" *ngIf="supplierType != 'Apparel Item'">
                                                <mat-form-field appearance="fill" class="w-full">
                                                    <mat-label>Case Length</mat-label>
                                                    <input matInput type="number"
                                                        (mousewheel)="$event.preventDefault()"
                                                        formControlName="caseLength">
                                                    <small class="text-secondary font-semibold"> inch </small>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-lg-5" *ngIf="supplierType != 'Apparel Item'">
                                                <p class="text-secondary font-semibold">Weight</p>
                                            </div>
                                            <div class="col-lg-7" *ngIf="supplierType != 'Apparel Item'">
                                                <p class="text-secondary font-semibold">Units in weight</p>
                                            </div>
                                            <div class="col-4" *ngIf="supplierType != 'Apparel Item'">
                                                <mat-form-field class="w-full">
                                                    <input matInput type="number"
                                                        (mousewheel)="$event.preventDefault()" min="1"
                                                        [formControlName]="'weight'"><small
                                                        class="text-secondary font-semibold">
                                                        lbs </small>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-1 text-center" *ngIf="supplierType != 'Apparel Item'">
                                                <span class="text-secondary lineHeihgt-35">per</span>
                                            </div>
                                            <div class="col-4" *ngIf="supplierType != 'Apparel Item'">
                                                <mat-form-field class="w-full">
                                                    <input matInput type="number"
                                                        (mousewheel)="$event.preventDefault()" min="1"
                                                        [formControlName]="'unitsInWeight'"><small
                                                        class="text-secondary font-semibold">
                                                        unit(s) </small>
                                                    <mat-error>This field is required</mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-12">
                                                <mat-form-field class="w-full">
                                                    <mat-label>Units per Shipping Package</mat-label>
                                                    <input matInput type="number"
                                                        (mousewheel)="$event.preventDefault()" min="1"
                                                        [formControlName]="'unitsInShippingPackage'"><small
                                                        class="text-secondary font-semibold">
                                                        unit(s) </small>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-12">
                                                <mat-form-field class="w-full">
                                                    <mat-label>Flat Rate</mat-label>
                                                    <input matInput type="number"
                                                        (mousewheel)="$event.preventDefault()"
                                                        [formControlName]="'flatRate'">
                                                </mat-form-field>
                                            </div>
                                            <div class="col-lg-6 col-12" style="line-height: 2.3;">
                                                <p class="font-semibold">Do shipping charges apply?</p>
                                                <mat-radio-group [formControlName]="'doChargesApply'">
                                                    <mat-radio-button value="Yes" class="mr-5">Yes</mat-radio-button>
                                                    <mat-radio-button value="No" class="ml-5">No</mat-radio-button>
                                                </mat-radio-group>
                                            </div>

                                            <div class="col-lg-6 col-12">
                                                <mat-form-field appearance="fill" class="w-full">
                                                    <mat-label>Over Pack Charge (optional)</mat-label>
                                                    <input matInput type="number"
                                                        (mousewheel)="$event.preventDefault()"
                                                        formControlName="overPackageCharge">
                                                </mat-form-field>
                                            </div>
                                            <div class="col-lg-6 col-12">
                                                <mat-form-field appearance="fill" class="w-full">
                                                    <mat-label>Supplier Link (200)</mat-label>
                                                    <input matInput formControlName="supplierLink">
                                                </mat-form-field>
                                            </div>
                                            <div class="col-12">
                                                <mat-form-field class="example-chip-list w-full" appearance="fill">
                                                    <mat-label>Keywords (Comma-separated)</mat-label>
                                                    <mat-chip-list class="pt-1" #chipList aria-label="Fruit selection">
                                                        <mat-chip *ngFor="let fruit of fruits"
                                                            (removed)="remove(fruit)">
                                                            {{fruit.name}}
                                                            <button matChipRemove>
                                                                <mat-icon svgIcon="close"
                                                                    style="transform: scale(0.8);margin-top: -2.5px;">
                                                                </mat-icon>
                                                            </button>
                                                        </mat-chip>
                                                        <input [matChipInputFor]="chipList"
                                                            [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                                                            [matChipInputAddOnBlur]="addOnBlur"
                                                            (matChipInputTokenEnd)="add($event)">
                                                    </mat-chip-list>
                                                </mat-form-field>
                                            </div>
                                        </div>
                                    </form>
                                </div>

                                <mat-divider></mat-divider>
                                <div class="col-12">
                                    <div class="flex items-center justify-end w-full">
                                        <button class="min-w-40 mr-2" mat-stroked-button
                                            (click)="goToProductDeatailsPage()" [matTooltip]="'Go To Product Details'">
                                            <span>Go To Details</span>
                                        </button>
                                        <button class="min-w-60" mat-stroked-button (click)="goToProductDetails()"
                                            [matTooltip]="'Save & Go To Product Details'"
                                            [disabled]="reviewProductDetailLoader">
                                            <mat-progress-spinner *ngIf="reviewProductDetailLoader" [diameter]="24"
                                                [mode]="'indeterminate'">
                                            </mat-progress-spinner>
                                            <span *ngIf="!reviewProductDetailLoader" class="ml-1 mr-1">Save &
                                                Continue</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </mat-step> -->

                    </mat-stepper>
                </mat-card-content>
            </mat-card>
        </div>
    </div>

</div>

<ng-template #myCard>
    <ngx-skeleton-loader count="4" appearance="line" animation="pulse" *ngIf="expansionLoader">
    </ngx-skeleton-loader>
    <div class="row" *ngIf="!expansionLoader">
        <div class="col-lg-6 col-12" *ngFor="let item of subCategoryItems">
            <mat-radio-group name="internalList">
                <mat-radio-button style="min-width: -webkit-fill-available;" [value]="item" name="internalList"
                    (change)="selectedSubCategory(item)">
                    <span class="text-sm text-wrap">{{item.name}}</span>
                </mat-radio-button>
            </mat-radio-group>
        </div>
    </div>
</ng-template>