<div class="absolute inset-0 flex flex-col min-w-0 overflow-y-auto bg-light dark:bg-transparent">
    <!-- Header -->
    <div
        class="relative bg-light flex flex-col sm:flex-row flex-0 sm:items-center sm:justify-between py-2 px-6 md:px-8 border-b">
        <!-- Loader -->
        <div class="absolute inset-x-0 bottom-1" *ngIf="isLoading">
            <mat-progress-bar [mode]="'indeterminate'"></mat-progress-bar>
        </div>
        <!-- Title -->
        <div class="text-3xl font-extrabold tracking-tight">Product Details</div>
        <!-- Actions -->
        <div class="flex flex-shrink-0 items-center mt-6 sm:mt-0 sm:ml-4">
            <!-- Back to Customers Page button -->
            <button class="ml-4" mat-flat-button [color]="'primary'" (click)="backToProductsScreen()"
                [matTooltip]="'Go to products list'">
                <mat-icon [svgIcon]="'heroicons_outline:arrow-narrow-left'"></mat-icon>
                <span class="ml-2 mr-1">Back to Products</span>
            </button>
        </div>
    </div>

    <ngx-skeleton-loader count="14" appearance="line" animation="pulse" class="p-5" *ngIf="isProductFetched">
    </ngx-skeleton-loader>

    <mat-drawer-container class="sub-nav-component bg-light" autosize *ngIf="!isProductFetched">
        <mat-drawer #drawer class="sub-sidenav bg-light" [mode]="drawerMode" [opened]="drawerOpened">
            <div *ngFor="let route of routes;let i = index">
                <button style="padding: 15px;"
                    [style.background-color]="i === selectedIndex ? '#e4e8ed' : 'transparent'"
                    [ngClass]="i === selectedIndex ? 'opacity-1' : 'opacity-9'" mat-button
                    class="w-full my-1 mr-2 justify-content-start" (click)="clicked(i)">
                    <mat-icon svgIcon="{{route.icon}}" class="mr-1 opacity-8"></mat-icon>
                    <span style="font-size: 13px;"> {{route.title}} </span>
                </button>
            </div>
        </mat-drawer>

        <div class="sub-sidenav-content bg-light p-2">
            <mat-icon class="subnav-menu-icon ml-1" svgIcon="heroicons_outline:menu" (click)="toggleDrawer()">
            </mat-icon>

            <ng-template #myCard>
                <div class="bg-card rounded-2xl shadow-lg">
                    <div class="row w-full px-10 py-3">
                        <b class="w-full text-lg border-b float-left text-info pb-3">Product</b>
                    </div>
                    <div class="row w-full px-5 pb-3">
                        <div class="col-lg-4 col-12">
                            <b class="text-secondary">PID:</b>
                            <p class="float-right">{{selectedProduct?.pk_productID || not_available}}</p>
                        </div>
                        <div class="col-lg-4 col-12">
                            <b class="text-secondary">Supplier:</b>
                            <p class="float-right" style="color: #959595; text-decoration: underline; cursor: pointer;">
                                Show Down Displays
                            </p>
                        </div>
                        <div class="col-lg-4 col-12">
                            <b class="text-secondary">Product Link:</b>
                            <p class="float-right" style="color: #959595; text-decoration: underline; cursor: pointer;">
                                Click Here </p>
                        </div>
                        <div class="col-lg-4 col-12">
                            <b class="text-secondary">Supplier Relationship:</b>
                            <p class="float-right">Preferred</p>
                        </div>
                        <div class="col-lg-4 col-12">
                            <b class="text-secondary">Last Updated:</b>
                            <p class="float-right">{{last_updated || not_available}}</p>
                        </div>
                        <div class="col-lg-4 col-12">
                            <b class="text-secondary">Last Ordered By:</b>
                            <p class="float-right">{{selectedProduct?.lastUpdatedBy || not_available}}</p>
                        </div>
                        <div class="col-lg-4 col-12">
                            <b class="text-secondary">Current Co-Op Program:</b>
                            <p class="float-right">{{selectedProduct?.fk_coopID || 'NONE'}}</p>
                        </div>
                        <div class="col-lg-4 col-12">
                            <b class="text-secondary">Core Product:</b>
                            <p class="float-right">{{selectedProduct?.blnCore ? 'YES' : 'NO' }}</p>
                        </div>
                        <div class="col-lg-4 col-12">
                            <b class="text-secondary">Status:</b>
                            <p class="float-right">{{selectedProduct?.blnActive ? 'Active' : 'Inactive' }}</p>
                        </div>
                    </div>
                </div>
            </ng-template>
            <div class="row">
                <div class="col-12 mb-3">
                    <ng-container *ngTemplateOutlet="myCard"></ng-container>
                </div>
                <div class="col-12">
                    <ng-template [ngIf]="selectedIndex == 0">
                        <app-products-status [(isLoading)]="isLoading" [selectedProduct]="selectedProduct">
                        </app-products-status>
                    </ng-template>
                </div>
                <div class="col-12">
                    <ng-template [ngIf]="selectedIndex == 1">
                        <app-products-description [(isLoading)]="isLoading" [selectedProduct]="selectedProduct">
                        </app-products-description>
                    </ng-template>
                </div>
                <div class="col-12">
                    <ng-template [ngIf]="selectedIndex == 2">
                        <app-products-physics [(isLoading)]="isLoading" [selectedProduct]="selectedProduct">
                        </app-products-physics>
                    </ng-template>
                </div>
                <div class="col-12">
                    <ng-template [ngIf]="selectedIndex == 3">
                        <app-net-cost [(isLoading)]="isLoading" [selectedProduct]="selectedProduct"></app-net-cost>
                    </ng-template>
                </div>
                <div class="col-12">
                    <ng-template [ngIf]="selectedIndex == 4">
                        <app-color [(isLoading)]="isLoading" [selectedProduct]="selectedProduct"></app-color>
                    </ng-template>
                </div>
                <div class="col-12">
                    <ng-template [ngIf]="selectedIndex == 5">
                        <app-feature [(isLoading)]="isLoading" [selectedProduct]="selectedProduct"></app-feature>
                    </ng-template>
                </div>
                <div class="col-12">
                    <ng-template [ngIf]="selectedIndex == 6">
                        <app-default-margins [(isLoading)]="isLoading" [selectedProduct]="selectedProduct">
                        </app-default-margins>
                    </ng-template>
                </div>
                <div class="col-12">
                    <ng-template [ngIf]="selectedIndex == 7">
                        <app-package [(isLoading)]="isLoading" [selectedProduct]="selectedProduct"></app-package>
                    </ng-template>
                </div>
                <div class="col-12">
                    <ng-template [ngIf]="selectedIndex == 8">
                        <app-default-image [(isLoading)]="isLoading" [selectedProduct]="selectedProduct">
                        </app-default-image>
                    </ng-template>
                </div>
                <div class="col-12">
                    <ng-template [ngIf]="selectedIndex == 9">
                        <app-video [(isLoading)]="isLoading" [selectedProduct]="selectedProduct"></app-video>
                    </ng-template>
                </div>
                <div class="col-12">
                    <ng-template [ngIf]="selectedIndex == 10">
                        <app-artwork [(isLoading)]="isLoading" [selectedProduct]="selectedProduct"></app-artwork>
                    </ng-template>
                </div>
                <div class="col-12">
                    <ng-template [ngIf]="selectedIndex == 11">
                        <app-reviews [(isLoading)]="isLoading" [selectedProduct]="selectedProduct"></app-reviews>
                    </ng-template>
                </div>
                <div class="col-12">
                    <ng-template [ngIf]="selectedIndex == 12">
                        <app-warehouse [(isLoading)]="isLoading" [selectedProduct]="selectedProduct"></app-warehouse>
                    </ng-template>
                </div>
                <div class="col-12">
                    <ng-template [ngIf]="selectedIndex == 13">
                        <app-core-products [(isLoading)]="isLoading" [selectedProduct]="selectedProduct">
                        </app-core-products>
                    </ng-template>
                </div>
                <div class="col-12">
                    <ng-template [ngIf]="selectedIndex == 14">
                        <app-update-history [(isLoading)]="isLoading" [selectedProduct]="selectedProduct">
                        </app-update-history>
                    </ng-template>
                </div>
                <div class="col-12">
                    <ng-template [ngIf]="selectedIndex == 15">
                        <app-order-history [(isLoading)]="isLoading" [selectedProduct]="selectedProduct">
                        </app-order-history>
                    </ng-template>
                </div>
                <div class="col-12">
                    <ng-template [ngIf]="selectedIndex == 16">
                        <app-internal-notes [(isLoading)]="isLoading" [selectedProduct]="selectedProduct">
                        </app-internal-notes>
                    </ng-template>
                </div>
                <div class="col-12">
                    <ng-template [ngIf]="selectedIndex == 17">
                        <app-duplicate [(isLoading)]="isLoading" [selectedProduct]="selectedProduct"></app-duplicate>
                    </ng-template>
                </div>
                <div class="col-12">
                    <ng-template [ngIf]="selectedIndex == 18">
                        <app-imprint [(isLoading)]="isLoading" [selectedProduct]="selectedProduct"></app-imprint>
                    </ng-template>
                </div>
                <div class="col-12">
                    <ng-template [ngIf]="selectedIndex == 19">
                        <app-dietary-info [(isLoading)]="isLoading" [selectedProduct]="selectedProduct">
                        </app-dietary-info>
                    </ng-template>
                </div>
                <div class="col-12">
                    <ng-template [ngIf]="selectedIndex == 20">
                        <app-licensing-term [(isLoading)]="isLoading" [selectedProduct]="selectedProduct">
                        </app-licensing-term>
                    </ng-template>
                </div>
            </div>
        </div>

    </mat-drawer-container>

</div>