<ngx-skeleton-loader count="8" appearance="line" animation="pulse" *ngIf="isLoading">
</ngx-skeleton-loader>
<div class="row my-3" *ngIf="!isLoading">
    <div class="col-12">
        <mat-card class="rounded-2xl">
            <mat-card-subtitle class="text-1xl font-semibold" style="color: black;">
                Is this a warehouse item?
            </mat-card-subtitle>
            <mat-divider></mat-divider>
            <mat-card-content class="my-3">
                <mat-radio-group [(ngModel)]="selected">
                    <mat-radio-button class="example-radio-button" *ngFor="let season of seasons" [value]="season"
                        (change)="radioChange($event)">
                        {{season}}
                    </mat-radio-button>
                </mat-radio-group>
            </mat-card-content>
        </mat-card>
    </div>
</div>

<div class="row my-3" *ngIf="!isLoading">
    <div class="col-12" *ngIf="selected === 'Yes'">
        <mat-card class="rounded-2xl">
            <mat-card-title class="text-info font-size-medium">
                Warehouse
            </mat-card-title>
            <mat-card-content class="my-3">
                <form [formGroup]="wareHouseForm">
                    <div class="row mt-2">
                        <div class="col-lg-4 col-12">
                            <mat-form-field class="w-full">
                                <mat-label>Inventory</mat-label>
                                <input matInput type="text" [formControlName]="'inventory'">
                                <mat-error *ngIf="!isValidated">
                                    {{inventoryCheck}}
                                </mat-error>
                                <mat-error>
                                    Inventory is required
                                </mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-lg-4 col-12">
                            <mat-form-field class="w-full">
                                <mat-label>Inventory Threshold</mat-label>
                                <input matInput type="text" [formControlName]="'inventoryThreshold'">
                                <mat-error *ngIf="!isValidated">
                                    {{thresholdCheck}}
                                </mat-error>
                                <mat-error>
                                    Inventory Threshold is required
                                </mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-lg-4 col-12">
                            <mat-form-field class="w-full">
                                <mat-label>Max Quantity</mat-label>
                                <input matInput type="text" [formControlName]="'maxQuantity'">
                                <mat-error *ngIf="!isValidated">
                                    {{quantityCheck}}
                                </mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-lg-3 col-12">
                            <mat-form-field class="w-full">
                                <mat-label>Warehousing Cost</mat-label>
                                <input matInput type="text" [formControlName]="'warehousingCost'">
                                <mat-error>
                                    Warehousing Cost is required
                                </mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-lg-3 col-12">
                            <mat-form-field class="w-full">
                                <mat-label>Handling Cost</mat-label>
                                <input matInput type="text" [formControlName]="'handlingCost'">
                                <mat-error>
                                    Handling Cost is required
                                </mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-lg-3 col-12">
                            <mat-form-field class="w-full">
                                <mat-label>Warehouse Code</mat-label>
                                <input matInput type="text" [formControlName]="'warehouseCode'">
                            </mat-form-field>
                        </div>
                        <div class="col-lg-3 col-12">
                            <mat-form-field class="w-full">
                                <mat-label>Delivery Fee</mat-label>
                                <input matInput type="text" [formControlName]="'deliveryFee'">
                                <mat-error *ngIf="!isValidated">
                                    {{feeCheck}}
                                </mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-lg-3 col-12 mb-2">
                            <p style="color: #293344; font-weight: 500;">Shipping Options</p>
                            <div class="mt-2">
                                <mat-checkbox [formControlName]="'checkBox1'">UPS Ground</mat-checkbox>
                            </div>
                            <div>
                                <mat-checkbox [formControlName]="'checkBox2'">Expedited UPS</mat-checkbox>
                            </div>
                            <div>
                                <mat-checkbox [formControlName]="'checkBox3'">Pick-Up</mat-checkbox>
                            </div>
                            <div>
                                <mat-checkbox [formControlName]="'checkBox4'">Delivery</mat-checkbox>
                            </div>
                        </div>
                        <div class="col-lg-9 col-12">
                            <mat-form-field class="w-full">
                                <mat-label>Notes</mat-label>
                                <textarea matInput rows="5" [formControlName]="'deliveryNote'"></textarea>
                            </mat-form-field>
                        </div>
                    </div>
                </form>
            </mat-card-content>
        </mat-card>
    </div>
</div>

<div class="row mr-3" *ngIf="!isLoading">
    <div class="flex items-center justify-end w-full mr-2">
        <div class="flex items-center my-2">
            <div class="flex items-center mr-4" *ngIf="flashMessage">
                <ng-container *ngIf="flashMessage === 'success'">
                    <mat-icon class="text-green-500" [svgIcon]="'heroicons_outline:check'">
                    </mat-icon>
                    <span class="ml-2">Warehouse options added successfully</span>
                </ng-container>
                <ng-container *ngIf="flashMessage === 'error'">
                    <mat-icon class="text-red-500" [svgIcon]="'heroicons_outline:x'"></mat-icon>
                    <span class="ml-2">An error occurred, try again!</span>
                </ng-container>
            </div>
            <button class="min-w-40" mat-stroked-button [matTooltip]="'Update Warehouse Options'"
                (click)="wareHouseSubmitCall()" [disabled]="wareHouseLoader">
                <mat-progress-spinner *ngIf="wareHouseLoader" [diameter]="24" [mode]="'indeterminate'">
                </mat-progress-spinner>
                <mat-icon *ngIf="!wareHouseLoader" svgIcon="mode_edit_outline"></mat-icon>
                <span *ngIf="!wareHouseLoader" class="ml-1 mr-1">Update</span>
            </button>
        </div>
    </div>
</div>