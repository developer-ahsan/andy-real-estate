<ngx-skeleton-loader count="8" appearance="line" animation="pulse" *ngIf="isLoading">
</ngx-skeleton-loader>
<div class="row mb-3" *ngIf="!isLoading">
    <div class="col-12">
        <mat-card class="w-full mb-10 h-full rounded-2xl">
            <div class="text-2xl font-bold">
                <button
                    [matTooltip]="'Product color images must be: 1.) at least 600 x 600px, 2.) no larger than 1500 x 1500 px, 3.) Must be perfect squares (i.e. same width and height), and 4.) must be a JPG.Only colors that are checked will update. Anything not checked will not be modified at all.For swatch colors, you can enter up to 5 hex values separated by commas'">
                    <i class="fa fa-info-circle"></i>
                </button>
                Colors
            </div>

            <div *ngIf="dataSource.length > 0;else other_content">
                <table mat-table [dataSource]="dataSource" class="w-full border-t">
                    <!-- Checkbox Column -->
                    <ng-container matColumnDef="select">
                        <th mat-header-cell *matHeaderCellDef class="w-15 min-w-15">
                            <mat-checkbox (change)="$event ? masterToggle() : null"
                                [checked]="selection.hasValue() && isAllSelected()"
                                [indeterminate]="selection.hasValue() && !isAllSelected()"
                                [aria-label]="checkboxLabel()">
                            </mat-checkbox>
                        </th>
                        <td mat-cell *matCellDef="let row">
                            <mat-checkbox (click)="$event.stopPropagation()"
                                (change)="$event ? selection.toggle(row) : null" [checked]="selection.isSelected(row)"
                                [aria-label]="checkboxLabel(row)">
                            </mat-checkbox>
                        </td>
                    </ng-container>

                    <!-- Color Column -->
                    <ng-container matColumnDef="color">
                        <th mat-header-cell *matHeaderCellDef class="w-40 min-w-40"> Color </th>
                        <td mat-cell *matCellDef="let element"> {{element.colorName}} </td>
                    </ng-container>

                    <!-- Run Column -->
                    <ng-container matColumnDef="run">
                        <th mat-header-cell *matHeaderCellDef class="w-24 min-w-24"> Run </th>
                        <td mat-cell *matCellDef="let element"> {{element.run}} </td>
                    </ng-container>

                    <!-- Hex Column -->
                    <ng-container matColumnDef="hex">
                        <th mat-header-cell *matHeaderCellDef class="w-24 min-w-24"> Hex </th>
                        <td mat-cell *matCellDef="let element"> {{element.rgb}} </td>
                    </ng-container>

                    <!-- Image Column -->
                    <ng-container matColumnDef="upload">
                        <th mat-header-cell *matHeaderCellDef class="w-40 min-w-40"> Image </th>
                        <td mat-cell *matCellDef="let element">
                            <button mat-stroked-button (click)="uploadImage()">
                                <mat-icon [svgIcon]="'mat_outline:file_upload'" [matTooltip]="'Upload Image'">
                                </mat-icon>
                                <span class="ml-1 mr-1">Upload</span>
                            </button>
                        </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedColumns;" class="h-18"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"
                        class="h-14 hover:bg-gray-100 dark:hover:bg-hover" style="cursor: pointer;"
                        (click)="selection.toggle(row)">
                    </tr>
                </table>
            </div>
            <ng-template #other_content>
                <div class="text-secondary font-semibold p-5">
                    There are currently no colors defined for this item.
                </div>
            </ng-template>
        </mat-card>
    </div>

    <div class="col-12 my-2">
        <fuse-card class="rounded-2xl bg-card flex flex-col lg:flex-row w-full">
            <div class="p-6 sm:p-8 lg:p-10 w-full">
                <div class="text-2xl font-bold">
                    <button
                        [matTooltip]="'The combo tool allows you to define two separate lists of color attributes. The system will then automatically combine them. For example, if you have a pen that has two color attributes: body and trim, you can specify the body colors in the first list, and the trim colors in the second list and they will be combined. Make sure to separate all colors with commas.The final list will show up in the new color field above.'">
                        <i class="fa fa-info-circle"></i>
                    </button>
                    Combo Tool
                </div>
                <!-- Features -->
                <div class="gap-y-4 mt-6">
                    <div class="row">
                        <div class="col-12 mt-3">
                            <mat-form-field class="w-full">
                                <mat-label>List 1</mat-label>
                                <input matInput>
                            </mat-form-field>
                        </div>
                        <div class="col-12">
                            <mat-form-field class="w-full">
                                <mat-label>List 2</mat-label>
                                <input matInput>
                            </mat-form-field>
                        </div>
                    </div>
                </div>
                <div class="flex items-center justify-end w-full">
                    <div class="flex items-center my-2">
                        <div class="flex items-center mr-4" *ngIf="flashMessage">
                            <ng-container *ngIf="flashMessage === 'success'">
                                <mat-icon class="text-green-500" [svgIcon]="'heroicons_outline:check'">
                                </mat-icon>
                                <span class="ml-2">Run successfully</span>
                            </ng-container>
                            <ng-container *ngIf="flashMessage === 'error'">
                                <mat-icon class="text-red-500" [svgIcon]="'heroicons_outline:x'"></mat-icon>
                                <span class="ml-2">An error occurred, try again!</span>
                            </ng-container>
                        </div>
                        <button class="min-w-40" mat-stroked-button [matTooltip]="'Run Combo Tool'"
                            (click)="uploadImage()" [disabled]="selectedTermUpdateLoader">
                            <mat-progress-spinner *ngIf="selectedTermUpdateLoader" [diameter]="24"
                                [mode]="'indeterminate'">
                            </mat-progress-spinner>
                            <span *ngIf="!selectedTermUpdateLoader" class="ml-1 mr-1">Run Combo Tool</span>
                        </button>
                    </div>
                </div>
            </div>
        </fuse-card>
    </div>
</div>