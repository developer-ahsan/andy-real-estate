<ngx-skeleton-loader count="8" appearance="line" animation="pulse" *ngIf="isLoading">
</ngx-skeleton-loader>
<div class="row my-3" *ngIf="!isLoading && selectedTerm">
    <div class="col-12">
        <mat-card class="w-full p-2 h-full rounded-2xl shadow-lg">
            <mat-card-title class="text-info font-size-medium">
                Selected Licensing Term
            </mat-card-title>
            <mat-divider></mat-divider>
            <mat-expansion-panel class="mt-5 rounded-2xl" [expanded]="true">
                <mat-expansion-panel-header>
                    <mat-panel-title class="font-semibold">
                        {{selectedTerm.term}}
                    </mat-panel-title>
                </mat-expansion-panel-header>
                <ng-container *ngTemplateOutlet="myCard"></ng-container>
            </mat-expansion-panel>
        </mat-card>
    </div>
</div>
<div class="row my-3" *ngIf="!isLoading">
    <div class="col-12">
        <mat-card class="w-full p-2 h-full rounded-2xl shadow-lg">
            <mat-card-title class="text-info font-size-medium">
                Licensing Terms
            </mat-card-title>
            <mat-divider></mat-divider>
            <form [formGroup]="licensingForm">
                <div class="row" *ngIf="!radioButtonForm">
                    <div class="col-12 my-3">
                        <mat-form-field class="w-full" appearance="fill">
                            <mat-label>Select licensing company</mat-label>
                            <mat-select [formControlName]="'select'">
                                <mat-option *ngFor="let food of foods" [value]="food">
                                    {{food.name}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class="col-12 my-1 text-right">
                        <button class="min-w-40 w-40" mat-stroked-button (click)="continue()">
                            <span *ngIf="!radioButtonForm" class="mr-2">Continue</span>
                            <mat-icon *ngIf="!radioButtonForm" svgIcon="heroicons_outline:arrow-sm-right"></mat-icon>
                            <mat-progress-spinner *ngIf="radioButtonForm" [diameter]="24" [mode]="'indeterminate'">
                            </mat-progress-spinner>
                        </button>
                    </div>
                </div>
                <div class="row" *ngIf="radioButtonForm">
                    <div class="col-12 my-3">
                        <mat-accordion multi>
                            <div class="row">
                                <div class="col-lg-6 col-12" *ngFor="let license of licensingTerms;">
                                    <mat-expansion-panel class="my-2"
                                        [ngStyle]="license.Selected ? {'background-color':'rgba(15,23,42,0.36)'} : {'background-color': 'transparent'}">
                                        <mat-expansion-panel-header>
                                            <mat-panel-title
                                                [ngStyle]="license.Selected ? {'color':'white'} : {'color': 'black'}">
                                                {{license.term}}
                                            </mat-panel-title>
                                        </mat-expansion-panel-header>
                                        <ng-container *ngTemplateOutlet="myCard"></ng-container>
                                    </mat-expansion-panel>
                                </div>
                            </div>
                        </mat-accordion>
                    </div>
                    <div class="col-lg-10 col-12"></div>
                    <div class="col-2">
                        <button mat-stroked-button>
                            <mat-icon svgIcon="mat_outline:edit"></mat-icon>
                            <span class="ml-1">Update</span>
                        </button>
                    </div>
                </div>
            </form>
        </mat-card>
    </div>
</div>

<ng-template #myCard>
    <mat-radio-button style="min-width: -webkit-fill-available;" *ngFor="let item of subCategoryItems" [value]="item"
        [checked]="item.Selected">
        {{item.name}}
    </mat-radio-button>
</ng-template>