<!-- <app-imprint-run></app-imprint-run> -->


<div class="row my-2 py-5 mx-5 overflow-auto" *ngIf="!isLoading">
    <div class="col-12">
        <mat-button-toggle-group #group="matButtonToggleGroup" [value]="showImprintScreen"
            (change)="calledScreen(group.value)">
            <mat-button-toggle value="Imprints">
                Imprints
            </mat-button-toggle>
            <mat-button-toggle value="Add Imprint">
                Add Imprint
            </mat-button-toggle>
            <mat-button-toggle value="Display Order">
                Display Order
            </mat-button-toggle>
            <mat-button-toggle value="Standard Imprints">
                Standard Imprints
            </mat-button-toggle>
            <mat-button-toggle value="Overlapping" [disabled]="mainButtonToggleDisable || dataSource.length < 2">
                Overlapping
            </mat-button-toggle>
            <mat-button-toggle value="Price Inclusion" [disabled]="mainButtonToggleDisable">
                Price Inclusion
            </mat-button-toggle>
            <mat-button-toggle value="Test Pricing" [disabled]="mainButtonToggleDisable">
                Test Pricing
            </mat-button-toggle>
        </mat-button-toggle-group>
    </div>
</div>
<ngx-skeleton-loader count="8" appearance="line" animation="pulse" *ngIf="isLoading || isContentLoading">
</ngx-skeleton-loader>
<!-- Standard Imprints -->
<div *ngIf="!isLoading && showImprintScreen == 'Standard Imprints'">
    <fuse-card class="rounded-2xl mb-2 shadow bg-card flex flex-col lg:flex-row w-full">
        <div class="p-6 sm:p-8 lg:p-10 w-full">
            <ngx-skeleton-loader count="8" appearance="line" animation="pulse" *ngIf="standardImprintLoader">
            </ngx-skeleton-loader>
            <div class="row" *ngIf="!standardImprintLoader">
                <div class="col-lg-9 col-12">
                    <div class="text-2xl font-bold">
                        Standard Imprints
                    </div>
                </div>
                <div class="col-lg-3 col-12">
                    <button class="w-full" mat-stroked-button [matTooltip]="'Clear all options'"
                        (click)="clearAllStandardImprintOptions()">
                        Un/Select All
                    </button>
                </div>
            </div>
            <div class="gap-y-4 mt-6" *ngIf="!standardImprintLoader">
                <div class="row border-b-2 py-5" *ngFor="let standard of standardImprints">
                    <div class="col-12 mb-3">
                        <b class="my-5 text-secondary">
                            {{standard.standard_imprints.name}}
                        </b>
                        <b class="text-secondary float-right cursor-pointer" (click)="selectCheckedOption(standard)">
                            <u>Un/Select</u>
                        </b>
                    </div>
                    <div class="col-lg-4 col-md-6 col-12" *ngFor="let subStandard of standard.sub_standard_imprints">
                        <mat-checkbox (change)="subStandard.isChecked = !subStandard.isChecked"
                            [checked]='subStandard.isChecked'>
                            <div class="font-medium text-sm">{{subStandard.name}}</div>
                        </mat-checkbox>
                    </div>
                </div>

                <div class="flex items-center justify-end w-full">
                    <div class="flex items-center my-2">
                        <div class="flex items-center mr-4" *ngIf="flashMessage">
                            <ng-container *ngIf="flashMessage === 'success'">
                                <mat-icon class="text-green-500" [svgIcon]="'heroicons_outline:check'">
                                </mat-icon>
                                <span class="ml-2">Standard Imprints Added successfully</span>
                            </ng-container>
                            <ng-container *ngIf="flashMessage === 'error'">
                                <mat-icon class="text-red-500" [svgIcon]="'heroicons_outline:x'"></mat-icon>
                                <span class="ml-2">An error occurred, try again!</span>
                            </ng-container>
                            <ng-container *ngIf="flashMessage === 'countError'">
                                <mat-icon class="text-red-500" [svgIcon]="'heroicons_outline:x'"></mat-icon>
                                <span class="ml-2">Please select atleast one imprint option!</span>
                            </ng-container>
                        </div>
                        <button class="min-w-40" mat-flat-button [color]="'primary'" [matTooltip]="'Save Imprints'"
                            (click)="saveStandardImprints()" [disabled]="standardImprintAddLoader">
                            <mat-progress-spinner *ngIf="standardImprintAddLoader" [diameter]="24"
                                [mode]="'indeterminate'">
                            </mat-progress-spinner>
                            <span *ngIf="!standardImprintAddLoader" class="ml-1 mr-1">Save Imprints</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </fuse-card>
</div>

<!-- Add Imprint -->
<div *ngIf="!isLoading && showImprintScreen == 'Add Imprint'">
    <fuse-card class="rounded-2xl shadow bg-card flex flex-col lg:flex-row w-full">
        <div class="p-6 sm:p-8 lg:p-10 w-full">
            <div class="text-2xl font-bold">
                Add Imprint
            </div>
            <!-- Features -->
            <div class="gap-y-4 mt-6">
                <div class="row">
                    <!-- Decorator -->
                    <div class="col-12">
                        <b>Decorator <span *ngIf="!suppliers.length" class="text-sm text-secondary font-semibold ml-2">
                                (Fetching Decorators...) </span> </b>
                    </div>
                    <div class="col-12">
                        <mat-form-field class="w-full" appearance="fill">
                            <mat-select [(ngModel)]="selectedSupplier" name="supplier"
                                [disabled]="suppliers.length ? false : true"
                                (selectionChange)="changeSupplerSelection()">
                                <mat-option *ngFor="let supplier of suppliers" [value]="supplier">
                                    <small>{{supplier.companyName}}</small>
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>

                    <!-- Imprint Method -->
                    <div class="col-12">
                        <b>
                            <button
                                [matTooltip]="'To add a new method, select (NEW METHOD) in the menu and then enter the name in the box to the right'">
                                <i class="fa fa-info-circle"></i>
                            </button>
                            Imprint Method
                            <!-- <span *ngIf="!addImprintMethods.length"
                                class="text-sm text-secondary font-semibold ml-2"> (Fetching Methods...) </span> -->
                        </b>
                    </div>
                    <div class="col-lg-6 col-12">
                        <!-- <mat-form-field class="w-full" appearance="fill">
                            <input type="text" placeholder="Imprint Method" aria-label="Number" matInput
                                [formControl]="methodControl" [matAutocomplete]="auto"
                                [readonly]="addImprintMethods.length ? false : true">
                            <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
                                <mat-option *ngFor="let method of methodFilteredOptions | async"
                                    [value]="method.methodName" (click)="methodSelected(method)">
                                    <small>{{method.methodName}}
                                        ({{method.pk_methodID}})</small>
                                </mat-option>
                            </mat-autocomplete>
                        </mat-form-field> -->
                        <mat-form-field class="w-full">
                            <input matInput placeholder="Imprint Method" [matAutocomplete]="auto2"
                                [formControl]="methodSearchControl">
                            <mat-hint *ngIf="selectedMethod">{{selectedMethod.methodName}}
                                ({{selectedMethod.pk_methodID}})</mat-hint>
                            <mat-autocomplete class="w-full" #auto2="matAutocomplete"
                                (optionSelected)="methodSelected($event.option.value)">
                                <mat-option *ngIf="isMethodLoading" class="is-loading">Loading...</mat-option>
                                <ng-container *ngIf="!isMethodLoading">
                                    <mat-option *ngFor="let method of addImprintMethods" [value]="method">
                                        <small>{{method.methodName}}
                                            ({{method.pk_methodID}})</small>
                                    </mat-option>
                                </ng-container>
                            </mat-autocomplete>
                        </mat-form-field>
                    </div>
                    <div class="col-lg-6 col-12">
                        <mat-form-field appearance="fill" class="w-full">
                            <input matInput placeholder="New Method Name"
                                [disabled]="selectedMethod?.pk_methodID != null" [(ngModel)]="method_name">
                        </mat-form-field>
                    </div>

                    <!-- Location -->
                    <div class="col-12">
                        <b>
                            <button
                                [matTooltip]="'To add a new location, select (NEW LOCATION) in the menu and then enter the name in the box to the right'">
                                <i class="fa fa-info-circle"></i>
                            </button>
                            Location
                            <!-- <span *ngIf="!addImprintLocations.length"
                                class="text-sm text-secondary font-semibold ml-2"> (Fetching Locations...) </span> -->
                        </b>
                    </div>
                    <div class="col-lg-6 col-12">
                        <!-- <mat-form-field class="w-full" appearance="fill">
                            <input type="text" placeholder="Imprint Location" aria-label="Number" matInput
                                [formControl]="locationControl" [matAutocomplete]="auto1"
                                [readonly]="addImprintLocations.length ? false : true">
                            <mat-autocomplete autoActiveFirstOption #auto1="matAutocomplete">
                                <mat-option *ngFor="let location of locationFilteredOptions | async"
                                    [value]="location.locationName" (click)="locationSelected(location)">
                                    <small>{{location.locationName}}
                                        ({{location.pk_locationID}})</small>
                                </mat-option>
                            </mat-autocomplete>
                        </mat-form-field> -->
                        <mat-form-field class="w-full">
                            <input matInput placeholder="Imprint Location" [matAutocomplete]="auto1"
                                [formControl]="locationSearchControl">
                            <mat-hint *ngIf="selectedLocation">{{selectedLocation.locationName}}
                                ({{selectedLocation.pk_locationID}})</mat-hint>
                            <mat-autocomplete class="w-full" #auto1="matAutocomplete"
                                (optionSelected)="locationSelected($event.option.value)">
                                <mat-option *ngIf="isLoadings" class="is-loading">Loading...</mat-option>
                                <ng-container *ngIf="!isLoadings">
                                    <mat-option *ngFor="let location of addImprintLocations" [value]="location"
                                        (click)="locationSelected(location)">
                                        <small>{{location.locationName}}
                                            ({{location.pk_locationID}})</small>
                                    </mat-option>
                                </ng-container>
                            </mat-autocomplete>
                        </mat-form-field>
                    </div>
                    <div class="col-lg-6 col-12">
                        <mat-form-field appearance="fill" class="w-full">
                            <input matInput [disabled]="selectedLocation?.pk_locationID != null"
                                placeholder="New Location Name" [(ngModel)]="location_name">
                        </mat-form-field>
                    </div>

                    <!-- Imprint Area -->
                    <div class="col-12">
                        <b>Imprint Area (max)</b>
                    </div>
                    <div class="col-12">
                        <mat-form-field appearance="fill" class="w-full">
                            <input matInput (input)="addArea($event.target.value)">
                        </mat-form-field>
                    </div>

                    <!-- Details -->
                    <div class="col-12">
                        <b>How are the charges applied?</b>
                    </div>
                    <div class="col-12">
                        <mat-radio-group aria-labelledby="example-radio-group-label" class="example-radio-group"
                            [(ngModel)]="favoriteSeason">
                            <mat-radio-button class="example-radio-button" *ngFor="let season of seasons"
                                [value]="season" (change)="changeProcessMode($event)">
                                {{season}}
                            </mat-radio-button>
                        </mat-radio-group>
                    </div>

                    <div class="col-12 py-3">
                        <!-- Quantity restrictions -->

                        <div class="row"
                            *ngIf="favoriteSeason === 'Per color (i.e. silk screening, pad printing, etc.)'">
                            <div class="col-12">
                                <button
                                    [matTooltip]="'Set all quantities to1 if no restrictions. Use quantity=1 instead of product minimum quantity'">
                                    <i class="fa fa-info-circle"></i>
                                </button>
                                <b class="pl-1">Quantity restrictions for multiple colors</b>
                            </div>
                        </div>
                        <div class="row my-2"
                            *ngIf="favoriteSeason === 'Per color (i.e. silk screening, pad printing, etc.)'">
                            <div class="col-lg-3 col-12">
                                <b class="text-secondary"># of Colors</b>
                            </div>
                            <div class="col-9"></div>

                            <form [formGroup]="values">
                                <div class="row">
                                    <div class="col-3">
                                        <p class="font-semibold" style="line-height: 3.5;">Min Product Qty</p>
                                    </div>
                                    <div class="col-2">
                                        <mat-form-field appearance="fill" class="w-full">
                                            <mat-label>Two</mat-label>
                                            <input matInput type="number" min="1" value="1"
                                                [formControlName]="'twoColorQ'">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-2">
                                        <mat-form-field appearance="fill" class="w-full">
                                            <mat-label>Three</mat-label>
                                            <input matInput type="number" min="1" value="1"
                                                [formControlName]="'threeColorQ'">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-2">
                                        <mat-form-field appearance="fill" class="w-full">
                                            <mat-label>Four</mat-label>
                                            <input matInput type="number" min="1" value="1"
                                                [formControlName]="'fourColorQ'">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-2">
                                        <mat-form-field appearance="fill" class="w-full">
                                            <mat-label>Five</mat-label>
                                            <input matInput type="number" min="1" value="1"
                                                [formControlName]="'fiveColorQ'">
                                        </mat-form-field>
                                    </div>
                                </div>
                            </form>
                        </div>

                        <!-- Digitizer -->
                        <div class="row" *ngIf="favoriteSeason === 'Per Stitch (embroidering)'">
                            <div class="col-12">
                                <b>Digitizer</b>
                            </div>
                        </div>
                        <div class="row" *ngIf="favoriteSeason === 'Per Stitch (embroidering)'">
                            <div class="col-12">
                                <mat-form-field class="w-full" appearance="fill">
                                    <mat-select [(ngModel)]="selectedDigitizer" name="food"
                                        [disabled]="addImprintDigitizers.length ? false : true">
                                        <mat-option *ngFor="let digitzier of addImprintDigitizers" [value]="digitzier">
                                            {{digitzier.companyName}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>

                    <div class="col-12 mt-2">
                        <b>Does the user need to specify imprint colors?</b>
                    </div>
                    <div class="col-12">
                        <mat-radio-group aria-labelledby="example-radio-group-label" class="example-radio-group"
                            [(ngModel)]="defaultImprintColorSpecification">
                            <mat-radio-button class="example-radio-button"
                                *ngFor="let imprintOption of specifyImrpintArray" [value]="imprintOption">
                                {{imprintOption}}
                            </mat-radio-button>
                        </mat-radio-group>
                    </div>
                    <div class="col-12 my-2" *ngIf="defaultImprintColorSpecification === 'Yes'">
                        <mat-form-field class="w-full">
                            <mat-label>Max Colors</mat-label>
                            <mat-select [(ngModel)]="maxColorSelected" name="maxColor">
                                <mat-option *ngFor="let maxColor of maxColors" [value]="maxColor">
                                    {{maxColor}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>

                    <div class="col-12 my-2" *ngIf="defaultImprintColorSpecification === 'Yes'">
                        <div>
                            <button class="min-w-40" mat-flat-button [color]="'primary'"
                                [matTooltip]="'Get Imprint Color Collection Ids'" (click)="generateCollectionId()"
                                [disabled]="getImprintColorCollectionLoader">
                                <mat-progress-spinner *ngIf="getImprintColorCollectionLoader" [diameter]="24"
                                    [mode]="'indeterminate'">
                                </mat-progress-spinner>
                                <span *ngIf="!getImprintColorCollectionLoader" class="ml-1 mr-1">
                                    Color Collection ID
                                </span>
                            </button>
                        </div>
                        <div *ngIf="!collectionIdsArray.length">
                            <small class="font-semibold ml-3">
                                * No collections available. Click on the button to generate list of collections
                            </small>
                        </div>
                        <div class="my-2" *ngIf="collectionIdsArray.length">
                            <b>Select Imprint Color</b>
                            <ng-multiselect-dropdown [placeholder]="'Imprint Color Collections'"
                                [settings]="dropdownSettings" [data]="collectionIdsArray"
                                [(ngModel)]="selectedCollectionId" (onSelect)="onItemSelect($event)">
                            </ng-multiselect-dropdown>
                        </div>
                        <div class="my-1">
                            <mat-form-field class="w-full">
                                <input matInput placeholder="Enter Collection ID" [(ngModel)]='customColorId'>
                            </mat-form-field>
                            <span class="text-gray-600 border-b-8 mr-1" style="line-height: 2;"
                                *ngFor="let item of colorsCollectionIdsArray; let i=index"
                                [ngStyle]="{'border-color': '#' + item['RGB']}">{{item.imprintColorName}}<span
                                    *ngIf="i < colorsCollectionIdsArray.length - 1">,</span>
                            </span>
                        </div>
                    </div>

                    <!-- Imprint order itself -->
                    <div class="col-12 my-2 mt-4">
                        <b>Can this imprint be ordered by itself?</b>
                    </div>
                    <div class="col-12">
                        <small class="leading-relaxed text-secondary font-semibold">
                            *This option determines whether this imprint can be ordered by itself. For example, if the
                            location of this imprint is "second side," this implies that there must be a first side, and
                            so it cannot be ordered by itself.
                        </small>
                    </div>
                    <div class="col-12">
                        <mat-radio-group aria-labelledby="example-radio-group-label" class="example-radio-group"
                            [(ngModel)]="imprintItselfSelected">
                            <mat-radio-button class="example-radio-button"
                                *ngFor="let imprintItselfVal of imprintItself" [value]="imprintItselfVal">
                                {{imprintItselfVal.imprintItselfText}}
                            </mat-radio-button>
                        </mat-radio-group>
                    </div>

                    <!-- Imprint order itself -->
                    <div class="col-12">
                        <b>Price Inclusion?</b>
                    </div>
                    <div class="col-12">
                        <mat-radio-group aria-labelledby="example-radio-group-label" class="example-radio-group"
                            [(ngModel)]="priceInclusionSelected">
                            <mat-radio-button class="example-radio-button"
                                *ngFor="let priceInclusion of priceInclusionArray" [value]="priceInclusion">
                                {{priceInclusion.priceInclusionText}}
                            </mat-radio-button>
                        </mat-radio-group>
                    </div>

                    <!-- Charge Distributions -->
                    <div class="col-12 my-2">
                        <button [matTooltip]="'Enter an imprint charge and corresponding discount code to find existing charge
                                distributions that include it. For example for a silk-screened additional color/location
                                charge of $0.25(G), enter 0.25, select G and click the button.'">
                            <i class="fa fa-info-circle"></i>
                        </button>
                        <b class="pl-1">Charge Distributions</b>
                    </div>
                    <div class="col-12">
                        <small class="text-danger font-semibold">
                            * When setup/run charges are $0.00, please type code "17" in the respective field.
                        </small>
                    </div>
                    <!-- (click)="getRunSetup()" -->
                    <div class="col-lg-3 col-12 my-2" *ngIf="!runSetupDistributorCodes.length">
                        <button class="w-full" mat-flat-button [color]="'primary'" [matTooltip]="'Add run/setup'"
                            (click)="openModal()" [disabled]="runSetupLoaderFetching">
                            <mat-progress-spinner *ngIf="runSetupLoaderFetching" [diameter]="24"
                                [mode]="'indeterminate'">
                            </mat-progress-spinner>
                            <span *ngIf="!runSetupLoaderFetching" class="ml-1 mr-1">
                                Add Run/Setup
                            </span>
                        </button>
                    </div>
                    <div class="col-lg-9 col-12"></div>
                    <div class="col-lg-4 my-2" *ngIf="runSetupDistributorCodes.length">
                        <form [formGroup]="chargeDistribution">
                            <mat-form-field appearance="fill" class="w-full">
                                <mat-label>Charge</mat-label>
                                <input matInput [formControlName]="'charge'" type="number" value="0">
                            </mat-form-field>
                        </form>
                    </div>
                    <div class="col-lg-4 my-2" *ngIf="runSetupDistributorCodes.length">
                        <mat-form-field class="w-full">
                            <mat-label>Cost</mat-label>
                            <mat-select [(ngModel)]="selectedDiscountCode" name="collection">
                                <mat-option *ngFor="let code of runSetupDistributorCodes" [value]="code">
                                    <small>{{code.distrDiscountCode}}</small>
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class="col-lg-4 col-12 lg:mt-4 lg:pt-5" *ngIf="runSetupDistributorCodes.length">
                        <button class="w-full" mat-flat-button [color]="'primary'" [matTooltip]="'Get all charges'"
                            (click)="getCharges()" [disabled]="getChargesLoader">
                            <mat-progress-spinner *ngIf="getChargesLoader" [diameter]="24" [mode]="'indeterminate'">
                            </mat-progress-spinner>
                            <span *ngIf="!getChargesLoader" class="ml-1 mr-1">
                                Get Charges
                            </span>
                        </button>
                    </div>

                    <form [formGroup]="runSetup" class="w-full">
                        <div class="row px-4">
                            <div class="col-lg-6 col-12 my-2">
                                <mat-form-field appearance="fill" class="w-full">
                                    <mat-label>Setup</mat-label>
                                    <input matInput [formControlName]="'setup'" type="number">
                                </mat-form-field>
                            </div>
                            <div class="col-lg-6 col-12 my-2">
                                <mat-form-field appearance="fill" class="w-full">
                                    <mat-label>Run</mat-label>
                                    <input matInput [formControlName]="'run'" type="number">
                                </mat-form-field>
                            </div>
                        </div>
                    </form>

                    <div class="col-12 p-5 my-5 border-2 d-flex overflow-x-auto" style="max-height: 500px;"
                        *ngIf="chargesTableArray.length">
                        <div class="border-2 mx-5" *ngFor="let chargeData of chargesTableArray">
                            <div class="row">
                                <div class="col-12">
                                    <p class="bg-primary text-white text-center text-1xl font-semibold p-3">
                                        {{chargeData.chargeId}}
                                    </p>
                                </div>
                                <div class="col-12">
                                    <a href="" class="mx-2 text-sm" (click)="setRun($event,chargeData.chargeId)"> +
                                        Run</a>
                                </div>
                                <div class="col-12">
                                    <a href="" class="ml-2 text-sm" (click)="setSetup($event,chargeData.chargeId)"> +
                                        Setup</a>
                                </div>
                            </div>
                            <table class="m-2 w-2/4">
                                <col>
                                <colgroup span="1"></colgroup>
                                <colgroup span="1"></colgroup>
                                <tr>
                                    <th scope="col" class="text-1xl font-semibold text-center bg-gray-100 p-3"></th>
                                    <th scope="col" class="text-1xl font-semibold text-center bg-gray-100 p-3 p-3"
                                        *ngFor="let productQuantity of chargeData.uniqueProductQuantities">
                                        {{productQuantity}}
                                    </th>
                                </tr>
                                <tr *ngFor="let rowFill of chargeData.rowsRendering">
                                    <th scope="row" class="text-1xl font-semibold text-center bg-gray-100 p-3 p-3">
                                        {{rowFill.verticalColumnName}}
                                    </th>
                                    <td class="p-3 bg-gray-50 text-center"
                                        *ngFor="let rowChargeValue of rowFill.renderedArray">
                                        {{rowChargeValue[2]}}
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>

                    <!-- Minimum Product Quantity -->
                    <div class="col-12 mt-3">
                        <b>
                            <button
                                [matTooltip]="'Other than one (1) only if this imprint requires a product qty more than the min'">
                                <i class="fa fa-info-circle"></i>
                            </button>
                            Minimum Product Quantity
                        </b>
                    </div>
                    <div class="col-12">
                        <mat-form-field appearance="fill" class="w-full">
                            <input matInput value="{{minValue}}" type="number"
                                (input)="addMinQuantity($event.target.value)">
                        </mat-form-field>
                    </div>

                    <!-- Live Imprint Comments -->
                    <div class="col-12">
                        <b>
                            Live Imprint Comments - 250 characters max
                        </b>
                    </div>
                    <div class="col-12">
                        <mat-form-field appearance="fill" class="w-full">
                            <textarea value="{{commentText}}" maxlength="250"
                                (input)="addImprintComments($event.target.value)" matInput rows="5"></textarea>
                        </mat-form-field>
                    </div>

                    <!-- Image -->
                    <div class="col-12">
                        <b>
                            <button [matTooltip]="'JPG, GIF, and PNG file types only!'">
                                <i class="fa fa-info-circle"></i>
                            </button>
                            Image (optional)
                        </b>
                    </div>
                    <div class="col-12">
                        <small class="leading-relaxed text-secondary font-semibold">
                            Add an image that will accompany the imprint for the user to use as reference when choosing
                            an imprint location.
                        </small>
                    </div>
                    <div class="col-12 my-3" style="line-height: 3.5;" *ngIf="!imageValue">
                        <input type="file" accept="image/png, image/gif, image/jpeg" (change)="uploadImage($event)">
                    </div>
                    <div class="col-12 my-3" *ngIf="imageValue">
                        <img style="width:50px; display: inline;" src="{{imageValue?.imageUpload}}" alt="">
                        <p class="text-red-500 cursor-pointer" (click)="removeAddImprintImage()">
                            Remove
                        </p>

                    </div>

                    <!-- Display Order -->
                    <div class="col-12">
                        <b>Display Order</b>
                    </div>
                    <div class="col-12">
                        <mat-form-field appearance="fill" class="w-full">
                            <input matInput value="{{displayOrder}}" type="number" min="1"
                                (input)="addImprintDisplayOrder($event.target.value)">
                        </mat-form-field>
                    </div>
                </div>
            </div>
            <div class="flex items-center justify-end w-full">
                <div class="flex items-center my-2">
                    <div class="flex items-center mr-4" *ngIf="flashMessage">
                        <ng-container *ngIf="flashMessage === 'success'">
                            <mat-icon class="text-green-500" [svgIcon]="'heroicons_outline:check'">
                            </mat-icon>
                            <span class="ml-2">Imprint Added successfully</span>
                        </ng-container>
                        <ng-container *ngIf="flashMessage === 'error'">
                            <mat-icon class="text-red-500" [svgIcon]="'heroicons_outline:x'"></mat-icon>
                            <span class="ml-2">An error occurred, try again!</span>
                        </ng-container>
                    </div>
                    <button class="min-w-40" mat-flat-button [color]="'primary'" [matTooltip]="'Add Imprint'"
                        (click)="addImprint()" [disabled]="addImprintLoader">
                        <mat-progress-spinner *ngIf="addImprintLoader" [diameter]="24" [mode]="'indeterminate'">
                        </mat-progress-spinner>
                        <mat-icon *ngIf="!addImprintLoader" svgIcon="heroicons_outline:plus"></mat-icon>
                        <span *ngIf="!addImprintLoader" class="ml-1 mr-1">Add Imprint</span>
                    </button>
                </div>
            </div>

        </div>
    </fuse-card>
</div>

<!-- Test Pricing -->
<div *ngIf="!isLoading && showImprintScreen == 'Test Pricing'">
    <fuse-card class="rounded-2xl shadow bg-card flex flex-col lg:flex-row w-full my-5"
        *ngIf="!istestPricingScreenLoader">
        <div class="p-6 sm:p-8 lg:p-10 w-full">
            <ngx-skeleton-loader count="8" appearance="line" animation="pulse" *ngIf="testPricingLoader">
            </ngx-skeleton-loader>
            <div class="text-2xl font-bold" *ngIf="!testPricingLoader">
                Select one or more Imprints
            </div>
            <!-- Features -->
            <div class="gap-y-4 mt-6" *ngIf="!testPricingLoader">
                <form [formGroup]="testPricingForm">
                    <div class="row w-full mb-5">
                        <div class="col-12">
                            <small class="leading-relaxed text-secondary font-semibold">*The process number is
                                required. (eg. 2 colors,
                                9000
                                stitches, 1 engraving, 1 debossing...)</small>
                        </div>
                    </div>
                    <div class="row w-full border-b py-1" *ngIf="testPricingDataSourceLength > 0">
                        <div class="col-lg-8 col-12">
                            <mat-form-field class="w-full" appearance="fill">
                                <mat-select name="data" [formControlName]="'optionOneFirst'">
                                    <mat-option *ngFor="let data of testPricingDataSource" [value]="data">
                                        {{data.locationName}} ({{data.methodName}})
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="col-lg-4 col-12">
                            <mat-form-field class="w-full" appearance="fill">
                                <mat-select name="number" [formControlName]="'optionOneSecond'">
                                    <mat-option *ngFor="let number of testPricingNumbers" [value]="number">
                                        {{number}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row w-full border-b my-2" *ngIf="testPricingDataSourceLength > 1">
                        <div class="col-lg-8 col-12">
                            <mat-form-field class="w-full" appearance="fill">
                                <mat-select name="data" [formControlName]="'optionTwoFirst'">
                                    <mat-option *ngFor="let data of testPricingDataSource" [value]="data">
                                        {{data.locationName}} ({{data.methodName}})
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="col-lg-4 col-12">
                            <mat-form-field class="w-full" appearance="fill">
                                <mat-select name="number" [formControlName]="'optionTwoSecond'">
                                    <mat-option *ngFor="let number of testPricingNumbers" [value]="number">
                                        {{number}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row w-full border-b my-2" *ngIf="testPricingDataSourceLength > 2">
                        <div class="col-lg-8 col-12">
                            <mat-form-field class="w-full" appearance="fill">
                                <mat-select name="data" [formControlName]="'optionThreeFirst'">
                                    <mat-option *ngFor="let data of testPricingDataSource" [value]="data">
                                        {{data.locationName}} ({{data.methodName}})
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="col-lg-4 col-12">
                            <mat-form-field class="w-full" appearance="fill">
                                <mat-select name="number" [formControlName]="'optionThreeSecond'">
                                    <mat-option *ngFor="let number of testPricingNumbers" [value]="number">
                                        {{number}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row w-full border-b my-2" *ngIf="testPricingDataSourceLength > 3">
                        <div class="col-lg-8 col-12">
                            <mat-form-field class="w-full" appearance="fill">
                                <mat-select name="data" [formControlName]="'optionFourFirst'">
                                    <mat-option *ngFor="let data of testPricingDataSource" [value]="data">
                                        {{data.locationName}} ({{data.methodName}})
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="col-lg-4 col-12">
                            <mat-form-field class="w-full" appearance="fill">
                                <mat-select name="number" [formControlName]="'optionFourSecond'">
                                    <mat-option *ngFor="let number of testPricingNumbers" [value]="number">
                                        {{number}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                </form>
            </div>
            <div class="flex items-center justify-end w-full">
                <button class="min-w-40" mat-stroked-button [matTooltip]="'Test pricing'" (click)="updateData()"
                    [disabled]="testPricingLoad">
                    <mat-progress-spinner *ngIf="testPricingLoad" [diameter]="24" [mode]="'indeterminate'">
                    </mat-progress-spinner>
                    <mat-icon *ngIf="!testPricingLoad" [svgIcon]="'mat_outline:edit'"></mat-icon>
                    <span *ngIf="!testPricingLoad" class="ml-1 mr-1">Update</span>
                </button>
            </div>
        </div>
    </fuse-card>

    <!-- Main -->
    <div class="inline-block w-full text-left my-5" *ngIf="istestPricingScreenLoader">

        <div class="flex justify-end">
            <button class="min-w-40" mat-stroked-button [matTooltip]="'Back to test pricing form'"
                (click)="backToTestPricingForm()">
                <span class="ml-1 mr-1">Back</span>
            </button>
        </div>

        <!-- Invoice -->
        <div class="w-full p-16 rounded-2xl shadow bg-card mt-5 min-w-240">

            <div class="flex items-start justify-between">
                <div class="grid grid-cols-2 gap-x-4 gap-y-1">
                    <div class="text-2xl tracking-tight text-secondary">Pricing</div>
                </div>
            </div>

            <div class="grid grid-cols-12 gap-x-1 mt-12 overflow-x-auto">
                <!-- Columns -->
                <div class="col-span-8 font-medium text-md text-secondary">PRODUCT</div>
                <div class="font-medium text-md text-right text-secondary">NET COST</div>
                <div class="font-medium text-md text-right text-secondary">RETAIL</div>
                <div class="col-span-2 font-medium text-md text-right text-secondary">PERCENTAGE</div>

                <!-- Divider -->
                <div class="col-span-12 my-4 border-b"></div>

                <!-- Item -->
                <div class="col-span-8">
                    <div class="text-md font-medium">Unit Base</div>
                </div>
                <div class="self-center text-left"> ${{priceInclusionObj.unibaseNetCost}} </div>
                <div class="self-center text-right"> ${{priceInclusionObj.unibaseRetail}} </div>

                <!-- Divider -->
                <div class="col-span-12 my-4 border-b-2"></div>

                <!-- Item -->
                <div class="col-span-8">
                    <div class="text-lg font-medium">Imprints</div>
                </div>
                <div class="col-span-12" *ngFor="let imprint of priceInclusionObj.imprints">
                    <!-- Divider -->
                    <div class="my-4 border-b"></div>
                    <div class="text-md font-semibold text-secondary">
                        &bull; {{imprint.imprintName}} | {{imprint.methodName}}
                    </div>

                    <div class="row">
                        <div class="col-8">
                            Unit Run
                        </div>
                        <div class="col-1">
                            ${{imprint.runCost}}
                        </div>
                        <div class="col-1">
                            ${{imprint.runPrice}}
                        </div>

                        <div class="col-8">
                            Setup
                        </div>
                        <div class="col-1">
                            ${{imprint.setupCost}}
                        </div>
                        <div class="col-1">
                            ${{imprint.setupPrice}}
                        </div>
                    </div>
                </div>

                <!-- Divider -->
                <div class="col-span-12 my-4 border-b-2"></div>

                <div class="col-span-8">
                    <div class="self-center font-medium tracking-tight text-secondary">TOTALS</div>
                </div>

                <!-- Item -->
                <div class="col-span-8 text-md font-medium">Base</div>
                <div class="self-center my-1 text-md text-left">${{priceInclusionObj.orderBaseCount}}</div>
                <div class="self-center my-1 text-md text-right">${{priceInclusionObj.orderBasePrice}}</div>
                <div class="col-span-2 self-center text-right">40.00%</div>

                <!-- Item -->
                <div class="col-span-8 text-md font-medium">Run</div>
                <div class="self-center my-1 text-md text-left">${{priceInclusionObj.orderRunCost}}</div>
                <div class="self-center my-1 text-md text-right">${{priceInclusionObj.orderRunPrice}}</div>

                <!-- Divider -->
                <div class="col-span-12 my-4 border-b-2"></div>

                <!-- Total -->
                <div class="col-span-8 text-md font-medium"></div>
                <div class="self-center my-1 text-1xl text-left"> ${{priceInclusionObj.orderBaseCount}} </div>
                <div class="self-center my-1 text-1xl text-right"> ${{priceInclusionObj.orderBasePrice}} </div>
                <div class="col-span-2 self-center text-1xl text-right">40.00%</div>

                <!-- Divider -->
                <div class="col-span-12 my-4 border-b"></div>

                <!-- Item -->
                <div class="col-span-8 text-md font-medium">Setup</div>
                <div class="self-center text-md text-left"> ${{priceInclusionObj.totalSetupCost}} </div>
                <div class="self-center text-md text-right"> ${{priceInclusionObj.totalSetupPrice}} </div>
                <div class="col-span-2 text-md self-center text-right">20.00%</div>

                <!-- Divider -->
                <div class="col-span-12 my-4 border-b"></div>

                <!-- Total -->
                <div class="col-span-8 self-center text-1xl font-medium tracking-tight text-secondary">
                    GRAND TOTAL
                </div>
                <div class="self-center text-1xl text-left"> ${{priceInclusionObj.orderGrandCost}} </div>
                <div class="self-center text-1xl text-right"> ${{priceInclusionObj.orderGrandTotal}} </div>
                <div class="col-span-2 text-1xl text-right font-medium">
                    {{priceInclusionObj.orderGrandPercentage}}%
                </div>

                <!-- Divider -->
                <div class="col-span-12 my-4 border-b-2"></div>

                <!-- Total -->
                <div class="col-span-10 self-center text-2xl font-medium tracking-tight text-secondary">
                    PROFIT
                </div>
                <div class="col-span-2 text-2xl text-right font-medium text-secondary">
                    ${{priceInclusionObj.profit}}
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Price Inclusion -->
<div *ngIf="!isLoading && showImprintScreen == 'Price Inclusion'">
    <fuse-card class="rounded-2xl shadow bg-card flex flex-col lg:flex-row w-full">
        <div class="p-6 sm:p-8 lg:p-10 w-full">
            <ngx-skeleton-loader count="8" appearance="line" animation="pulse" *ngIf="priceInclusionDataLoader">
            </ngx-skeleton-loader>
            <div class="text-2xl font-bold" *ngIf="!priceInclusionDataLoader">
                Price Inclusion
            </div>
            <!-- Features -->
            <div class="gap-y-4 mt-6" *ngIf="!priceInclusionDataLoader">
                <div class="row border-b" *ngFor="let data of priceInclusionFinalArray" style="overflow-x: auto;">
                    <div class="col-12 my-5">
                        <mat-checkbox [(ngModel)]="data.imprintObj.blnIncludable" (change)="selectPriceInclusion(data)">
                            <b class="my-5 text-secondary">
                                {{data.imprintObj.locationName}}/{{data.imprintObj.methodName}} -
                                {{data.imprintObj.companyName}}
                            </b>
                        </mat-checkbox>
                        <div class="row">
                            <div class="col-lg-3 col-12">
                                <b class="text-center">Setup</b>
                                <table class="my-5">
                                    <tr>
                                        <td></td>
                                        <th scope="col" class="bg-primary text-white text-center p-3">
                                            {{data.setup[0].productQuantity}}
                                        </th>
                                    </tr>
                                    <tr *ngFor="let setup of data.setup">
                                        <th scope="row" class="bg-primary text-white text-center p-3">
                                            {{setup.processQuantity}}</th>
                                        <td class="p-3 bg-gray-50">{{setup.charge}}</td>
                                    </tr>
                                </table>
                            </div>
                            <div class="col-lg-9 col-12">
                                <b class="text-center">Run</b>
                                <table class="my-5">
                                    <tr>
                                        <td></td>
                                        <th scope="col" class="bg-primary text-white text-center p-3"
                                            *ngFor="let horizontal of data.horizontalRunHeaders">
                                            <span class="px-2">{{horizontal}}</span>
                                        </th>
                                    </tr>
                                    <tr *ngFor="let values of data.combinedRunHeaders">
                                        <th scope="row" class="bg-primary text-white text-center p-3">
                                            {{values.verticalColumnValue}}
                                        </th>
                                        <td class="text-center bg-gray-50 p-3"
                                            *ngFor="let chargeValue of values.combinationArray">
                                            {{chargeValue[2]}}
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="flex items-center justify-end w-full" *ngIf="!priceInclusionDataLoader">
                <div class="flex items-center my-2">
                    <div class="flex items-center mr-4" *ngIf="flashMessage">
                        <ng-container *ngIf="flashMessage === 'success'">
                            <mat-icon class="text-green-500" [svgIcon]="'heroicons_outline:check'">
                            </mat-icon>
                            <span class="ml-2">Price Inclusion Updated successfully</span>
                        </ng-container>
                        <ng-container *ngIf="flashMessage === 'error'">
                            <mat-icon class="text-red-500" [svgIcon]="'heroicons_outline:x'"></mat-icon>
                            <span class="ml-2">An error occurred, try again!</span>
                        </ng-container>
                    </div>
                    <button class="min-w-40" mat-stroked-button [matTooltip]="'Update Price Inclusion'"
                        (click)="updatePriceInclusion()" [disabled]="priceInclusionUpdateLoader">
                        <mat-progress-spinner *ngIf="priceInclusionUpdateLoader" [diameter]="24"
                            [mode]="'indeterminate'">
                        </mat-progress-spinner>
                        <mat-icon *ngIf="!priceInclusionUpdateLoader" [svgIcon]="'mat_outline:edit'"></mat-icon>
                        <span *ngIf="!priceInclusionUpdateLoader" class="ml-1 mr-1">Update</span>
                    </button>
                </div>
            </div>
        </div>
    </fuse-card>
</div>

<!-- Overlapping -->
<div *ngIf="!isLoading && showImprintScreen == 'Overlapping'">
    <ngx-skeleton-loader count="8" appearance="line" animation="pulse" *ngIf="overLapDataFetchLoader">
    </ngx-skeleton-loader>
    <fuse-card class="rounded-2xl shadow bg-card flex flex-col lg:flex-row w-full" *ngIf="!overLapDataFetchLoader">
        <div class="w-full">
            <div class="text-2xl font-bold p-6 sm:p-8 lg:p-10">
                Overlapping
            </div>
            <!-- Features -->
            <div class="gap-y-4 mt-6 overflow-x-auto">
                <table class="overflow-auto" *ngIf="overlappingIterativeData.length">
                    <div *ngFor="let data of overlappingIterativeData; let i = index; first as isFirst">
                        <tr *ngIf="isFirst">
                            <td></td>
                            <th style="padding-left: 50px;" scope="col"
                                class="bg-primary text-white overflow-hidden text-center p-3 min-w-24 max-w-24"
                                *ngFor="let location of overlappingIterativeData">
                                <span class="text-cut" matTooltip="{{location.locationName}}" style="font-size: 10px;">
                                    {{location.locationName}} </span>
                            </th>
                        </tr>
                        <tr>
                            <th scope="col" class="bg-primary text-white p-3 min-w-30 max-w-30">
                                <span class="text-cut" style="font-size: 10px;" matTooltip="{{data.locationName}}">
                                    {{data.locationName}} </span>
                            </th>
                            <td class="text-center" style="min-width: 100px;"
                                *ngFor="let inner of data.overlappedArray; let j = index;">
                                <span *ngIf="j <= i">
                                    <mat-checkbox (change)='checkBoxOverlap(inner, data)' [disabled]="j == i"
                                        [checked]="j == i || inner.isSelected">
                                    </mat-checkbox>
                                </span>
                            </td>
                        </tr>
                    </div>
                </table>
                <span class="text-secondary font-semibold" *ngIf="!overlappingIterativeData.length">
                    Overlapping data is not available
                </span>
            </div>
            <div class="flex items-center justify-end w-full p-6">
                <div class="flex items-center my-2">
                    <div class="flex items-center mr-4" *ngIf="flashMessage">
                        <ng-container *ngIf="flashMessage === 'success'">
                            <mat-icon class="text-green-500" [svgIcon]="'heroicons_outline:check'">
                            </mat-icon>
                            <span class="ml-2">Imprints Overlapped successfully</span>
                        </ng-container>
                        <ng-container *ngIf="flashMessage === 'error'">
                            <mat-icon class="text-red-500" [svgIcon]="'heroicons_outline:x'"></mat-icon>
                            <span class="ml-2">An error occurred, try again!</span>
                        </ng-container>
                    </div>
                    <button class="min-w-40" mat-stroked-button [matTooltip]="'Overlap the locations'"
                        (click)="updateOverlapping()"
                        [disabled]="overlappingUpdateLoader || !overlappingIterativeData.length">
                        <mat-progress-spinner *ngIf="overlappingUpdateLoader" [diameter]="24" [mode]="'indeterminate'">
                        </mat-progress-spinner>
                        <mat-icon *ngIf="!overlappingUpdateLoader" [svgIcon]="'mat_outline:edit'"></mat-icon>
                        <span *ngIf="!overlappingUpdateLoader" class="ml-1 mr-1">Update</span>
                    </button>
                </div>
            </div>
        </div>
    </fuse-card>
</div>

<!-- Display Order -->
<div *ngIf="!isLoading && showImprintScreen == 'Display Order'">
    <div class="row">
        <div class="col-12">
            <mat-card class="w-full mb-10 p-0 h-full rounded-2xl shadow">
                <div class="row">
                    <div class="col-lg-9 col-12">
                        <div class="text-2xl font-bold p-5">
                            Imprint Display Order
                        </div>
                    </div>
                    <div class="col-lg-3 col-12 p-5" *ngIf="dataSource2.length">
                        <button class="min-w-40 w-full" mat-flat-button [color]="'primary'"
                            [matTooltip]="'Update Imprints Display Order'" (click)="updateImprintDisplay()"
                            [disabled]="displayOrderUpdateLoader">
                            <mat-progress-spinner *ngIf="displayOrderUpdateLoader" [diameter]="24"
                                [mode]="'indeterminate'">
                            </mat-progress-spinner>
                            <mat-icon *ngIf="!displayOrderUpdateLoader" svgIcon="mat_outline:edit"></mat-icon>
                            <span *ngIf="!displayOrderUpdateLoader" class="ml-1 mr-1">Update</span>
                        </button>
                    </div>
                </div>
                <div *ngIf="dataSource2.length > 0;else other_content1">
                    <table mat-table [dataSource]="dataSource2" class="w-full border-t">

                        <!-- Color Column -->
                        <ng-container matColumnDef="id">
                            <th mat-header-cell *matHeaderCellDef
                                class="w-24 min-w-24 bg-gray-50 dark:bg-black dark:bg-opacity-5"> ID </th>
                            <td mat-cell *matCellDef="let element"> {{element.pk_imprintID}} </td>
                        </ng-container>

                        <!-- Run Column -->
                        <ng-container matColumnDef="name">
                            <th mat-header-cell *matHeaderCellDef
                                class="w-24 min-w-24 bg-gray-50 dark:bg-black dark:bg-opacity-5"> Name </th>
                            <td mat-cell *matCellDef="let element"> {{element.methodName}}/{{element.locationName}}
                            </td>
                        </ng-container>

                        <!-- Hex Column -->
                        <ng-container matColumnDef="decorator">
                            <th mat-header-cell *matHeaderCellDef
                                class="w-24 min-w-24 bg-gray-50 dark:bg-black dark:bg-opacity-5"> Decorator </th>
                            <td mat-cell *matCellDef="let element"> {{element.companyName}} </td>
                        </ng-container>

                        <!-- Active -->
                        <ng-container matColumnDef="order">
                            <th mat-header-cell *matHeaderCellDef
                                class="w-10 min-w-10 bg-gray-50 dark:bg-black dark:bg-opacity-5"> Order </th>
                            <td mat-cell *matCellDef="let element">
                                <mat-form-field class="w-2/3 mt-2" appearance="fill">
                                    <input matInput type="number" placeholder="Order#"
                                        (change)="onChangeEvent($event, element)" value="{{element.displayOrder}}">
                                </mat-form-field>
                            </td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="imprintDisplayedColumns;" class="h-18"></tr>
                        <tr mat-row *matRowDef="let row; columns: imprintDisplayedColumns;"
                            class="h-14 hover:bg-gray-100 dark:hover:bg-hover" style="cursor: pointer;">
                        </tr>
                    </table>
                    <mat-paginator
                        class="sm:absolute sm:inset-x-0 border-b sm:border-t sm:border-b-0 z-10 bg-gray-50 dark:bg-transparent"
                        [ngClass]="{'pointer-events-none': isLoading}" [length]="dataSource2Length" [pageIndex]="0"
                        [pageSize]="10" (page)="getDisplayNextData($event)" [hidePageSize]="true">
                    </mat-paginator>
                </div>
                <ng-template #other_content1>
                    <div class="text-secondary font-semibold p-5">
                        *No imprint display orders for this product.
                    </div>
                </ng-template>
            </mat-card>
        </div>
    </div>
</div>
<!-- Imprints List -->
<div *ngIf="!isLoading && showImprintScreen == 'Imprints'">
    <fuse-card class="rounded-2xl shadow bg-card flex flex-col lg:flex-row w-full"
        *ngIf="isEditImprintScreen && !isImprintDetails">
        <div class="p-6 sm:p-8 lg:p-10 w-full">
            <div class="row">
                <div class="col-lg-10 col-12">
                    <div class="text-2xl font-bold">
                        Edit Imprint
                    </div>
                </div>
                <div class="col-lg-2 col-12">
                    <div class="text-2xl font-bold text-secondary">
                        #{{editImprintObj.pk_imprintID}}
                    </div>
                </div>
            </div>
            <div class="row my-2 justify-end">
                <div class="col-3">
                    <button class="min-w-40 w-full" mat-flat-button [color]="'primary'"
                        [matTooltip]="'Back to imprints list'" (click)="showImprintList()">
                        <span>Back to Imprints</span>
                    </button>
                </div>
            </div>
            <!-- Features -->
            <div class="gap-y-4 mt-6">
                <div class="row">
                    <!-- Decorator -->
                    <div class="col-12">
                        <b>Decorator <span *ngIf="!suppliers.length" class="text-sm text-secondary font-semibold ml-2">
                                (Fetching Decorators...) </span> </b>
                    </div>
                    <div class="col-12">
                        <mat-form-field class="w-full" appearance="fill">
                            <mat-select [(ngModel)]="selectedSupplier" name="supplier"
                                [disabled]="suppliers.length ? false : true">
                                <mat-option *ngFor="let supplier of suppliers" [value]="supplier">
                                    <small>{{supplier.companyName}}</small>
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>

                    <!-- Imprint Method -->
                    <div class="col-12">
                        <b>
                            <button
                                [matTooltip]="'To add a new method, select (NEW METHOD) in the menu and then enter the name in the box to the right'">
                                <i class="fa fa-info-circle"></i>
                            </button>
                            Imprint Method
                            <!-- <span *ngIf="!addImprintMethods.length"
                                class="text-sm text-secondary font-semibold ml-2"> (Fetching Methods...) </span> -->
                        </b>
                    </div>
                    <div class="col-lg-6 col-12">
                        <!-- <mat-form-field class="w-full" appearance="fill">
                            <input type="text" placeholder="Imprint Method" aria-label="Number" matInput
                                [formControl]="methodControl" [matAutocomplete]="auto"
                                [readonly]="addImprintMethods.length ? false : true">
                            <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
                                <mat-option *ngFor="let method of methodFilteredOptions | async"
                                    [value]="method.methodName" (click)="methodSelected(method)">
                                    <small>{{method.methodName}}
                                        ({{method.pk_methodID}})</small>
                                </mat-option>
                            </mat-autocomplete>
                        </mat-form-field> -->
                        <mat-form-field class="w-full">
                            <input matInput placeholder="Imprint Method" [matAutocomplete]="auto2"
                                [formControl]="methodSearchControl">
                            <mat-hint *ngIf="selectedMethod">{{selectedMethod.methodName}}
                                ({{selectedMethod.pk_methodID}})</mat-hint>
                            <mat-autocomplete class="w-full" #auto2="matAutocomplete"
                                (optionSelected)="methodSelected($event.option.value)">
                                <mat-option *ngIf="isMethodLoading" class="is-loading">Loading...</mat-option>
                                <ng-container *ngIf="!isMethodLoading">
                                    <mat-option *ngFor="let method of addImprintMethods" [value]="method">
                                        <small>{{method.methodName}}
                                            ({{method.pk_methodID}})</small>
                                    </mat-option>
                                </ng-container>
                            </mat-autocomplete>
                        </mat-form-field>
                    </div>
                    <div class="col-lg-6 col-12">
                        <mat-form-field appearance="fill" class="w-full">
                            <input matInput placeholder="New Method Name"
                                [disabled]="selectedMethod?.pk_methodID != null" [(ngModel)]="method_name">
                        </mat-form-field>
                    </div>

                    <!-- Location -->
                    <div class="col-12">
                        <b>
                            <button
                                [matTooltip]="'To add a new location, select (NEW LOCATION) in the menu and then enter the name in the box to the right'">
                                <i class="fa fa-info-circle"></i>
                            </button>
                            Location
                            <!-- <span *ngIf="!addImprintLocations.length"
                                class="text-sm text-secondary font-semibold ml-2"> (Fetching Locations...) </span> -->
                        </b>
                    </div>
                    <div class="col-lg-6 col-12">
                        <!-- <mat-form-field class="w-full" appearance="fill">
                            <input type="text" placeholder="Imprint Location" aria-label="Number" matInput
                                [formControl]="locationControl" [matAutocomplete]="auto1"
                                [readonly]="addImprintLocations.length ? false : true">
                            <mat-autocomplete autoActiveFirstOption #auto1="matAutocomplete">
                                <mat-option *ngFor="let location of locationFilteredOptions | async"
                                    [value]="location.locationName" (click)="locationSelected(location)">
                                    <small>{{location.locationName}}
                                        ({{location.pk_locationID}})</small>
                                </mat-option>
                            </mat-autocomplete>
                        </mat-form-field> -->
                        <mat-form-field class="w-full">
                            <input matInput placeholder="Imprint Location" [matAutocomplete]="auto1"
                                [formControl]="locationSearchControl">
                            <mat-hint *ngIf="selectedLocation">{{selectedLocation.locationName}}
                                ({{selectedLocation.pk_locationID}})</mat-hint>
                            <mat-autocomplete class="w-full" #auto1="matAutocomplete"
                                (optionSelected)="locationSelected($event.option.value)">
                                <mat-option *ngIf="isLoadings" class="is-loading">Loading...</mat-option>
                                <ng-container *ngIf="!isLoadings">
                                    <mat-option *ngFor="let location of addImprintLocations" [value]="location">
                                        <small>{{location.locationName}}
                                            ({{location.pk_locationID}})</small>
                                    </mat-option>
                                </ng-container>
                            </mat-autocomplete>
                        </mat-form-field>
                    </div>
                    <div class="col-lg-6 col-12">
                        <mat-form-field appearance="fill" class="w-full">
                            <input matInput [disabled]="selectedLocation?.pk_locationID != null"
                                placeholder="New Location Name" [(ngModel)]="location_name">
                        </mat-form-field>
                    </div>

                    <!-- Imprint Area -->
                    <div class="col-12">
                        <b>Imprint Area (max)</b>
                    </div>
                    <div class="col-12">
                        <mat-form-field appearance="fill" class="w-full">
                            <input matInput [(ngModel)]="areaValue" (input)="addArea($event.target.value)">
                        </mat-form-field>
                    </div>

                    <!-- Details -->
                    <div class="col-12">
                        <b>How are the charges applied?</b>
                    </div>
                    <div class="col-12">
                        <mat-radio-group aria-labelledby="example-radio-group-label" class="example-radio-group"
                            [(ngModel)]="favoriteSeason">
                            <mat-radio-button class="example-radio-button" *ngFor="let season of seasons"
                                [value]="season">
                                {{season}}
                            </mat-radio-button>
                        </mat-radio-group>
                    </div>

                    <div class="col-12 py-3">
                        <!-- Quantity restrictions -->

                        <div class="row"
                            *ngIf="favoriteSeason === 'Per color (i.e. silk screening, pad printing, etc.)'">
                            <div class="col-12">
                                <button
                                    [matTooltip]="'Set all quantities to1 if no restrictions. Use quantity=1 instead of product minimum quantity'">
                                    <i class="fa fa-info-circle"></i>
                                </button>
                                <b class="pl-1">Quantity restrictions for multiple colors</b>
                            </div>
                        </div>
                        <div class="row my-2"
                            *ngIf="favoriteSeason === 'Per color (i.e. silk screening, pad printing, etc.)'">
                            <div class="col-lg-3 col-12">
                                <b class="text-secondary"># of Colors</b>
                            </div>
                            <div class="col-9"></div>

                            <form [formGroup]="values">
                                <div class="row">
                                    <div class="col-3">
                                        <p class="font-semibold" style="line-height: 3.5;">Min Product Qty</p>
                                    </div>
                                    <div class="col-2">
                                        <mat-form-field appearance="fill" class="w-full">
                                            <mat-label>Two</mat-label>
                                            <input matInput type="number" min="1" value="1"
                                                [formControlName]="'twoColorQ'">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-2">
                                        <mat-form-field appearance="fill" class="w-full">
                                            <mat-label>Three</mat-label>
                                            <input matInput type="number" min="1" value="1"
                                                [formControlName]="'threeColorQ'">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-2">
                                        <mat-form-field appearance="fill" class="w-full">
                                            <mat-label>Four</mat-label>
                                            <input matInput type="number" min="1" value="1"
                                                [formControlName]="'fourColorQ'">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-2">
                                        <mat-form-field appearance="fill" class="w-full">
                                            <mat-label>Five</mat-label>
                                            <input matInput type="number" min="1" value="1"
                                                [formControlName]="'fiveColorQ'">
                                        </mat-form-field>
                                    </div>
                                </div>
                            </form>
                        </div>

                        <!-- Digitizer -->
                        <div class="row" *ngIf="favoriteSeason === 'Per Stitch (embroidering)'">
                            <div class="col-12">
                                <b>Digitizer</b>
                            </div>
                        </div>
                        <div class="row" *ngIf="favoriteSeason === 'Per Stitch (embroidering)'">
                            <div class="col-12">
                                <mat-form-field class="w-full" appearance="fill">
                                    <mat-select [(ngModel)]="selectedDigitizer" name="food"
                                        [disabled]="addImprintDigitizers.length ? false : true">
                                        <mat-option *ngFor="let digitzier of addImprintDigitizers" [value]="digitzier">
                                            {{digitzier.companyName}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>

                    <div class="col-12 mt-2">
                        <b>Does the user need to specify imprint colors?</b>
                    </div>
                    <div class="col-12">
                        <mat-radio-group aria-labelledby="example-radio-group-label" class="example-radio-group"
                            [(ngModel)]="defaultImprintColorSpecification">
                            <mat-radio-button class="example-radio-button"
                                *ngFor="let imprintOption of specifyImrpintArray" [value]="imprintOption">
                                {{imprintOption}}
                            </mat-radio-button>
                        </mat-radio-group>
                    </div>
                    <div class="col-12 my-2" *ngIf="defaultImprintColorSpecification === 'Yes'">
                        <mat-form-field class="w-full">
                            <mat-label>Max Colors</mat-label>
                            <mat-select [(ngModel)]="maxColorSelected" name="maxColor">
                                <mat-option *ngFor="let maxColor of maxColors" [value]="maxColor">
                                    {{maxColor}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>

                    <div class="col-12 my-2" *ngIf="defaultImprintColorSpecification === 'Yes'">
                        <div>
                            <button class="min-w-40" mat-flat-button [color]="'primary'"
                                [matTooltip]="'Get Imprint Color Collection Ids'" (click)="generateCollectionId()"
                                [disabled]="getImprintColorCollectionLoader">
                                <mat-progress-spinner *ngIf="getImprintColorCollectionLoader" [diameter]="24"
                                    [mode]="'indeterminate'">
                                </mat-progress-spinner>
                                <span *ngIf="!getImprintColorCollectionLoader" class="ml-1 mr-1">
                                    Color Collection ID
                                </span>
                            </button>
                        </div>
                        <div *ngIf="!collectionIdsArray.length">
                            <small class="font-semibold ml-3">
                                * No collections available. Click on the button to generate list of collections
                            </small>
                        </div>
                        <div *ngIf="collectionIdsArray.length">
                            <mat-form-field class="w-full" *ngIf="collectionIdsArray.length">
                                <mat-label>
                                    IMPRINT COLOR COLLECTIONS
                                </mat-label>
                                <mat-select [(ngModel)]="selectedCollectionId" name="collection">
                                    <mat-option *ngFor="let collection of collectionIdsArray" [value]="collection">
                                        <small>{{collection.collectionName}} ({{collection.fk_collectionID}})</small>
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="my-1">
                            <mat-form-field class="w-full">
                                <input matInput placeholder="Enter Collection ID" [(ngModel)]='customColorId'>
                            </mat-form-field>
                        </div>
                    </div>

                    <!-- Imprint order itself -->
                    <div class="col-12 my-2 mt-4">
                        <b>Can this imprint be ordered by itself?</b>
                    </div>
                    <div class="col-12">
                        <small class="leading-relaxed text-secondary font-semibold">
                            *This option determines whether this imprint can be ordered by itself. For example, if the
                            location of this imprint is "second side," this implies that there must be a first side, and
                            so it cannot be ordered by itself.
                        </small>
                    </div>
                    <div class="col-12">
                        <mat-radio-group aria-labelledby="example-radio-group-label" class="example-radio-group"
                            [(ngModel)]="imprintItselfSelected">
                            <mat-radio-button class="example-radio-button"
                                *ngFor="let imprintItselfVal of imprintItself" [value]="imprintItselfVal">
                                {{imprintItselfVal.imprintItselfText}}
                            </mat-radio-button>
                        </mat-radio-group>
                    </div>

                    <!-- Imprint order itself -->
                    <div class="col-12">
                        <b>Price Inclusion?</b>
                    </div>
                    <div class="col-12">
                        <mat-radio-group aria-labelledby="example-radio-group-label" class="example-radio-group"
                            [(ngModel)]="priceInclusionSelected">
                            <mat-radio-button class="example-radio-button"
                                *ngFor="let priceInclusion of priceInclusionArray" [value]="priceInclusion">
                                {{priceInclusion.priceInclusionText}}
                            </mat-radio-button>
                        </mat-radio-group>
                    </div>

                    <!-- Charge Distributions -->
                    <div class="col-12 my-2">
                        <button [matTooltip]="'Enter an imprint charge and corresponding discount code to find existing charge
                                distributions that include it. For example for a silk-screened additional color/location
                                charge of $0.25(G), enter 0.25, select G and click the button.'">
                            <i class="fa fa-info-circle"></i>
                        </button>
                        <b class="pl-1">Charge Distributions</b>
                    </div>
                    <div class="col-12">
                        <small class="text-danger font-semibold">
                            * When setup/run charges are $0.00, please type code "17" in the respective field.
                        </small>
                    </div>
                    <!-- (click)="getRunSetup()" -->
                    <div class="col-lg-3 col-12 my-2" *ngIf="!runSetupDistributorCodes.length">
                        <button class="w-full" mat-flat-button [color]="'primary'" [matTooltip]="'Add run/setup'"
                            (click)="openModal()" [disabled]="runSetupLoaderFetching">
                            <mat-progress-spinner *ngIf="runSetupLoaderFetching" [diameter]="24"
                                [mode]="'indeterminate'">
                            </mat-progress-spinner>
                            <span *ngIf="!runSetupLoaderFetching" class="ml-1 mr-1">
                                Add Run/Setup
                            </span>
                        </button>
                    </div>
                    <div class="col-lg-9 col-12"></div>
                    <div class="col-lg-4 my-2" *ngIf="runSetupDistributorCodes.length">
                        <form [formGroup]="chargeDistribution">
                            <mat-form-field appearance="fill" class="w-full">
                                <mat-label>Charge</mat-label>
                                <input matInput [formControlName]="'charge'" type="number" value="0">
                            </mat-form-field>
                        </form>
                    </div>
                    <div class="col-lg-4 my-2" *ngIf="runSetupDistributorCodes.length">
                        <mat-form-field class="w-full">
                            <mat-label>Cost</mat-label>
                            <mat-select [(ngModel)]="selectedDiscountCode" name="collection">
                                <mat-option *ngFor="let code of runSetupDistributorCodes" [value]="code">
                                    <small>{{code.distrDiscountCode}}</small>
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class="col-lg-4 col-12 lg:mt-4 lg:pt-5" *ngIf="runSetupDistributorCodes.length">
                        <button class="w-full" mat-flat-button [color]="'primary'" [matTooltip]="'Get all charges'"
                            (click)="getCharges()" [disabled]="getChargesLoader">
                            <mat-progress-spinner *ngIf="getChargesLoader" [diameter]="24" [mode]="'indeterminate'">
                            </mat-progress-spinner>
                            <span *ngIf="!getChargesLoader" class="ml-1 mr-1">
                                Get Charges
                            </span>
                        </button>
                    </div>

                    <form [formGroup]="runSetup" class="w-full">
                        <div class="row px-4">
                            <div class="col-lg-6 col-12 my-2">
                                <mat-form-field appearance="fill" class="w-full">
                                    <mat-label>Setup</mat-label>
                                    <input matInput [formControlName]="'setup'" type="number">
                                </mat-form-field>
                            </div>
                            <div class="col-lg-6 col-12 my-2">
                                <mat-form-field appearance="fill" class="w-full">
                                    <mat-label>Run</mat-label>
                                    <input matInput [formControlName]="'run'" type="number">
                                </mat-form-field>
                            </div>
                        </div>
                    </form>

                    <div class="col-12 p-5 my-5 border-2 d-flex overflow-x-auto" style="max-height: 500px;"
                        *ngIf="chargesTableArray.length">
                        <div class="border-2 mx-5" *ngFor="let chargeData of chargesTableArray">
                            <div class="row">
                                <div class="col-12">
                                    <p class="text-1xl font-semibold text-center bg-gray-100 p-3">
                                        {{chargeData.chargeId}}
                                    </p>
                                </div>
                                <div class="col-12">
                                    <a href="" class="mx-2 text-sm" (click)="setRun($event,chargeData.chargeId)"> +
                                        Run</a>
                                </div>
                                <div class="col-12">
                                    <a href="" class="ml-2 text-sm" (click)="setSetup($event,chargeData.chargeId)"> +
                                        Setup</a>
                                </div>
                            </div>
                            <table class="m-2 w-2/4">
                                <col>
                                <colgroup span="1"></colgroup>
                                <colgroup span="1"></colgroup>
                                <tr>
                                    <th scope="col" class="bg-primary text-white text-center"></th>
                                    <th scope="col" class="bg-primary text-white text-center p-3"
                                        *ngFor="let productQuantity of chargeData.uniqueProductQuantities">
                                        {{productQuantity}}
                                    </th>
                                </tr>
                                <tr *ngFor="let rowFill of chargeData.rowsRendering">
                                    <th scope="row" class="bg-primary text-white text-center p-3">
                                        {{rowFill.verticalColumnName}}
                                    </th>
                                    <td class="p-3 bg-gray-50 text-center"
                                        *ngFor="let rowChargeValue of rowFill.renderedArray">
                                        {{rowChargeValue[2]}}
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>

                    <!-- Minimum Product Quantity -->
                    <div class="col-12 mt-3">
                        <b>
                            <button
                                [matTooltip]="'Other than one (1) only if this imprint requires a product qty more than the min'">
                                <i class="fa fa-info-circle"></i>
                            </button>
                            Minimum Product Quantity
                        </b>
                    </div>
                    <div class="col-12">
                        <mat-form-field appearance="fill" class="w-full">
                            <input matInput value="{{minValue}}" type="number"
                                (input)="addMinQuantity($event.target.value)">
                        </mat-form-field>
                    </div>

                    <!-- Live Imprint Comments -->
                    <div class="col-12">
                        <b>
                            Live Imprint Comments - 250 characters max
                        </b>
                    </div>
                    <div class="col-12">
                        <mat-form-field appearance="fill" class="w-full">
                            <textarea value="{{commentText}}" maxlength="250"
                                (input)="addImprintComments($event.target.value)" matInput rows="5"></textarea>
                        </mat-form-field>
                    </div>

                    <!-- Status -->
                    <div class="col-12">
                        <b>Status</b>
                    </div>
                    <div class="col-12">
                        <small class="leading-relaxed text-secondary font-semibold">
                            An imprint will need to be disabled instead of deleted when it's currently unavailable for
                            an online product, but the imprint has been ordered in the past and is thus reference in an
                            order.
                        </small>
                    </div>
                    <div class="col-12">
                        <mat-form-field>
                            <mat-select matInput [(ngModel)]="blnStatus">
                                <mat-option [value]="true">Active</mat-option>
                                <mat-option [value]="false">Disabled</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <!-- Image -->
                    <div class="col-12">
                        <b>
                            <button [matTooltip]="'JPG, GIF, and PNG file types only!'">
                                <i class="fa fa-info-circle"></i>
                            </button>
                            Image (optional)
                        </b>
                    </div>
                    <div class="col-12">
                        <small class="leading-relaxed text-secondary font-semibold">
                            Add an image that will accompany the imprint for the user to use as reference when choosing
                            an imprint location.
                        </small>
                    </div>
                    <div class="col-12 my-3" style="line-height: 3.5;" *ngIf="!imageValue">
                        <input type="file" accept="image/png, image/gif, image/jpeg" (change)="uploadImage($event)">
                    </div>
                    <div class="col-12 my-3" *ngIf="imageValue">
                        <img style="width:50px; display: inline;" src="{{imageValue?.imageUpload}}" alt="">
                        <p class="text-red-500 cursor-pointer" (click)="removeAddImprintImage()">
                            Remove
                        </p>
                    </div>


                    <!-- Display Order -->
                    <div class="col-12">
                        <b>Display Order</b>
                    </div>
                    <div class="col-12">
                        <mat-form-field appearance="fill" class="w-full">
                            <input matInput value="{{displayOrder}}" type="number" min="1"
                                (input)="addImprintDisplayOrder($event.target.value)">
                        </mat-form-field>
                    </div>
                </div>
            </div>
            <div class="flex items-center justify-end w-full">
                <div class="flex items-center my-2">
                    <div class="flex items-center mr-4" *ngIf="flashMessage">
                        <ng-container *ngIf="flashMessage === 'success'">
                            <mat-icon class="text-green-500" [svgIcon]="'heroicons_outline:check'">
                            </mat-icon>
                            <span class="ml-2">Imprint Updated successfully</span>
                        </ng-container>
                        <ng-container *ngIf="flashMessage === 'error'">
                            <mat-icon class="text-red-500" [svgIcon]="'heroicons_outline:x'"></mat-icon>
                            <span class="ml-2">An error occurred, try again!</span>
                        </ng-container>
                    </div>
                    <button class="min-w-40" mat-flat-button [color]="'primary'" [matTooltip]="'Update Imprint'"
                        (click)="updateImprint()" [disabled]="updateImprintLoader">
                        <mat-progress-spinner *ngIf="updateImprintLoader" [diameter]="24" [mode]="'indeterminate'">
                        </mat-progress-spinner>
                        <mat-icon *ngIf="!updateImprintLoader" svgIcon="heroicons_outline:pencil-alt"></mat-icon>
                        <span *ngIf="!updateImprintLoader" class="ml-1 mr-1">Update Imprint</span>
                    </button>
                </div>
            </div>

        </div>
    </fuse-card>


    <div class="row my-2 mx-4" *ngIf="!isEditImprintScreen && !isImprintDetails && !isContentLoading">
        <div class="col-lg-5 col-12">
            <mat-slide-toggle (change)="onToggleAllow($event)" [(ngModel)]="allowRunBoolean">
                Run in group?
            </mat-slide-toggle>
        </div>
        <div class="col-lg-4 col-12"></div>
        <div class="col-lg-3 col-6">
            <button class="min-w-40 w-full" mat-flat-button color="'primary'" [matTooltip]="'Remove All Imprints'"
                (click)="deletAllImprints()" [disabled]="deleteLoader || !dataSource.length">
                <mat-progress-spinner *ngIf="deleteLoader" [diameter]="24" [mode]="'indeterminate'">
                </mat-progress-spinner>
                <mat-icon *ngIf="!deleteLoader" svgIcon="heroicons_outline:trash"></mat-icon>
                <span *ngIf="!deleteLoader" class="ml-1 mr-1">Remove All</span>
            </button>
        </div>
    </div>
    <div class="row" *ngIf="!isEditImprintScreen && !isImprintDetails && !isContentLoading">
        <div class="col-12">
            <mat-card class="w-full mb-10 p-0 h-full rounded-2xl shadow">
                <div class="row">
                    <div class="col-12">
                        <div class="text-2xl font-bold p-5">
                            Imprints
                        </div>
                    </div>
                </div>
                <div *ngIf="dataSource.length > 0;else other_content">
                    <table mat-table [dataSource]="dataSource" class="w-full border-t">

                        <!-- Color Column -->
                        <ng-container matColumnDef="location">
                            <th mat-header-cell *matHeaderCellDef
                                class="w-24 min-w-24 bg-gray-50 dark:bg-black dark:bg-opacity-5"> Location </th>
                            <td mat-cell *matCellDef="let element"> {{element.locationName}} </td>
                        </ng-container>

                        <!-- Run Column -->
                        <ng-container matColumnDef="method">
                            <th mat-header-cell *matHeaderCellDef
                                class="w-24 min-w-24 bg-gray-50 dark:bg-black dark:bg-opacity-5"> Method </th>
                            <td mat-cell *matCellDef="let element"> {{element.methodName}} </td>
                        </ng-container>

                        <!-- Hex Column -->
                        <ng-container matColumnDef="decorator">
                            <th mat-header-cell *matHeaderCellDef
                                class="w-40 min-w-40 bg-gray-50 dark:bg-black dark:bg-opacity-5"> Decorator </th>
                            <td mat-cell *matCellDef="let element"> {{element.companyName}} </td>
                        </ng-container>

                        <!-- Active -->
                        <ng-container matColumnDef="active">
                            <th mat-header-cell *matHeaderCellDef
                                class="w-10 min-w-10 bg-gray-50 dark:bg-black dark:bg-opacity-5"> Status </th>
                            <td mat-cell *matCellDef="let element">
                                <!-- <mat-slide-toggle [(ngModel)]="element.blnActive" (change)="onTogglePromoStandards($event)" >
                                </mat-slide-toggle> -->
                                <mat-icon class="text-green-400 icon-size-5" *ngIf="element.blnActive"
                                    [svgIcon]="'heroicons_solid:check'"></mat-icon>
                                <mat-icon class="text-red-400 icon-size-5" *ngIf="!element.blnActive"
                                    [svgIcon]="'heroicons_solid:x'"></mat-icon>
                            </td>
                        </ng-container>

                        <!-- Action -->
                        <ng-container matColumnDef="action">
                            <th mat-header-cell *matHeaderCellDef
                                class="w-10 min-w-10 bg-gray-50 dark:bg-black dark:bg-opacity-5"> Action </th>
                            <td mat-cell *matCellDef="let element">
                                <!-- <button class="px-3 mr-1" mat-button (click)="editImprint(element)"> -->
                                <mat-icon (click)="editImprint(element)" matTooltip="Edit Imprint"
                                    class="icon-size-1 text-gray-500 mr-1 cursor-pointer"
                                    style="min-width: 20px; min-height: 20px;width:20px;height:20px"
                                    svgIcon="mat_outline:edit">
                                </mat-icon>
                                <!-- </button> -->
                                <!-- <button class="px-3 mr-1" mat-button (click)="viewImprintDetails(element)"> -->
                                <mat-icon matTooltip="View Details"
                                    class="icon-size-1 text-gray-500 mr-1 cursor-pointer"
                                    (click)="viewImprintDetails(element)" svgIcon="mat_outline:remove_red_eye"
                                    style="min-width: 20px; min-height: 20px;width:20px;height:20px">
                                </mat-icon>
                                <!-- </button> -->
                                <!-- <mat-icon class="icon-size-1 text-gray-500" svgIcon="mat_outline:delete">
                                </mat-icon> -->
                            </td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="displayedColumns;" class="h-18"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"
                            class="h-14 hover:bg-gray-100 dark:hover:bg-hover" style="cursor: pointer;">
                        </tr>
                    </table>
                    <mat-paginator
                        class="sm:absolute sm:inset-x-0 border-b sm:border-t sm:border-b-0 z-10 bg-gray-50 dark:bg-transparent"
                        [length]="dataSourceLength" [pageIndex]="0" [pageSize]="20" (page)="getNextData($event)"
                        [hidePageSize]="true">
                    </mat-paginator>
                </div>

                <ng-template #other_content>
                    <div class="text-secondary font-semibold p-5">
                        *No imprint list for this product.
                    </div>
                </ng-template>
            </mat-card>
        </div>
    </div>
    <!-- Imprint Details -->
    <div class="row w-full mx-4" *ngIf="isImprintDetails && !isEditImprintScreen">
        <div class="col-12 text-right w-full">
            <button class="min-w-40" mat-flat-button [color]="'primary'" [matTooltip]="'Back to imprints list'"
                (click)="backToImprintList()">
                <span>Back to Imprints</span>
            </button>
        </div>
        <app-imprint-details class="w-full" [imprint]="editImprintObj"></app-imprint-details>
    </div>
</div>