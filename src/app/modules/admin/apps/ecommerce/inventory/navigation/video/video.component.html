<ngx-skeleton-loader count="8" appearance="line" animation="pulse" *ngIf="isLoading">
</ngx-skeleton-loader>
<div class="row" *ngIf="!isLoading">
    <div class="col-12 my-2">
        <fuse-card class="rounded-2xl shadow bg-card flex flex-col lg:flex-row w-full">
            <div class="p-6 sm:p-8 lg:p-10 w-full">
                <div class="text-2xl font-bold">
                    <button [matTooltip]="'Videos must be free from any vendor branding'">
                        <i class="fa fa-info-circle"></i>
                    </button>
                    Enter the embed URL for the video in the space below.
                </div>
                <!-- Add Video -->
                <div class="gap-y-4 mt-6">
                    <form [formGroup]="videoUploadForm">
                        <div class="row p-2">
                            <div class="col-12 text-secondary font-extrabold">
                                Total Videos: {{videosLength}}
                            </div>
                            <div class="col-12 text-secondary">
                                <p>
                                    - When the video service, such as Vimeo or Youtube, gives you the embed code, you
                                    will
                                    only
                                    want to enter the part of the code that is after the "src=" part that is in quotes.
                                    Entering
                                    the entire code below will not work
                                </p>
                            </div>
                            <div class="col-12 font-semibold">
                                Usually the video service will give you options for embedding a video. Make sure that
                                you select
                                any sort of "autorun" settting.
                            </div>
                            <div class="col-12">
                                <div class="font-semibold text-secondary">
                                    Play Button Image: (355px W by 209px H, JPG ONLY)
                                </div>
                                <input type="file" accept=".jpg" (change)="upload($event)" style="line-height: 2.5;" />
                                <div class="font-semibold text-secondary mt-2">Video URL</div>
                                <mat-form-field class="w-full">
                                    <input matInput [formControlName]="'video'">
                                    <mat-error>Please fill this field</mat-error>
                                </mat-form-field>
                            </div>
                            <div class="col-lg-2 col-12"></div>
                            <div class="col-lg-8 col-12 mt-2" *ngIf="videoLength > 0" style="height: 350px;">
                                <iframe [src]="url"
                                    style="width: -webkit-fill-available; height: -webkit-fill-available;"></iframe>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="flex items-center justify-end w-full">
                    <div class="flex items-center my-2">
                        <div class="flex items-center mr-4" *ngIf="flashMessage">
                            <ng-container *ngIf="flashMessage === 'success'">
                                <mat-icon class="text-green-500" [svgIcon]="'heroicons_outline:check'">
                                </mat-icon>
                                <span class="ml-2">Video updated successfully</span>
                            </ng-container>
                            <ng-container *ngIf="flashMessage === 'error'">
                                <mat-icon class="text-red-500" [svgIcon]="'heroicons_outline:x'"></mat-icon>
                                <span class="ml-2">An error occurred, try again!</span>
                            </ng-container>
                        </div>
                        <button class="min-w-40" mat-stroked-button
                            [matTooltip]="'Videos must be free from any vendor branding'" (click)="uploadImage()"
                            [disabled]="videoUpdateLoader">
                            <mat-progress-spinner *ngIf="videoUpdateLoader" [diameter]="24" [mode]="'indeterminate'">
                            </mat-progress-spinner>
                            <mat-icon *ngIf="!videoUpdateLoader" svgIcon="mode_edit_outline"></mat-icon>
                            <span *ngIf="!videoUpdateLoader" class="ml-1 mr-1">Update</span>
                        </button>
                    </div>
                </div>
            </div>
        </fuse-card>
    </div>
</div>