<div class="absolute inset-0 flex flex-col min-w-0 bg-card dark:bg-transparent" style="overflow-y: scroll;">

    <!-- Header -->
    <div class="relative flex flex-col sm:flex-row flex-0 sm:items-center sm:justify-between py-4 px-6 md:px-8 border-b">
        <!-- Loader -->
        <div
            class="absolute inset-x-0 bottom-0"
            *ngIf="isLoading">
            <mat-progress-bar [mode]="'indeterminate'"></mat-progress-bar>
        </div>
        <!-- Title -->
        <div class="text-4xl font-extrabold tracking-tight">Customer Details</div>
    </div>

    <div class="px-5 pt-2">
        <mat-card>
            <mat-card-subtitle class="text-2xl font-semibold">{{selectedTab}}</mat-card-subtitle>
            <mat-card-content>
                <mat-grid-list cols="{{breakpoint}}" rowHeight="60px" (window:resize)="onResize($event)">
                    <mat-grid-tile>
                        <mat-grid-tile-header>ID: </mat-grid-tile-header>
                        <mat-grid-tile-footer>{{selectedCustomer.id}}</mat-grid-tile-footer>
                    </mat-grid-tile>
                    <mat-grid-tile>
                        <mat-grid-tile-header>Name: </mat-grid-tile-header>
                        <mat-grid-tile-footer>{{selectedCustomer.firstname}} {{selectedCustomer.lastname}}</mat-grid-tile-footer>
                    </mat-grid-tile>
                    <mat-grid-tile>
                        <mat-grid-tile-header>Company: </mat-grid-tile-header>
                        <mat-grid-tile-footer>{{selectedCustomer.company}}</mat-grid-tile-footer>
                    </mat-grid-tile>
                    <mat-grid-tile>
                        <mat-grid-tile-header>Email: </mat-grid-tile-header>
                        <mat-grid-tile-footer>{{selectedCustomer.email}}</mat-grid-tile-footer>
                    </mat-grid-tile>
                    <mat-grid-tile>
                        <mat-grid-tile-header>Phone: </mat-grid-tile-header>
                        <mat-grid-tile-footer>03006548425</mat-grid-tile-footer>
                    </mat-grid-tile>
                    <mat-grid-tile>
                        <mat-grid-tile-header>Location: </mat-grid-tile-header>
                        <mat-grid-tile-footer>Main Campus - Consolidus</mat-grid-tile-footer>
                    </mat-grid-tile>
                    <mat-grid-tile>
                        <mat-grid-tile-header>Fax: </mat-grid-tile-header>
                        <mat-grid-tile-footer>N/A</mat-grid-tile-footer>
                    </mat-grid-tile>
                    <mat-grid-tile>
                        <mat-grid-tile-header>Program manager: </mat-grid-tile-header>
                        <mat-grid-tile-footer>Rhianne Smith</mat-grid-tile-footer>
                    </mat-grid-tile>
                    <mat-grid-tile>
                        <mat-grid-tile-header>Status: </mat-grid-tile-header>
                        <mat-grid-tile-footer>{{selectedCustomer.active ? "Active" : "Inactive"}}</mat-grid-tile-footer>
                    </mat-grid-tile>
                </mat-grid-list>
            </mat-card-content>
        </mat-card>
    </div>
    
    <!-- Main -->
    <div class="flex flex-auto mt-6">
        <mat-tab-group #tabGroup (selectedTabChange)="tabChanged($event)" style="overflow-x: scroll;">
            <mat-tab label="User Info">
                <div class="text-1xl font-semibold">General Information</div>
                <mat-divider></mat-divider>
                <form
                    class="flex flex-col w-full pt-2"
                    [formGroup]="selectedCustomerForm"
                >
                    <div class="flex pt-2">
                        <div class="flex flex-auto">
                            <div class="flex flex-col w-2/4 pl-8">

                                <!-- Email -->
                                <mat-form-field class="w-full">
                                    <mat-label>Email</mat-label>
                                    <input
                                        matInput
                                        [formControlName]="'email'">
                                </mat-form-field>

                                <!-- First Name and Last Name -->
                                <div class="flex">
                                    <mat-form-field class="w-full pr-2">
                                        <mat-label>First Name</mat-label>
                                        <input
                                            matInput
                                            [formControlName]="'firstname'">
                                    </mat-form-field>
                                    <mat-form-field class="w-full pl-2">
                                        <mat-label>Last Name</mat-label>
                                        <input
                                            matInput
                                            [formControlName]="'lastname'">
                                    </mat-form-field>
                                </div>

                                <!-- First Name and Last Name -->
                                <div class="flex">
                                    <mat-form-field class="w-full pr-2">
                                        <mat-label>Store</mat-label>
                                        <input
                                            matInput
                                            [formControlName]="'store'">
                                    </mat-form-field>
                                    <mat-form-field class="w-full pl-2">
                                        <mat-label>Company Name</mat-label>
                                        <input
                                            matInput
                                            [formControlName]="'company'">
                                    </mat-form-field>
                                </div>
                            </div>

                            <!-- Cost, Base price, Tax & Price -->
                            <div class="flex flex-col w-1/4 pl-8">
                                <mat-form-field class="w-full">
                                    <mat-label>Date Registered</mat-label>
                                    <input
                                        matInput
                                        [formControlName]="'dateregistered'">
                                </mat-form-field>
                                <mat-form-field class="w-full">
                                    <mat-label>Title</mat-label>
                                    <input
                                        matInput
                                        [formControlName]="'title'">
                                </mat-form-field>
                                <mat-form-field class="w-full">
                                    <mat-label>Fax</mat-label>
                                    <input
                                        matInput
                                        [formControlName]="'fax'">
                                </mat-form-field>
                            </div>

                            <!-- Weight & Tags -->
                            <div class="flex flex-col w-1/4 pl-8">
                                <mat-form-field class="w-full">
                                    <mat-label>IP Address</mat-label>
                                    <input
                                        matInput
                                        [formControlName]="'ipaddress'">
                                </mat-form-field>
                                <mat-form-field class="w-full">
                                    <mat-label>Department</mat-label>
                                    <input
                                        matInput
                                        [formControlName]="'department'">
                                </mat-form-field>
                                <mat-form-field class="w-full">
                                    <mat-label>Website</mat-label>
                                    <input
                                        matInput
                                        [formControlName]="'website'">
                                </mat-form-field>
                            </div>

                        </div>

                    </div>

                    <div class="flex items-center justify-between w-full border-t px-8 py-4">
                        <div class="flex items-center">
                            <div
                                class="flex items-center mr-4"
                                *ngIf="flashMessage">
                                <ng-container *ngIf="flashMessage === 'success'">
                                    <mat-icon
                                        class="text-green-500"
                                        [svgIcon]="'heroicons_outline:check'"></mat-icon>
                                    <span class="ml-2">Customer updated</span>
                                </ng-container>
                                <ng-container *ngIf="flashMessage === 'error'">
                                    <mat-icon
                                        class="text-red-500"
                                        [svgIcon]="'heroicons_outline:x'"></mat-icon>
                                    <span class="ml-2">An error occurred, try again!</span>
                                </ng-container>
                            </div>
                            <button
                                mat-flat-button
                                [color]="'primary'"
                                (click)="updateCustomerProduct()">
                                Update
                            </button>
                        </div>
                    </div>
                </form>
            </mat-tab>
            <mat-tab label="User Addresses">
                <app-user-address [currentSelectedCustomer]="selectedCustomer"></app-user-address>
            </mat-tab>
            <mat-tab label="User Metrics">
                <app-user-metrics [currentSelectedCustomer]="selectedCustomer"></app-user-metrics>
            </mat-tab>
            <mat-tab label="Credit Terms">
                <app-credit-terms [currentSelectedCustomer]="selectedCustomer"></app-credit-terms>
            </mat-tab>
            <mat-tab label="Credit Applications">
                <app-credit-applications [currentSelectedCustomer]="selectedCustomer"></app-credit-applications>
            </mat-tab>
            <mat-tab label="User Comments">
                <app-user-comments [currentSelectedCustomer]="selectedCustomer"></app-user-comments>
            </mat-tab>
            <mat-tab label="FLPS Users">FLPS Users</mat-tab>
            <mat-tab label="Locations">
                <app-user-locations [currentSelectedCustomer]="selectedCustomer"></app-user-locations>
            </mat-tab>
            <mat-tab label="Approval Contacts">
                <app-approval-contacts [currentSelectedCustomer]="selectedCustomer"></app-approval-contacts>
            </mat-tab>
            <mat-tab label="Reminders">Reminders</mat-tab>
            <mat-tab label="Order History">Order History</mat-tab>
            <mat-tab label="Fulfillment Orders">Fulfillment Orders</mat-tab>
            <mat-tab label="Saved Carts">Saved Carts</mat-tab>
            <mat-tab label="Quotes">Quotes</mat-tab>
            <mat-tab label="Group Orders">Group Orders</mat-tab>
            <mat-tab label="Logo Bank">Logo Bank</mat-tab>
            <mat-tab label="Cashback">Cashback</mat-tab>
            <mat-tab label="Store Usage">Store Usage</mat-tab>
            <mat-tab label="Send Registration Emails">Registration Emails</mat-tab>
        </mat-tab-group>
    </div>

</div>
